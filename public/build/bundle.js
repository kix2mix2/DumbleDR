var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(n)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function s(t,e,n){t.$$.on_destroy.push(u(e,n))}function l(t){return null==t?"":t}const c="undefined"!=typeof window;let f=c?()=>window.performance.now():()=>Date.now(),h=c?t=>requestAnimationFrame(t):t;const p=new Set;function d(t){p.forEach(e=>{e.c(t)||(p.delete(e),e.f())}),0!==p.size&&h(d)}function v(t){let e;return 0===p.size&&h(d),{promise:new Promise(n=>{p.add(e={c:t,f:n})}),abort(){p.delete(e)}}}function m(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function _(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function k(){return x(" ")}function j(){return x("")}function T(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function P(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function M(t,e){e=""+e,t.data!==e&&(t.data=e)}function I(t,e){t.value=null==e?"":e}function S(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function E(t,e,n){t.classList[n?"add":"remove"](e)}function $(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const C=new Set;let z,N=0;function O(t,e,n,r,i,o,a,u=0){const s=16.666/r;let l="{\n";for(let t=0;t<=1;t+=s){const r=e+(n-e)*o(t);l+=100*t+`%{${a(r,1-r)}}\n`}const c=l+`100% {${a(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${u}`,h=t.ownerDocument;C.add(h);const p=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(w("style")).sheet),d=h.__svelte_rules||(h.__svelte_rules={});d[f]||(d[f]=!0,p.insertRule(`@keyframes ${f} ${c}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?v+", ":""}${f} ${r}ms linear ${i}ms 1 both`,N+=1,f}function L(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),N-=i,N||h(()=>{N||(C.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),C.clear())}))}function q(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:r}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),i="none"===r.transform?"":r.transform;t.style.transform=`${i} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,i)}}function R(t){z=t}function D(){if(!z)throw new Error("Function called outside component initialization");return z}function B(t){D().$$.on_mount.push(t)}const H=[],U=[],W=[],F=[],Y=Promise.resolve();let V=!1;function K(t){W.push(t)}function G(t){F.push(t)}let X=!1;const Z=new Set;function J(){if(!X){X=!0;do{for(let t=0;t<H.length;t+=1){const e=H[t];R(e),Q(e.$$)}for(H.length=0;U.length;)U.pop()();for(let t=0;t<W.length;t+=1){const e=W[t];Z.has(e)||(Z.add(e),e())}W.length=0}while(H.length);for(;F.length;)F.pop()();V=!1,X=!1,Z.clear()}}function Q(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(K)}}let tt;function et(){return tt||(tt=Promise.resolve(),tt.then(()=>{tt=null})),tt}function nt(t,e,n){t.dispatchEvent($(`${e?"intro":"outro"}${n}`))}const rt=new Set;let it;function ot(){it={r:0,c:[],p:it}}function at(){it.r||i(it.c),it=it.p}function ut(t,e){t&&t.i&&(rt.delete(t),t.i(e))}function st(t,e,n,r){if(t&&t.o){if(rt.has(t))return;rt.add(t),it.c.push(()=>{rt.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const lt={duration:0};function ct(n,r,a,u){let s=r(n,a),l=u?0:1,c=null,h=null,p=null;function d(){p&&L(n,p)}function m(t,e){const n=t.b-l;return e*=Math.abs(n),{a:l,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(r){const{delay:o=0,duration:a=300,easing:u=e,tick:y=t,css:g}=s||lt,_={start:f()+o,b:r};r||(_.group=it,it.r+=1),c?h=_:(g&&(d(),p=O(n,l,r,a,o,u,g)),r&&y(0,1),c=m(_,a),K(()=>nt(n,r,"start")),v(t=>{if(h&&t>h.start&&(c=m(h,a),h=null,nt(n,c.b,"start"),g&&(d(),p=O(n,l,c.b,c.duration,0,u,s.css))),c)if(t>=c.end)y(l=c.b,1-l),nt(n,c.b,"end"),h||(c.b?d():--c.group.r||i(c.group.c)),c=null;else if(t>=c.start){const e=t-c.start;l=c.a+c.d*u(e/c.duration),y(l,1-l)}return!(!c&&!h)}))}return{run(t){o(s)?et().then(()=>{s=s(),y(t)}):y(t)},end(){d(),c=h=null}}}function ft(t,e){t.f(),function(t,e){st(t,1,1,()=>{e.delete(t.key)})}(t,e)}function ht(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function pt(t){t&&t.c()}function dt(t,e,r){const{fragment:a,on_mount:u,on_destroy:s,after_update:l}=t.$$;a&&a.m(e,r),K(()=>{const e=u.map(n).filter(o);s?s.push(...e):i(e),t.$$.on_mount=[]}),l.forEach(K)}function vt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function mt(t,e){-1===t.$$.dirty[0]&&(H.push(t),V||(V=!0,Y.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function yt(e,n,o,a,u,s,l=[-1]){const c=z;R(e);const f=n.props||{},h=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:u,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:r(),dirty:l};let p=!1;if(h.ctx=o?o(e,f,(t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&u(h.ctx[t],h.ctx[t]=i)&&(h.bound[t]&&h.bound[t](i),p&&mt(e,t)),n}):[],h.update(),p=!0,i(h.before_update),h.fragment=!!a&&a(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(g)}else h.fragment&&h.fragment.c();n.intro&&ut(e.$$.fragment),dt(e,n.target,n.anchor),J()}R(c)}class gt{$destroy(){vt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function _t(t){const e=t-1;return e*e*e+1}function wt(t){return--t*t*t*t*t+1}function bt(t,{delay:n=0,duration:r=400,easing:i=e}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*o}}function xt(t,{delay:e=0,duration:n=400,easing:r=_t,x:i=0,y:o=0,opacity:a=0}){const u=getComputedStyle(t),s=+u.opacity,l="none"===u.transform?"":u.transform,c=s*(1-a);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*i}px, ${(1-t)*o}px);\n\t\t\topacity: ${s-c*e}`}}function kt(t,{delay:e=0,duration:n=400,easing:r=_t,start:i=0,opacity:o=0}){const a=getComputedStyle(t),u=+a.opacity,s="none"===a.transform?"":a.transform,l=1-i,c=u*(1-o);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${s} scale(${1-l*e});\n\t\t\topacity: ${u-c*e}\n\t\t`}}const jt=[];function Tt(t,e){return{subscribe:At(t,e).subscribe}}function At(e,n=t){let r;const i=[];function o(t){if(a(e,t)&&(e=t,r)){const t=!jt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),jt.push(n,e)}if(t){for(let t=0;t<jt.length;t+=2)jt[t][0](jt[t+1]);jt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,u=t){const s=[a,u];return i.push(s),1===i.length&&(r=n(o)||t),a(e),()=>{const t=i.indexOf(s);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Pt(e,n,r){const a=!Array.isArray(e),s=a?[e]:e,l=n.length<2;return Tt(r,e=>{let r=!1;const c=[];let f=0,h=t;const p=()=>{if(f)return;h();const r=n(a?c[0]:c,e);l?e(r):h=o(r)?r:t},d=s.map((t,e)=>u(t,t=>{c[e]=t,f&=~(1<<e),r&&p()},()=>{f|=1<<e}));return r=!0,p(),function(){i(d),h()}})}function Mt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var It,St,Et=(1===(It=Mt).length&&(St=It,It=function(t,e){return Mt(St(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;It(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;It(t[i],e)>0?r=i:n=i+1}return n}}).right;function $t(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var Ct=Math.sqrt(50),zt=Math.sqrt(10),Nt=Math.sqrt(2);function Ot(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ct?10:o>=zt?5:o>=Nt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ct?10:o>=zt?5:o>=Nt?2:1)}var Lt={value:function(){}};function qt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Rt(r)}function Rt(t){this._=t}function Dt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Bt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Ht(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Lt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Rt.prototype=qt.prototype={constructor:Rt,on:function(t,e){var n,r=this._,i=Dt(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Ht(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Ht(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Bt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Rt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Ut="http://www.w3.org/1999/xhtml",Wt={svg:"http://www.w3.org/2000/svg",xhtml:Ut,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ft(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Wt.hasOwnProperty(e)?{space:Wt[e],local:t}:t}function Yt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ut&&e.documentElement.namespaceURI===Ut?e.createElement(t):e.createElementNS(n,t)}}function Vt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Kt(t){var e=Ft(t);return(e.local?Vt:Yt)(e)}function Gt(){}function Xt(t){return null==t?Gt:function(){return this.querySelector(t)}}function Zt(){return[]}function Jt(t){return null==t?Zt:function(){return this.querySelectorAll(t)}}function Qt(t){return function(){return this.matches(t)}}function te(t){return new Array(t.length)}function ee(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ee.prototype={constructor:ee,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ne(t,e,n,r,i,o){for(var a,u=0,s=e.length,l=o.length;u<l;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new ee(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function re(t,e,n,r,i,o,a){var u,s,l,c={},f=e.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=e[u])&&(p[u]=l="$"+a.call(s,s.__data__,u,e),l in c?i[u]=s:c[l]=s);for(u=0;u<h;++u)(s=c[l="$"+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],c[l]=null):n[u]=new ee(t,o[u]);for(u=0;u<f;++u)(s=e[u])&&c[p[u]]===s&&(i[u]=s)}function ie(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function oe(t){return function(){this.removeAttribute(t)}}function ae(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ue(t,e){return function(){this.setAttribute(t,e)}}function se(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function le(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ce(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function fe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function he(t){return function(){this.style.removeProperty(t)}}function pe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function de(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ve(t,e){return t.style.getPropertyValue(e)||fe(t).getComputedStyle(t,null).getPropertyValue(e)}function me(t){return function(){delete this[t]}}function ye(t,e){return function(){this[t]=e}}function ge(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function _e(t){return t.trim().split(/^|\s+/)}function we(t){return t.classList||new be(t)}function be(t){this._node=t,this._names=_e(t.getAttribute("class")||"")}function xe(t,e){for(var n=we(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ke(t,e){for(var n=we(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function je(t){return function(){xe(this,t)}}function Te(t){return function(){ke(this,t)}}function Ae(t,e){return function(){(e.apply(this,arguments)?xe:ke)(this,t)}}function Pe(){this.textContent=""}function Me(t){return function(){this.textContent=t}}function Ie(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Se(){this.innerHTML=""}function Ee(t){return function(){this.innerHTML=t}}function $e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ce(){this.nextSibling&&this.parentNode.appendChild(this)}function ze(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ne(){return null}function Oe(){var t=this.parentNode;t&&t.removeChild(this)}function Le(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function qe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}be.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Re={},De=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Re={mouseenter:"mouseover",mouseleave:"mouseout"}));function Be(t,e,n){return t=He(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function He(t,e,n){return function(r){var i=De;De=r;try{t.call(this,this.__data__,e,n)}finally{De=i}}}function Ue(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function We(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Fe(t,e,n){var r=Re.hasOwnProperty(t.type)?Be:He;return function(i,o,a){var u,s=this.__on,l=r(e,o,a);if(s)for(var c=0,f=s.length;c<f;++c)if((u=s[c]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=n),void(u.value=e);this.addEventListener(t.type,l,n),u={type:t.type,name:t.name,value:e,listener:l,capture:n},s?s.push(u):this.__on=[u]}}function Ye(t,e,n){var r=fe(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ve(t,e){return function(){return Ye(this,t,e)}}function Ke(t,e){return function(){return Ye(this,t,e.apply(this,arguments))}}var Ge=[null];function Xe(t,e){this._groups=t,this._parents=e}function Ze(){return new Xe([[document.documentElement]],Ge)}function Je(t){return"string"==typeof t?new Xe([[document.querySelector(t)]],[document.documentElement]):new Xe([[t]],Ge)}function Qe(){for(var t,e=De;t=e.sourceEvent;)e=t;return e}function tn(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function en(t){var e=Qe();return e.changedTouches&&(e=e.changedTouches[0]),tn(t,e)}function nn(t,e,n){arguments.length<3&&(n=e,e=Qe().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return tn(t,r);return null}function rn(){De.preventDefault(),De.stopImmediatePropagation()}function on(t){var e=t.document.documentElement,n=Je(t).on("dragstart.drag",rn,!0);"onselectstart"in e?n.on("selectstart.drag",rn,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function an(t,e){var n=t.document.documentElement,r=Je(t).on("dragstart.drag",null);e&&(r.on("click.drag",rn,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function un(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function sn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ln(){}Xe.prototype=Ze.prototype={constructor:Xe,select:function(t){"function"!=typeof t&&(t=Xt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=u[c])&&(a=t.call(o,o.__data__,c,u))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Xe(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Jt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],s=u.length,l=0;l<s;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new Xe(r,i)},filter:function(t){"function"!=typeof t&&(t=Qt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new Xe(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var n,r=e?re:ne,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,u=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],p=h.length,d=t.call(f,f&&f.__data__,c,i),v=d.length,m=s[c]=new Array(v),y=u[c]=new Array(v);r(f,h,m,y,l[c]=new Array(p),d,e);for(var g,_,w=0,b=0;w<v;++w)if(g=m[w]){for(w>=b&&(b=w+1);!(_=y[b])&&++b<v;);g._next=_||null}}return(u=new Xe(u,i))._enter=s,u._exit=l,u},enter:function(){return new Xe(this._enter||this._groups.map(te),this._parents)},exit:function(){return new Xe(this._exit||this._groups.map(te),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=e[u],c=n[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;u<r;++u)a[u]=e[u];return new Xe(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ie);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],s=u.length,l=i[o]=new Array(s),c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(e)}return new Xe(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ft(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ae:oe:"function"==typeof e?n.local?ce:le:n.local?se:ue)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?he:"function"==typeof e?de:pe)(t,e,null==n?"":n)):ve(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?me:"function"==typeof e?ge:ye)(t,e)):this.node()[t]},classed:function(t,e){var n=_e(t+"");if(arguments.length<2){for(var r=we(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Ae:e?je:Te)(n,e))},text:function(t){return arguments.length?this.each(null==t?Pe:("function"==typeof t?Ie:Me)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Se:("function"==typeof t?$e:Ee)(t)):this.node().innerHTML},raise:function(){return this.each(Ce)},lower:function(){return this.each(ze)},append:function(t){var e="function"==typeof t?t:Kt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Kt(t),r=null==e?Ne:"function"==typeof e?e:Xt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Oe)},clone:function(t){return this.select(t?qe:Le)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Ue(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?Fe:We,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ke:Ve)(t,e))}};var cn="\\s*([+-]?\\d+)\\s*",fn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pn=/^#([0-9a-f]{3,8})$/,dn=new RegExp("^rgb\\("+[cn,cn,cn]+"\\)$"),vn=new RegExp("^rgb\\("+[hn,hn,hn]+"\\)$"),mn=new RegExp("^rgba\\("+[cn,cn,cn,fn]+"\\)$"),yn=new RegExp("^rgba\\("+[hn,hn,hn,fn]+"\\)$"),gn=new RegExp("^hsl\\("+[fn,hn,hn]+"\\)$"),_n=new RegExp("^hsla\\("+[fn,hn,hn,fn]+"\\)$"),wn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function bn(){return this.rgb().formatHex()}function xn(){return this.rgb().formatRgb()}function kn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?jn(e):3===n?new Mn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Tn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Tn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=dn.exec(t))?new Mn(e[1],e[2],e[3],1):(e=vn.exec(t))?new Mn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=mn.exec(t))?Tn(e[1],e[2],e[3],e[4]):(e=yn.exec(t))?Tn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=gn.exec(t))?$n(e[1],e[2]/100,e[3]/100,1):(e=_n.exec(t))?$n(e[1],e[2]/100,e[3]/100,e[4]):wn.hasOwnProperty(t)?jn(wn[t]):"transparent"===t?new Mn(NaN,NaN,NaN,0):null}function jn(t){return new Mn(t>>16&255,t>>8&255,255&t,1)}function Tn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mn(t,e,n,r)}function An(t){return t instanceof ln||(t=kn(t)),t?new Mn((t=t.rgb()).r,t.g,t.b,t.opacity):new Mn}function Pn(t,e,n,r){return 1===arguments.length?An(t):new Mn(t,e,n,null==r?1:r)}function Mn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function In(){return"#"+En(this.r)+En(this.g)+En(this.b)}function Sn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function En(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function $n(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zn(t,e,n,r)}function Cn(t){if(t instanceof zn)return new zn(t.h,t.s,t.l,t.opacity);if(t instanceof ln||(t=kn(t)),!t)return new zn;if(t instanceof zn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new zn(a,u,s,t.opacity)}function zn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Nn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function On(t){return function(){return t}}function Ln(t){return 1==(t=+t)?qn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):On(isNaN(e)?n:e)}}function qn(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):On(isNaN(t)?e:t)}un(ln,kn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:bn,formatHex:bn,formatHsl:function(){return Cn(this).formatHsl()},formatRgb:xn,toString:xn}),un(Mn,Pn,sn(ln,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:In,formatHex:In,formatRgb:Sn,toString:Sn})),un(zn,(function(t,e,n,r){return 1===arguments.length?Cn(t):new zn(t,e,n,null==r?1:r)}),sn(ln,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new zn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new zn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Mn(Nn(t>=240?t-240:t+120,i,r),Nn(t,i,r),Nn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Rn=function t(e){var n=Ln(e);function r(t,e){var r=n((t=Pn(t)).r,(e=Pn(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=qn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Dn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Bn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Kn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Hn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Un(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Wn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Kn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Fn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yn=new RegExp(Fn.source,"g");function Vn(t,e){var n,r,i,o=Fn.lastIndex=Yn.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=Fn.exec(t))&&(r=Yn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:Un(n,r)})),o=Yn.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}function Kn(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?On(e):("number"===i?Un:"string"===i?(n=kn(e))?(e=n,Rn):Vn:e instanceof kn?Rn:e instanceof Date?Hn:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Bn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Wn:Un:Dn))(t,e)}function Gn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Xn,Zn,Jn,Qn,tr=180/Math.PI,er={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nr(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*tr,skewX:Math.atan(s)*tr,scaleX:a,scaleY:u}}function rr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:Un(t,i)},{i:s-2,x:Un(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Un(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,u,s),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Un(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,u,s),function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Un(t,n)},{i:u-2,x:Un(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var e,n=-1,r=s.length;++n<r;)u[(e=s[n]).i]=e.x(t);return u.join("")}}}var ir=rr((function(t){return"none"===t?er:(Xn||(Xn=document.createElement("DIV"),Zn=document.documentElement,Jn=document.defaultView),Xn.style.transform=t,t=Jn.getComputedStyle(Zn.appendChild(Xn),null).getPropertyValue("transform"),Zn.removeChild(Xn),nr(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),or=rr((function(t){return null==t?er:(Qn||(Qn=document.createElementNS("http://www.w3.org/2000/svg","g")),Qn.setAttribute("transform",t),(t=Qn.transform.baseVal.consolidate())?nr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):er)}),", ",")",")"),ar=Math.SQRT2;function ur(t){return((t=Math.exp(t))+1/t)/2}function sr(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],s=e[1],l=e[2],c=u-i,f=s-o,h=c*c+f*f;if(h<1e-12)r=Math.log(l/a)/ar,n=function(t){return[i+t*c,o+t*f,a*Math.exp(ar*t*r)]};else{var p=Math.sqrt(h),d=(l*l-a*a+4*h)/(2*a*2*p),v=(l*l-a*a-4*h)/(2*l*2*p),m=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-m)/ar,n=function(t){var e,n=t*r,u=ur(m),s=a/(2*p)*(u*(e=ar*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+s*c,o+s*f,a*u/ur(ar*n+m)]}}return n.duration=1e3*r,n}var lr,cr,fr=0,hr=0,pr=0,dr=0,vr=0,mr=0,yr="object"==typeof performance&&performance.now?performance:Date,gr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _r(){return vr||(gr(wr),vr=yr.now()+mr)}function wr(){vr=0}function br(){this._call=this._time=this._next=null}function xr(t,e,n){var r=new br;return r.restart(t,e,n),r}function kr(){vr=(dr=yr.now())+mr,fr=hr=0;try{!function(){_r(),++fr;for(var t,e=lr;e;)(t=vr-e._time)>=0&&e._call.call(null,t),e=e._next;--fr}()}finally{fr=0,function(){var t,e,n=lr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:lr=e);cr=t,Tr(r)}(),vr=0}}function jr(){var t=yr.now(),e=t-dr;e>1e3&&(mr-=e,dr=t)}function Tr(t){fr||(hr&&(hr=clearTimeout(hr)),t-vr>24?(t<1/0&&(hr=setTimeout(kr,t-yr.now()-mr)),pr&&(pr=clearInterval(pr))):(pr||(dr=yr.now(),pr=setInterval(jr,1e3)),fr=1,gr(kr)))}function Ar(t,e,n){var r=new br;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}br.prototype=xr.prototype={constructor:br,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?_r():+n)+(null==e?0:+e),this._next||cr===this||(cr?cr._next=this:lr=this,cr=this),this._call=t,this._time=n,Tr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tr())}};var Pr=qt("start","end","cancel","interrupt"),Mr=[];function Ir(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(s){var l,c,f,h;if(1!==n.state)return u();for(l in i)if((h=i[l]).name===n.name){if(3===h.state)return Ar(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(Ar((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(s))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=xr((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Pr,tween:Mr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Sr(t,e){var n=$r(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Er(t,e){var n=$r(t,e);if(n.state>3)throw new Error("too late; already running");return n}function $r(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Cr(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function zr(t,e){var n,r;return function(){var i=Er(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Nr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Er(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},s=0,l=i.length;s<l;++s)if(i[s].name===e){i[s]=u;break}s===l&&i.push(u)}o.tween=i}}function Or(t,e,n){var r=t._id;return t.each((function(){var t=Er(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return $r(t,r).value[e]}}function Lr(t,e){var n;return("number"==typeof e?Un:e instanceof kn?Rn:(n=kn(e))?(e=n,Rn):Vn)(t,e)}function qr(t){return function(){this.removeAttribute(t)}}function Rr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Dr(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Br(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Hr(t,e,n){var r,i,o;return function(){var a,u,s=n(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,s));this.removeAttribute(t)}}function Ur(t,e,n){var r,i,o;return function(){var a,u,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,s));this.removeAttributeNS(t.space,t.local)}}function Wr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Fr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Yr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Fr(t,i)),n}return i._value=e,i}function Vr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Wr(t,i)),n}return i._value=e,i}function Kr(t,e){return function(){Sr(this,t).delay=+e.apply(this,arguments)}}function Gr(t,e){return e=+e,function(){Sr(this,t).delay=e}}function Xr(t,e){return function(){Er(this,t).duration=+e.apply(this,arguments)}}function Zr(t,e){return e=+e,function(){Er(this,t).duration=e}}function Jr(t,e){if("function"!=typeof e)throw new Error;return function(){Er(this,t).ease=e}}function Qr(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Sr:Er;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}var ti=Ze.prototype.constructor;function ei(t){return function(){this.style.removeProperty(t)}}function ni(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ri(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&ni(t,o,n)),r}return o._value=e,o}function ii(t){return function(e){this.textContent=t.call(this,e)}}function oi(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&ii(r)),e}return r._value=t,r}var ai=0;function ui(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function si(){return++ai}var li=Ze.prototype;ui.prototype=function(t){return Ze().transition(t)}.prototype={constructor:ui,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Xt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,l=r[a],c=l.length,f=o[a]=new Array(c),h=0;h<c;++h)(u=l[h])&&(s=t.call(u,u.__data__,h,l))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,Ir(f[h],e,n,h,f,$r(u,n)));return new ui(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Jt(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,p=t.call(s,s.__data__,f,l),d=$r(s,n),v=0,m=p.length;v<m;++v)(h=p[v])&&Ir(h,e,n,v,p,d);o.push(p),a.push(s)}return new ui(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=Qt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new ui(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=e[u],c=n[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;u<r;++u)a[u]=e[u];return new ui(a,this._parents,this._name,this._id)},selection:function(){return new ti(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=si(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)if(a=u[l]){var c=$r(a,e);Ir(a,t,n,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ui(r,this._parents,t,n)},call:li.call,nodes:li.nodes,node:li.node,size:li.size,empty:li.empty,each:li.each,on:function(t,e){var n=this._id;return arguments.length<2?$r(this.node(),n).on.on(t):this.each(Qr(n,t,e))},attr:function(t,e){var n=Ft(t),r="transform"===n?or:Lr;return this.attrTween(t,"function"==typeof e?(n.local?Ur:Hr)(n,r,Or(this,"attr."+t,e)):null==e?(n.local?Rr:qr)(n):(n.local?Br:Dr)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ft(t);return this.tween(n,(r.local?Yr:Vr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?ir:Lr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=ve(this,t),a=(this.style.removeProperty(t),ve(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,ei(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=ve(this,t),u=n(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=ve(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,u))}}(t,r,Or(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,u="end."+a;return function(){var s=Er(this,t),l=s.on,c=null==s.value[a]?o||(o=ei(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=ve(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,ri(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Or(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,oi(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=$r(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?zr:Nr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Kr:Gr)(e,t)):$r(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Xr:Zr)(e,t)):$r(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Jr(e,t)):$r(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};n.each((function(){var n=Er(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(s)),n.on=e}))}))}};var ci={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function fi(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ci.time=_r(),ci;return n}Ze.prototype.interrupt=function(t){return this.each((function(){Cr(this,t)}))},Ze.prototype.transition=function(t){var e,n;t instanceof ui?(e=t._id,t=t._name):(e=si(),(n=ci).time=_r(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)(a=u[l])&&Ir(a,t,e,l,u,n||fi(a,e));return new ui(r,this._parents,t,e)};function hi(){}function pi(t,e){var n=new hi;if(t instanceof hi)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function di(){}hi.prototype=pi.prototype={constructor:hi,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var vi=pi.prototype;di.prototype=function(t,e){var n=new di;if(t instanceof di)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:di,has:vi.has,add:function(t){return this["$"+(t+="")]=t,this},remove:vi.remove,clear:vi.clear,values:vi.keys,size:vi.size,empty:vi.empty,each:vi.each};var mi={},yi={};function gi(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function _i(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function wi(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function bi(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+wi(-e,6):e>9999?"+"+wi(e,6):wi(e,4))+"-"+wi(t.getUTCMonth()+1,2)+"-"+wi(t.getUTCDate(),2)+(o?"T"+wi(n,2)+":"+wi(r,2)+":"+wi(i,2)+"."+wi(o,3)+"Z":i?"T"+wi(n,2)+":"+wi(r,2)+":"+wi(i,2)+"Z":r||n?"T"+wi(n,2)+":"+wi(r,2)+"Z":"")}var xi=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,u=0,s=o<=0,l=!1;function c(){if(s)return yi;if(l)return l=!1,mi;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==yi;){for(var f=[];r!==mi&&r!==yi;)f.push(r),r=c();e&&null==(f=e(f,u++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?bi(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=gi(t);return function(r,i){return e(n(r),i,t)}}(t,e):gi(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=_i(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=_i(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(",").parse;function ki(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ji(t,e){return fetch(t,e).then(ki)}var Ti,Ai=(Ti=xi,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),ji(t,e).then((function(t){return Ti(t,n)}))});function Pi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Mi(t){return(t=Pi(Math.abs(t)))?t[1]:NaN}var Ii,Si=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ei(t){if(!(e=Si.exec(t)))throw new Error("invalid format: "+t);var e;return new $i({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function $i(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ci(t,e){var n=Pi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ei.prototype=$i.prototype,$i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var zi={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ci(100*t,e)},r:Ci,s:function(t,e){var n=Pi(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ii=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Pi(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ni(t){return t}var Oi,Li,qi,Ri=Array.prototype.map,Di=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Bi(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ni:(e=Ri.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Ni:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ri.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Ei(t)).fill,n=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,v=t.comma,m=t.precision,y=t.trim,g=t.type;"n"===g?(v=!0,g="g"):zi[g]||(void 0===m&&(m=12),y=!0,g="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var _="$"===h?i:"#"===h&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",w="$"===h?o:/[%p]/.test(g)?s:"",b=zi[g],x=/[defgprs%]/.test(g);function k(t){var i,o,s,h=_,k=w;if("c"===g)k=b(t)+k,t="";else{var j=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:b(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),j&&0==+t&&"+"!==f&&(j=!1),h=(j?"("===f?f:l:"-"===f||"("===f?"":f)+h,k=("s"===g?Di[8+Ii/3]:"")+k+(j&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){k=(46===s?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}v&&!p&&(t=r(t,1/0));var T=h.length+t.length+k.length,A=T<d?new Array(d-T+1).join(e):"";switch(v&&p&&(t=r(A+t,A.length?d-k.length:1/0),A=""),n){case"<":t=h+t+k+A;break;case"=":t=h+A+t+k;break;case"^":t=A.slice(0,T=A.length>>1)+h+t+k+A.slice(T);break;default:t=A+h+t+k}return u(t)}return m=void 0===m?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,e){var n=f(((t=Ei(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Mi(e)/3))),i=Math.pow(10,-r),o=Di[8+r/3];return function(t){return n(i*t)+o}}}}function Hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}Oi=Bi({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Li=Oi.format,qi=Oi.formatPrefix;var Ui=Array.prototype,Wi=Ui.map,Fi=Ui.slice,Yi={name:"implicit"};function Vi(t){return+t}var Ki=[0,1];function Gi(t){return t}function Xi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Zi(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Ji(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Xi(i,r),o=n(a,o)):(r=Xi(r,i),o=n(o,a)),function(t){return o(r(t))}}function Qi(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Xi(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Et(t,e,1,r)-1;return o[n](i[n](e))}}function to(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function eo(t,e){return function(){var t,e,n,r,i,o,a=Ki,u=Ki,s=Kn,l=Gi;function c(){return r=Math.min(a.length,u.length)>2?Qi:Ji,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),u,s)))(t(l(e)))}return f.invert=function(n){return l(e((o||(o=r(u,a.map(t),Un)))(n)))},f.domain=function(t){return arguments.length?(a=Wi.call(t,Vi),l===Gi||(l=Zi(a)),c()):a.slice()},f.range=function(t){return arguments.length?(u=Fi.call(t),c()):u.slice()},f.rangeRound=function(t){return u=Fi.call(t),s=Gn,c()},f.clamp=function(t){return arguments.length?(l=t?Zi(a):Gi,f):l!==Gi},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}()(t,e)}function no(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ct?i*=10:o>=zt?i*=5:o>=Nt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Ei(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Mi(e)/3)))-Mi(Math.abs(t)))}(o,a))||(r.precision=i),qi(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Mi(e)-Mi(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Mi(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Li(r)}function ro(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Ot(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return no(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,u=i[o],s=i[a];return s<u&&(r=u,u=s,s=r,r=o,o=a,a=r),(r=Ot(u,s,n))>0?r=Ot(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,n):r<0&&(r=Ot(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,n)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(s/r)*r,e(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(s*r)/r,e(i)),t},t}function io(){var t=eo(Gi,Gi);return t.copy=function(){return to(t,io())},Hi.apply(t,arguments),ro(t)}var oo=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");function ao(t){return function(){return t}}function uo(t,e,n){this.target=t,this.type=e,this.transform=n}function so(t,e,n){this.k=t,this.x=e,this.y=n}so.prototype={constructor:so,scale:function(t){return 1===t?this:new so(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new so(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var lo=new so(1,0,0);function co(){De.stopImmediatePropagation()}function fo(){De.preventDefault(),De.stopImmediatePropagation()}function ho(){return!De.ctrlKey&&!De.button}function po(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function vo(){return this.__zoom||lo}function mo(){return-De.deltaY*(1===De.deltaMode?.05:De.deltaMode?1:.002)}function yo(){return navigator.maxTouchPoints||"ontouchstart"in this}function go(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function _o(){var t,e,n=ho,r=po,i=go,o=mo,a=yo,u=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,c=sr,f=qt("start","zoom","end"),h=0;function p(t){t.property("__zoom",vo).on("wheel.zoom",w).on("mousedown.zoom",b).on("dblclick.zoom",x).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new so(e,t.x,t.y)}function v(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new so(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,e,n){t.on("start.zoom",(function(){g(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){g(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=g(t,i),a=r.apply(t,i),u=null==n?m(a):"function"==typeof n?n.apply(t,i):n,s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,f="function"==typeof e?e.apply(t,i):e,h=c(l.invert(u).concat(s/l.k),f.invert(u).concat(s/f.k));return function(t){if(1===t)t=f;else{var e=h(t),n=s/e[2];t=new so(n,u[0]-e[0]*n,u[1]-e[1]*n)}o.zoom(null,t)}}))}function g(t,e,n){return!n&&t.__zooming||new _(t,e)}function _(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function w(){if(n.apply(this,arguments)){var t=g(this,arguments),e=this.__zoom,r=Math.max(u[0],Math.min(u[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=en(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],Cr(this),t.start()}fo(),t.wheel=setTimeout(l,150),t.zoom("mouse",i(v(d(e,r),t.mouse[0],t.mouse[1]),t.extent,s))}function l(){t.wheel=null,t.end()}}function b(){if(!e&&n.apply(this,arguments)){var t=g(this,arguments,!0),r=Je(De.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",c,!0),o=en(this),a=De.clientX,u=De.clientY;on(De.view),co(),t.mouse=[o,this.__zoom.invert(o)],Cr(this),t.start()}function l(){if(fo(),!t.moved){var e=De.clientX-a,n=De.clientY-u;t.moved=e*e+n*n>h}t.zoom("mouse",i(v(t.that.__zoom,t.mouse[0]=en(t.that),t.mouse[1]),t.extent,s))}function c(){r.on("mousemove.zoom mouseup.zoom",null),an(De.view,t.moved),fo(),t.end()}}function x(){if(n.apply(this,arguments)){var t=this.__zoom,e=en(this),o=t.invert(e),a=t.k*(De.shiftKey?.5:2),u=i(v(d(t,a),e,o),r.apply(this,arguments),s);fo(),l>0?Je(this).transition().duration(l).call(y,u,e):Je(this).call(p.transform,u)}}function k(){if(n.apply(this,arguments)){var e,r,i,o,a=De.touches,u=a.length,s=g(this,arguments,De.changedTouches.length===u);for(co(),r=0;r<u;++r)o=[o=nn(this,a,(i=a[r]).identifier),this.__zoom.invert(o),i.identifier],s.touch0?s.touch1||s.touch0[2]===o[2]||(s.touch1=o,s.taps=0):(s.touch0=o,e=!0,s.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(s.taps<2&&(t=setTimeout((function(){t=null}),500)),Cr(this),s.start())}}function j(){if(this.__zooming){var e,n,r,o,a=g(this,arguments),u=De.changedTouches,l=u.length;for(fo(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<l;++e)r=nn(this,u,(n=u[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var c=a.touch0[0],f=a.touch0[1],h=a.touch1[0],p=a.touch1[1],m=(m=h[0]-c[0])*m+(m=h[1]-c[1])*m,y=(y=p[0]-f[0])*y+(y=p[1]-f[1])*y;n=d(n,Math.sqrt(m/y)),r=[(c[0]+h[0])/2,(c[1]+h[1])/2],o=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(v(n,r,o),a.extent,s))}}function T(){if(this.__zooming){var t,n,r=g(this,arguments),i=De.changedTouches,o=i.length;for(co(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Je(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return p.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",vo),t!==r?y(t,e,n):r.interrupt().each((function(){g(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},p.scaleBy=function(t,e,n){p.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},p.scaleTo=function(t,e,n){p.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==n?m(t):"function"==typeof n?n.apply(this,arguments):n,u=o.invert(a),l="function"==typeof e?e.apply(this,arguments):e;return i(v(d(o,l),a,u),t,s)}),n)},p.translateBy=function(t,e,n){p.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),s)}))},p.translateTo=function(t,e,n,o){p.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,u=null==o?m(t):"function"==typeof o?o.apply(this,arguments):o;return i(lo.translate(u[0],u[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,s)}),o)},_.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,e,n,r){var i=De;t.sourceEvent=De,De=t;try{e.apply(n,r)}finally{De=i}}(new uo(p,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},p.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:ao(+t),p):o},p.filter=function(t){return arguments.length?(n="function"==typeof t?t:ao(!!t),p):n},p.touchable=function(t){return arguments.length?(a="function"==typeof t?t:ao(!!t),p):a},p.extent=function(t){return arguments.length?(r="function"==typeof t?t:ao([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):r},p.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],p):[u[0],u[1]]},p.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(t){return arguments.length?(i=t,p):i},p.duration=function(t){return arguments.length?(l=+t,p):l},p.interpolate=function(t){return arguments.length?(c=t,p):c},p.on=function(){var t=f.on.apply(f,arguments);return t===f?p:t},p.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,p):Math.sqrt(h)},p}function wo(t){const{subscribe:e,set:n,update:r}=At(t);return{subscribe:e,increment:()=>r(t=>t+1),decrement:()=>r(t=>t-1),reset:()=>n(0),set:t=>n(t)}}const bo=wo(10),xo=wo(10),ko=function(t){const{subscribe:e,set:n,update:r}=At({projections:[],images:[],dataset:null,hover:null,sort_time:[],color_time:[],image_time:[]});return{subscribe:e,set_hover:t=>r(e=>(e.hover=t,e)),load:(t,e,n)=>r(r=>(bo.set(15),xo.set(10),zo.set("image"),r.ready=!1,r.dataset=n,r.sort_time=[],r.color_time=[],r.image_time=[],No.reset(),Promise.all(e.map(t=>Ai(`data/${n}/human_sample_mini/${t}`).then(async t=>(No.increment(),t)))).then(n=>{n.forEach((t,n)=>t.name=e[n]),t.set_projections(n)}),r)),set_projections:t=>r(e=>(e.projections=t.map((t,e)=>{let n=t.map((e,n)=>({x:+e[t.columns[0]],y:+e[t.columns[1]],class:e.labels,img:e.filename}));return n.name=t.name,n.pos_count=0,n.neg_count=0,n.comment="",n.click_enlarge=[performance.now()],n.position=e,n.star_time=[],n}),e.images=t[0].map(t=>t.filename),e.ready=!0,e)),sort_by_pos:()=>r(t=>{const e=t.projections.sort((t,e)=>function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}(t.pos_count-t.neg_count,e.pos_count-e.neg_count));return t.sort_time.push(performance.now()),t.projections=e,t})}}(),jo=Pt(ko,t=>t.images),To=Pt(ko,t=>t.ready),Ao=Pt(ko,t=>t.projections||[]),Po=Pt(ko,t=>t.hover),Mo=Pt(ko,t=>t.dataset),Io=Pt(ko,t=>t.sort_time),So=Pt(ko,t=>t.color_time),Eo=Pt(ko,t=>t.image_time);let $o=Tt(function t(){var e=pi(),n=[],r=[],i=Yi;function o(t){var o=t+"",a=e.get(o);if(!a){if(i!==Yi)return i;e.set(o,a=n.push(t))}return r[(a-1)%r.length]}return o.domain=function(t){if(!arguments.length)return n.slice();n=[],e=pi();for(var r,i,a=-1,u=t.length;++a<u;)e.has(i=(r=t[a])+"")||e.set(i,n.push(r));return o},o.range=function(t){return arguments.length?(r=Fi.call(t),o):r.slice()},o.unknown=function(t){return arguments.length?(i=t,o):i},o.copy=function(){return t(n,r).unknown(i)},Hi.apply(o,arguments),o}(oo)),Co=Tt(io().domain([-10,0,10]).range(["green","white","orangered"]));const zo=At("image"),No=wo(0),Oo=Math.pow(2,-52),Lo=new Uint32Array(512);class qo{static from(t,e=Yo,n=Vo){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new qo(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,u=1/0,s=-1/0,l=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<a&&(a=n),r<u&&(u=r),n>s&&(s=n),r>l&&(l=r),this._ids[e]=e}const c=(a+s)/2,f=(u+l)/2;let h,p,d,v=1/0;for(let e=0;e<o;e++){const n=Ro(c,f,t[2*e],t[2*e+1]);n<v&&(h=e,v=n)}const m=t[2*h],y=t[2*h+1];v=1/0;for(let e=0;e<o;e++){if(e===h)continue;const n=Ro(m,y,t[2*e],t[2*e+1]);n<v&&n>0&&(p=e,v=n)}let g=t[2*p],_=t[2*p+1],w=1/0;for(let e=0;e<o;e++){if(e===h||e===p)continue;const n=Uo(m,y,g,_,t[2*e],t[2*e+1]);n<w&&(d=e,w=n)}let b=t[2*d],x=t[2*d+1];if(w===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];Wo(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Bo(m,y,g,_,b,x)){const t=p,e=g,n=_;p=d,g=b,_=x,d=t,b=e,x=n}const k=function(t,e,n,r,i,o){const a=n-t,u=r-e,s=i-t,l=o-e,c=a*a+u*u,f=s*s+l*l,h=.5/(a*l-u*s);return{x:t+(l*c-u*f)*h,y:e+(a*f-s*c)*h}}(m,y,g,_,b,x);this._cx=k.x,this._cy=k.y;for(let e=0;e<o;e++)this._dists[e]=Ro(t[2*e],t[2*e+1],k.x,k.y);Wo(this._ids,this._dists,0,o-1),this._hullStart=h;let j=3;n[h]=e[d]=p,n[p]=e[h]=d,n[d]=e[p]=h,r[h]=0,r[p]=1,r[d]=2,i.fill(-1),i[this._hashKey(m,y)]=h,i[this._hashKey(g,_)]=p,i[this._hashKey(b,x)]=d,this.trianglesLen=0,this._addTriangle(h,p,d,-1,-1,-1);for(let o,a,u=0;u<this._ids.length;u++){const s=this._ids[u],l=t[2*s],c=t[2*s+1];if(u>0&&Math.abs(l-o)<=Oo&&Math.abs(c-a)<=Oo)continue;if(o=l,a=c,s===h||s===p||s===d)continue;let f=0;for(let t=0,e=this._hashKey(l,c);t<this._hashSize&&(f=i[(e+t)%this._hashSize],-1===f||f===n[f]);t++);f=e[f];let v,m=f;for(;v=n[m],!Bo(l,c,t[2*m],t[2*m+1],t[2*v],t[2*v+1]);)if(m=v,m===f){m=-1;break}if(-1===m)continue;let y=this._addTriangle(m,s,n[m],-1,-1,r[m]);r[s]=this._legalize(y+2),r[m]=y,j++;let g=n[m];for(;v=n[g],Bo(l,c,t[2*g],t[2*g+1],t[2*v],t[2*v+1]);)y=this._addTriangle(g,s,v,r[s],-1,r[g]),r[s]=this._legalize(y+2),n[g]=g,j--,g=v;if(m===f)for(;v=e[m],Bo(l,c,t[2*v],t[2*v+1],t[2*m],t[2*m+1]);)y=this._addTriangle(v,s,m,-1,r[m],r[v]),this._legalize(y+2),r[v]=y,n[m]=m,j--,m=v;this._hullStart=e[s]=m,n[m]=e[g]=s,n[s]=g,i[this._hashKey(l,c)]=s,i[this._hashKey(t[2*m],t[2*m+1])]=m}this.hull=new Uint32Array(j);for(let t=0,e=this._hullStart;t<j;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],u=t-t%3;if(o=u+(t+2)%3,-1===a){if(0===i)break;t=Lo[--i];continue}const s=a-a%3,l=u+(t+1)%3,c=s+(a+2)%3,f=e[o],h=e[t],p=e[l],d=e[c];if(Ho(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1],r[2*d],r[2*d+1])){e[t]=d,e[a]=f;const r=n[c];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===c){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,c);const u=s+(a+1)%3;i<Lo.length&&(Lo[i++]=u)}else{if(0===i)break;t=Lo[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function Ro(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function Do(t,e,n,r,i,o){const a=(r-e)*(i-t),u=(n-t)*(o-e);return Math.abs(a-u)>=33306690738754716e-32*Math.abs(a+u)?a-u:0}function Bo(t,e,n,r,i,o){return(Do(i,o,t,e,n,r)||Do(t,e,n,r,i,o)||Do(n,r,i,o,t,e))<0}function Ho(t,e,n,r,i,o,a,u){const s=t-a,l=e-u,c=n-a,f=r-u,h=i-a,p=o-u,d=c*c+f*f,v=h*h+p*p;return s*(f*v-d*p)-l*(c*v-d*h)+(s*s+l*l)*(c*p-f*h)<0}function Uo(t,e,n,r,i,o){const a=n-t,u=r-e,s=i-t,l=o-e,c=a*a+u*u,f=s*s+l*l,h=.5/(a*l-u*s),p=(l*c-u*f)*h,d=(a*f-s*c)*h;return p*p+d*d}function Wo(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;Fo(t,n+r>>1,i),e[t[n]]>e[t[r]]&&Fo(t,n,r),e[t[i]]>e[t[r]]&&Fo(t,i,r),e[t[n]]>e[t[i]]&&Fo(t,n,i);const a=t[i],u=e[a];for(;;){do{i++}while(e[t[i]]<u);do{o--}while(e[t[o]]>u);if(o<i)break;Fo(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?(Wo(t,e,i,r),Wo(t,e,n,o-1)):(Wo(t,e,n,o-1),Wo(t,e,i,r))}}function Fo(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Yo(t){return t[0]}function Vo(t){return t[1]}class Ko{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class Go{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class Xo{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let e,r,o=0,a=0,u=n.length;o<u;o+=3,a+=2){const u=2*n[o],s=2*n[o+1],l=2*n[o+2],c=t[u],f=t[u+1],h=t[s],p=t[s+1],d=t[l],v=t[l+1],m=h-c,y=p-f,g=d-c,_=v-f,w=m*m+y*y,b=g*g+_*_,x=2*(m*_-y*g);if(x)if(Math.abs(x)<1e-8)e=(c+d)/2,r=(f+v)/2;else{const t=1/x;e=c+(_*w-y*b)*t,r=f+(m*b-g*w)*t}else e=(c+d)/2-1e8*_,r=(f+v)/2+1e8*g;i[a]=e,i[a+1]=r}let o,a,u,s=e[e.length-1],l=4*s,c=t[2*s],f=t[2*s+1];r.fill(0);for(let n=0;n<e.length;++n)s=e[n],o=l,a=c,u=f,l=4*s,c=t[2*s],f=t[2*s+1],r[o+2]=r[l]=u-f,r[o+3]=r[l+1]=c-a}render(t){const e=null==t?t=new Ko:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),a=2*Math.floor(r/3),u=o[i],s=o[i+1],l=o[a],c=o[a+1];this._renderSegment(u,s,l,c,t)}let u,s=i[i.length-1];for(let e=0;e<i.length;++e){u=s,s=i[e];const n=2*Math.floor(r[s]/3),l=o[n],c=o[n+1],f=4*u,h=this._project(l,c,a[f+2],a[f+3]);h&&this._renderSegment(l,c,h[0],h[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new Ko:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new Ko:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new Go;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),u=this._regioncode(n,r);0===a&&0===u?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]==t[o]&&e[r+1]==t[o+1]&&e[(r+2)%i]==t[(o+a-2)%a]&&e[(r+3)%i]==t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let u=o;do{const n=Math.floor(u/3);if(a.push(e[2*n],e[2*n+1]),u=u%3==2?u-2:u+1,i[u]!==t)break;u=r[u]}while(u!==o&&-1!==u);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,o,a,u,s=null,l=e[n-2],c=e[n-1],f=this._regioncode(l,c);for(let h=0;h<n;h+=2)if(r=l,i=c,l=e[h],c=e[h+1],o=f,f=this._regioncode(l,c),0===o&&0===f)a=u,u=0,s?s.push(l,c):s=[l,c];else{let e,n,h,p,d;if(0===o){if(null===(e=this._clipSegment(r,i,l,c,o,f)))continue;[n,h,p,d]=e}else{if(null===(e=this._clipSegment(l,c,r,i,f,o)))continue;[p,d,n,h]=e,a=u,u=this._edgecode(n,h),a&&u&&this._edge(t,a,u,s,s.length),s?s.push(n,h):s=[n,h]}a=u,u=this._edgecode(p,d),a&&u&&this._edge(t,a,u,s,s.length),s?s.push(p,d):s=[p,d]}if(s)a=u,u=this._edgecode(s[0],s[1]),a&&u&&this._edge(t,a,u,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;let a,u,s=i||o;8&s?(a=t+(n-t)*(this.ymax-e)/(r-e),u=this.ymax):4&s?(a=t+(n-t)*(this.ymin-e)/(r-e),u=this.ymin):2&s?(u=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(u=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=u,i=this._regioncode(t,e)):(n=a,r=u,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,u=Array.from(e);if((a=this._project(u[0],u[1],n,r))&&u.unshift(a[0],a[1]),(a=this._project(u[u.length-2],u[u.length-1],i,o))&&u.push(a[0],a[1]),u=this._clipFinite(t,u))for(let e,n=0,r=u.length,i=this._edgecode(u[r-2],u[r-1]);n<r;n+=2)e=i,i=this._edgecode(u[n],u[n+1]),e&&i&&(n=this._edge(t,e,i,u,n),r=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const e=(t+2)%r.length,n=(t+4)%r.length;(r[t]===r[e]&&r[e]===r[n]||r[t+1]===r[e+1]&&r[e+1]===r[n+1])&&(r.splice(e,2),t-=2)}return i}_project(t,e,n,r){let i,o,a,u=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<u&&(a=this.ymin,o=t+(u=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<u&&(a=this.ymax,o=t+(u=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<u&&(o=this.xmax,a=e+(u=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<u&&(o=this.xmin,a=e+(u=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const Zo=2*Math.PI,Jo=Math.pow;function Qo(t){return t[0]}function ta(t){return t[1]}function ea(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class na{static from(t,e=Qo,n=ta,r){return new na("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new qo(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(t,e)=>e).sort((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]);const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=ea(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new qo(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(t){return new Xo(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const u=e[t];if(-1===u)return;let s=u,l=-1;do{if(yield l=o[s],s=s%3==2?s-2:s+1,o[s]!==t)return;if(s=i[s],-1===s){const e=n[(r[t]+1)%n.length];return void(e!==l&&(yield e))}}while(s!==u)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:u,points:s}=this;if(-1===r[t]||!s.length)return(t+1)%(s.length>>1);let l=t,c=Jo(e-s[2*t],2)+Jo(n-s[2*t+1],2);const f=r[t];let h=f;do{let r=u[h];const f=Jo(e-s[2*r],2)+Jo(n-s[2*r+1],2);if(f<c&&(c=f,l=r),h=h%3==2?h-2:h+1,u[h]!==t)break;if(h=a[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&Jo(e-s[2*h],2)+Jo(n-s[2*h+1],2)<c)return h;break}}while(h!==f);return l}render(t){const e=null==t?t=new Ko:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const a=2*i[e],u=2*i[o];t.moveTo(n[a],n[a+1]),t.lineTo(n[u],n[u+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e=2){const n=null==t?t=new Ko:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,Zo)}return n&&n.value()}renderHull(t){const e=null==t?t=new Ko:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new Go;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new Ko:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],u=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[u],r[u+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new Go;return this.renderTriangle(t,e),e.value()}}function ra(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function ia(t){let e,n,r,o,a;return{c(){e=w("span"),A(e,"class",n=l("mdi "+(t[1]||"neg"==t[8]?t[5]:t[6]))+" svelte-4l6kc5"),A(e,"title",r="bad projection"),E(e,"hover","neg"==t[8])},m(n,r){y(n,e,r),o||(a=[T(e,"click",t[12]),T(e,"mouseenter",t[13]),T(e,"mouseleave",t[14])],o=!0)},p(t,r){354&r&&n!==(n=l("mdi "+(t[1]||"neg"==t[8]?t[5]:t[6]))+" svelte-4l6kc5")&&A(e,"class",n),354&r&&E(e,"hover","neg"==t[8])},d(t){t&&g(e),o=!1,i(a)}}}function oa(t){let e,n,r,o,a;function u(...e){return t[15](t[21],t[19],...e)}function s(...e){return t[16](t[21],...e)}return{c(){e=w("span"),A(e,"class",n=l("mdi "+(t[19]||t[8]>t[21]?t[3]:t[4]))+" svelte-4l6kc5"),A(e,"title",r=`give ${t[21]+1} points`),E(e,"disabled",t[21]-t[0]>=t[9]&&!t[19]),E(e,"hover",t[8]>t[21])},m(n,r){y(n,e,r),o||(a=[T(e,"click",u),T(e,"mouseenter",s),T(e,"mouseleave",t[17])],o=!0)},p(r,i){t=r,408&i&&n!==(n=l("mdi "+(t[19]||t[8]>t[21]?t[3]:t[4]))+" svelte-4l6kc5")&&A(e,"class",n),921&i&&E(e,"disabled",t[21]-t[0]>=t[9]&&!t[19]),408&i&&E(e,"hover",t[8]>t[21])},d(t){t&&g(e),o=!1,i(a)}}}function aa(e){let n,r,i=e[2]&&ia(e),o=e[7],a=[];for(let t=0;t<o.length;t+=1)a[t]=oa(ra(e,o,t));return{c(){i&&i.c(),n=k();for(let t=0;t<a.length;t+=1)a[t].c();r=j()},m(t,e){i&&i.m(t,e),y(t,n,e);for(let n=0;n<a.length;n+=1)a[n].m(t,e);y(t,r,e)},p(t,[e]){if(t[2]?i?i.p(t,e):(i=ia(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),923&e){let n;for(o=t[7],n=0;n<o.length;n+=1){const i=ra(t,o,n);a[n]?a[n].p(i,e):(a[n]=oa(i),a[n].c(),a[n].m(r.parentNode,r))}for(;n<a.length;n+=1)a[n].d(1);a.length=o.length}},i:t,o:t,d(t){i&&i.d(t),t&&g(n),_(a,t),t&&g(r)}}}function ua(t,e,n){let r;s(t,bo,t=>n(9,r=t));let{count:i}=e,{projection:o}=e,{max:a=5}=e,{neg:u=!0}=e,{bad:l=!1}=e,c=new Array(a).fill(!1),{symbol_filled:f="mdi-heart"}=e,{symbol_unfilled:h="mdi-heart-outline"}=e,{symbol_neg:p="mdi-heart-off"}=e,{symbol_neg_unfilled:d="mdi-heart-off-outline"}=e;let v=null;return t.$set=t=>{"count"in t&&n(0,i=t.count),"projection"in t&&n(10,o=t.projection),"max"in t&&n(11,a=t.max),"neg"in t&&n(2,u=t.neg),"bad"in t&&n(1,l=t.bad),"symbol_filled"in t&&n(3,f=t.symbol_filled),"symbol_unfilled"in t&&n(4,h=t.symbol_unfilled),"symbol_neg"in t&&n(5,p=t.symbol_neg),"symbol_neg_unfilled"in t&&n(6,d=t.symbol_neg_unfilled)},t.$$.update=()=>{1&t.$$.dirty&&(n(7,c=c.map((t,e)=>e<i)),o.star_time.push({time:performance.now(),rating:i}))},[i,l,u,f,h,p,d,c,v,r,o,a,()=>{bo.set(r+i),n(0,i=0),n(7,c=c.map((t,e)=>!1)),n(1,l=!l)},()=>n(8,v="neg"),()=>n(8,v=null),(t,e)=>{if(t-i>=r&&!e)return;const o=t+1;bo.set(r+i-o),n(0,i=o),n(1,l=!1),n(7,c=c.map((t,e)=>e<o))},t=>n(8,v=t+1),()=>n(8,v=null)]}class sa extends gt{constructor(t){super(),yt(this,t,ua,aa,a,{count:0,projection:10,max:11,neg:2,bad:1,symbol_filled:3,symbol_unfilled:4,symbol_neg:5,symbol_neg_unfilled:6})}}function la(t,e,n){const r=t.slice();return r[47]=e[n],r[49]=n,r}function ca(t,e,n){const r=t.slice();return r[47]=e[n],r[49]=n,r}function fa(n){let r,a,u,s;return{c(){r=w("div"),a=w("div"),A(a,"id","bar"),S(a,"width",100*n[11]+"%"),A(a,"class","svelte-7t2ez2"),A(r,"id","progressbar"),S(r,"width",n[2]-10+"px"),A(r,"class","svelte-7t2ez2")},m(t,e){y(t,r,e),m(r,a),s=!0},p(t,e){(!s||2048&e[0])&&S(a,"width",100*t[11]+"%"),(!s||4&e[0])&&S(r,"width",t[2]-10+"px")},i(t){s||(u&&u.end(1),s=!0)},o(n){u=function(n,r,a){let u,s=r(n,a),l=!0;const c=it;function h(){const{delay:r=0,duration:o=300,easing:a=e,tick:h=t,css:p}=s||lt;p&&(u=O(n,1,0,o,r,a,p));const d=f()+r,m=d+o;K(()=>nt(n,!1,"start")),v(t=>{if(l){if(t>=m)return h(0,1),nt(n,!1,"end"),--c.r||i(c.c),!1;if(t>=d){const e=a((t-d)/o);h(1-e,e)}}return l})}return c.r+=1,o(s)?et().then(()=>{s=s(),h()}):h(),{end(t){t&&s.tick&&s.tick(1,0),l&&(u&&L(n,u),l=!1)}}}(r,xt,{}),s=!1},d(t){t&&g(r),t&&u&&u.end()}}}function ha(e){let n,r,i;return{c(){n=w("button"),n.innerHTML='<span class="mdi mdi-close"></span> Close'},m(t,o){y(t,n,o),r||(i=T(n,"click",e[26]),r=!0)},p:t,d(t){t&&g(n),r=!1,i()}}}function pa(t){let e,n,r,i;return{c(){e=w("button"),n=w("span"),A(n,"class","mdi"),E(n,"mdi-arrow-expand",!t[8]),E(n,"mdi-arrow-collapse",t[8]),A(e,"title","expand")},m(o,a){y(o,e,a),m(e,n),r||(i=T(e,"click",t[25]),r=!0)},p(t,e){256&e[0]&&E(n,"mdi-arrow-expand",!t[8]),256&e[0]&&E(n,"mdi-arrow-collapse",t[8])},d(t){t&&g(e),r=!1,i()}}}function da(t){let e,n,r,o,a;function u(...e){return t[27](t[49],...e)}return{c(){e=b("path"),A(e,"d",n=`M${t[14].cellPolygon(t[49]).join("L")}Z`),A(e,"fill","transparent"),A(e,"title",r=t[47].class)},m(n,r){y(n,e,r),o||(a=[T(e,"mouseenter",u),T(e,"mousemove",t[28])],o=!0)},p(i,o){t=i,16384&o[0]&&n!==(n=`M${t[14].cellPolygon(t[49]).join("L")}Z`)&&A(e,"d",n),1&o[0]&&r!==(r=t[47].class)&&A(e,"title",r)},d(t){t&&g(e),o=!1,i(a)}}}function va(t){let e,n,r,i;return{c(){e=b("circle"),A(e,"cx","10"),A(e,"cy","10"),A(e,"r",n=t[19]==t[49]?5:3),A(e,"fill",r=t[19]==t[49]?t[20](t[47].class):"none"),A(e,"stroke",i=t[20](t[47].class))},m(t,n){y(t,e,n)},p(t,o){524288&o[0]&&n!==(n=t[19]==t[49]?5:3)&&A(e,"r",n),1572865&o[0]&&r!==(r=t[19]==t[49]?t[20](t[47].class):"none")&&A(e,"fill",r),1048577&o[0]&&i!==(i=t[20](t[47].class))&&A(e,"stroke",i)},d(t){t&&g(e)}}}function ma(t){let e,n,r,i,o=t[49];const a=()=>t[29](e,o),u=()=>t[29](null,o);return{c(){e=b("image"),S(e,"pointer-events","none"),A(e,"href",n=`data/${t[18]}/thumbnails/${t[47].img}.png`),A(e,"width","20"),A(e,"height","20"),A(e,"filter",r=t[49]==t[19]?"url(#matrix)":null),A(e,"title",i=t[47].class)},m(t,n){y(t,e,n),a()},p(s,l){t=s,262145&l[0]&&n!==(n=`data/${t[18]}/thumbnails/${t[47].img}.png`)&&A(e,"href",n),524288&l[0]&&r!==(r=t[49]==t[19]?"url(#matrix)":null)&&A(e,"filter",r),1&l[0]&&i!==(i=t[47].class)&&A(e,"title",i),o!==t[49]&&(u(),o=t[49],a())},d(t){t&&g(e),u()}}}function ya(t){let e,n,r=t[14].cellPolygon(t[49]),i=r&&da(t);function o(t,e){return"image"==t[17]?ma:"circle"==t[17]?va:void 0}let a=o(t),u=a&&a(t);return{c(){i&&i.c(),e=b("g"),u&&u.c(),A(e,"transform",n=`translate(${t[12](t[47].x)-10}, ${t[13](t[47].y)-10})`)},m(t,n){i&&i.m(t,n),y(t,e,n),u&&u.m(e,null)},p(t,s){16384&s[0]&&(r=t[14].cellPolygon(t[49])),r?i?i.p(t,s):(i=da(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),a===(a=o(t))&&u?u.p(t,s):(u&&u.d(1),u=a&&a(t),u&&(u.c(),u.m(e,null))),12289&s[0]&&n!==(n=`translate(${t[12](t[47].x)-10}, ${t[13](t[47].y)-10})`)&&A(e,"transform",n)},d(t){i&&i.d(t),t&&g(e),u&&u.d()}}}function ga(t){let e,n=t[0].filter(t[30]),r=[];for(let e=0;e<n.length;e+=1)r[e]=_a(la(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=j()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);y(t,e,n)},p(t,i){if(798721&i[0]){let o;for(n=t[0].filter(t[30]),o=0;o<n.length;o+=1){const a=la(t,n,o);r[o]?r[o].p(a,i):(r[o]=_a(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){_(r,t),t&&g(e)}}}function _a(t){let e,n,r,i,o;return{c(){e=b("g"),n=b("image"),S(n,"pointer-events","none"),P(n,"xlink:href",r=`data/${t[18]}/thumbnails/${t[47].img}.png`),A(n,"width","20"),A(n,"height","20"),A(n,"filter","url(#matrix)"),A(n,"title",i=t[47].class),A(e,"transform",o=`translate(${t[12](t[47].x)-10}, ${t[13](t[47].y)-10})`)},m(t,r){y(t,e,r),m(e,n)},p(t,a){786433&a[0]&&r!==(r=`data/${t[18]}/thumbnails/${t[47].img}.png`)&&P(n,"xlink:href",r),524289&a[0]&&i!==(i=t[47].class)&&A(n,"title",i),536577&a[0]&&o!==(o=`translate(${t[12](t[47].x)-10}, ${t[13](t[47].y)-10})`)&&A(e,"transform",o)},d(t){t&&g(e)}}}function wa(t){let e,n,r,i,o;function a(e){t[39].call(null,e)}let u={width:t[15],height:t[15],margin:t[4],tooltip:t[1],button:!1};return void 0!==t[0]&&(u.data=t[0]),r=new ja({props:u}),U.push(()=>ht(r,"data",a)),r.$on("close",t[23]),{c(){e=w("div"),n=w("div"),pt(r.$$.fragment),A(n,"class","modal-content svelte-7t2ez2"),S(n,"width","fit-content"),A(e,"id","modal"),A(e,"class","modal svelte-7t2ez2")},m(t,i){y(t,e,i),m(e,n),dt(r,n,null),o=!0},p(t,e){const n={};32768&e[0]&&(n.width=t[15]),32768&e[0]&&(n.height=t[15]),16&e[0]&&(n.margin=t[4]),2&e[0]&&(n.tooltip=t[1]),1048576&e[1]&&(n.$$scope={dirty:e,ctx:t}),!i&&1&e[0]&&(i=!0,n.data=t[0],G(()=>i=!1)),r.$set(n)},i(t){o||(ut(r.$$.fragment,t),o=!0)},o(t){st(r.$$.fragment,t),o=!1},d(t){t&&g(e),vt(r)}}}function ba(t){let e,n,r,o,a,u,s,l,c,f,h,p,d,v,P,M,$,C,z,N,O,L,q,R,D,B,H,W,F,Y,V,K,X,Z,J,Q,tt=1!=t[11]&&fa(t);function et(t,e){return t[5]?pa:ha}let nt=et(t),rt=nt(t),it=t[0],lt=[];for(let e=0;e<it.length;e+=1)lt[e]=ya(ca(t,it,e));let ct="image"==t[17]&&ga(t);function ft(e){t[33].call(null,e)}function mt(e){t[34].call(null,e)}function yt(e){t[35].call(null,e)}let gt={max:4};void 0!==t[0].pos_count&&(gt.count=t[0].pos_count),void 0!==t[0].neg_count&&(gt.bad=t[0].neg_count),void 0!==t[0]&&(gt.projection=t[0]),z=new sa({props:gt}),U.push(()=>ht(z,"count",ft)),U.push(()=>ht(z,"bad",mt)),U.push(()=>ht(z,"projection",yt));let _t=t[8]&&wa(t);return{c(){e=w("div"),tt&&tt.c(),n=k(),r=w("small"),o=w("button"),a=w("span"),s=k(),rt.c(),l=k(),c=b("svg"),f=b("defs"),h=b("filter"),p=b("feColorMatrix"),d=b("g");for(let t=0;t<lt.length;t+=1)lt[t].c();v=j(),ct&&ct.c(),P=k(),M=w("div"),$=w("div"),C=x("Rate:\n            "),pt(z.$$.fragment),q=k(),R=w("small"),D=w("div"),B=w("button"),B.innerHTML='<span class="mdi mdi-comment-text-outline"></span>',H=k(),W=w("div"),F=x("Comments:\n                "),Y=w("button"),Y.innerHTML='<span class="mdi mdi-check"></span>',V=k(),K=w("textarea"),X=k(),_t&&_t.c(),A(a,"class","mdi mdi-magnify-scan"),o.disabled=u=!t[7],A(o,"title","reset zoom"),S(r,"position","absolute"),S(r,"top","5px"),S(r,"right","5px"),A(p,"type","matrix"),A(p,"in","SourceGraphic"),A(p,"values","0.1 0 0 0 0\n                            0 0.8 0 0 0\n                            0 0 1.7 0 0\n                            0 0 0 1 0 "),A(h,"id","matrix"),A(c,"width",t[2]),A(c,"height",t[3]),A(c,"class","svelte-7t2ez2"),S($,"text-align","left"),S(M,"text-align","center"),S(Y,"float","right"),A(W,"class","comment dropdown-content svelte-7t2ez2"),A(D,"class","dropdown svelte-7t2ez2"),E(D,"active",t[9]),S(R,"position","absolute"),S(R,"bottom","0px"),S(R,"right","5px"),A(e,"class","card svelte-7t2ez2"),S(e,"background-color",t[16](-t[0].pos_count+t[0].neg_count))},m(i,u){y(i,e,u),tt&&tt.m(e,null),m(e,n),m(e,r),m(r,o),m(o,a),m(r,s),rt.m(r,null),m(e,l),m(e,c),m(c,f),m(f,h),m(h,p),m(c,d);for(let t=0;t<lt.length;t+=1)lt[t].m(d,null);m(d,v),ct&&ct.m(d,null),t[31](d),m(e,P),m(e,M),m(M,$),m($,C),dt(z,$,null),m(e,q),m(e,R),m(R,D),m(D,B),m(D,H),m(D,W),m(W,F),m(W,Y),m(W,V),m(W,K),I(K,t[0].comment),m(e,X),_t&&_t.m(e,null),Z=!0,J||(Q=[T(o,"click",t[24]),T(c,"mouseleave",t[32]),T(B,"click",t[36]),T(Y,"click",t[37]),T(K,"input",t[38]),T(K,"key",xa)],J=!0)},p(t,i){if(1!=t[11]?tt?(tt.p(t,i),2048&i[0]&&ut(tt,1)):(tt=fa(t),tt.c(),ut(tt,1),tt.m(e,n)):tt&&(ot(),st(tt,1,1,()=>{tt=null}),at()),(!Z||128&i[0]&&u!==(u=!t[7]))&&(o.disabled=u),nt===(nt=et(t))&&rt?rt.p(t,i):(rt.d(1),rt=nt(t),rt&&(rt.c(),rt.m(r,null))),1995777&i[0]){let e;for(it=t[0],e=0;e<it.length;e+=1){const n=ca(t,it,e);lt[e]?lt[e].p(n,i):(lt[e]=ya(n),lt[e].c(),lt[e].m(d,v))}for(;e<lt.length;e+=1)lt[e].d(1);lt.length=it.length}"image"==t[17]?ct?ct.p(t,i):(ct=ga(t),ct.c(),ct.m(d,null)):ct&&(ct.d(1),ct=null),(!Z||4&i[0])&&A(c,"width",t[2]),(!Z||8&i[0])&&A(c,"height",t[3]);const a={};!N&&1&i[0]&&(N=!0,a.count=t[0].pos_count,G(()=>N=!1)),!O&&1&i[0]&&(O=!0,a.bad=t[0].neg_count,G(()=>O=!1)),!L&&1&i[0]&&(L=!0,a.projection=t[0],G(()=>L=!1)),z.$set(a),1&i[0]&&I(K,t[0].comment),512&i[0]&&E(D,"active",t[9]),t[8]?_t?(_t.p(t,i),256&i[0]&&ut(_t,1)):(_t=wa(t),_t.c(),ut(_t,1),_t.m(e,null)):_t&&(ot(),st(_t,1,1,()=>{_t=null}),at()),(!Z||65537&i[0])&&S(e,"background-color",t[16](-t[0].pos_count+t[0].neg_count))},i(t){Z||(ut(tt),ut(z.$$.fragment,t),ut(_t),Z=!0)},o(t){st(tt),st(z.$$.fragment,t),st(_t),Z=!1},d(n){n&&g(e),tt&&tt.d(),rt.d(),_(lt,n),ct&&ct.d(),t[31](null),vt(z),_t&&_t.d(),J=!1,i(Q)}}}const xa=t=>t.preventDefault();function ka(t,e,n){let r,i,o,a,u;s(t,Co,t=>n(16,r=t)),s(t,zo,t=>n(17,i=t)),s(t,Mo,t=>n(18,o=t)),s(t,Po,t=>n(19,a=t)),s(t,$o,t=>n(20,u=t));const l=function(){const t=D();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=$(e,n);r.slice().forEach(e=>{e.call(t,i)})}}}();let c,{data:f}=e,{width:h}=e,{height:p}=e,{margin:d}=e,{tooltip:v}=e,{button:m=!0}=e;let y=_o();function g(){let{k:t,x:e,y:r}=De.transform;n(7,w=!(1==t&&0==e&&0==r)),Je(this).attr("transform",De.transform)}B(()=>{Je(c).call(y.extent([[0,0],[h,p]]).scaleExtent([1,8]).on("zoom",g)),Je(void 0).call(y.extent([[0,0],[3*h,3*p]]).scaleExtent([1,8]).on("zoom",g))});let _,w=!1,b=!1;let x,k,j,T,A,P,M,I,S;return t.$set=t=>{"data"in t&&n(0,f=t.data),"width"in t&&n(2,h=t.width),"height"in t&&n(3,p=t.height),"margin"in t&&n(4,d=t.margin),"tooltip"in t&&n(1,v=t.tooltip),"button"in t&&n(5,m=t.button)},t.$$.update=()=>{1024&t.$$.dirty[0]&&n(40,k=x.map((t,e)=>t?t.decode().then(()=>n(40,k[e]="done",k)).catch(()=>n(40,k[e]="done",k)):"done")),512&t.$$.dirty[1]&&n(11,j=k.reduce((t,e)=>t+("done"==e?1:0),0)/k.length),12301&t.$$.dirty[0]&&n(14,P=na.from(f,t=>T(t.x),t=>A(t.y)).voronoi([0,0,Math.max(1,h||1),Math.max(1,p||1)])),4116&t.$$.dirty[0]&&T.range([d,h-d]),8216&t.$$.dirty[0]&&A.range([p-d,d]),1&t.$$.dirty[0]&&n(41,[M,I]=function(t){let[e,n]=$t(t,t=>t.x),[r,i]=$t(t,t=>t.y);const o=n-e,a=i-r,u=Math.abs(o-a)/2;return o>a?(r-=u,i+=u):(e-=u,n+=u),[[e,n],[r,i]]}(f),M,(n(42,I),n(0,f))),4096&t.$$.dirty[0]|1024&t.$$.dirty[1]&&T.domain(M),8192&t.$$.dirty[0]|2048&t.$$.dirty[1]&&A.domain(I)},n(10,x=[]),n(12,[T,A]=[io(),io()],T,n(13,A)),n(15,S=.95*Math.min(window.innerHeight,window.innerWidth)-40),[f,v,h,p,d,m,c,w,b,_,x,j,T,A,P,S,r,i,o,a,u,l,y,function(t){n(8,b=!1)},()=>{f.click_enlarge.push(performance.now()),Je(c).transition().duration(350).call(y.transform,lo)},()=>{f.click_enlarge.push(performance.now()),n(8,b=!b)},()=>l("close"),(t,e)=>{ko.set_hover(t)},t=>{const e=document.getElementById("tooltip");e&&(e.style.left=t.pageX+"px",e.style.top=t.pageY+"px")},function(t,e){x[e]!==t&&U[t?"unshift":"push"](()=>{x[e]=t,n(10,x)})},(t,e)=>a==e,function(t){U[t?"unshift":"push"](()=>{c=t,n(6,c)})},()=>ko.set_hover(null),function(t){f.pos_count=t,n(0,f)},function(t){f.neg_count=t,n(0,f)},function(t){f=t,n(0,f)},()=>n(9,_=!0),()=>n(9,_=!1),function(){f.comment=this.value,n(0,f)},function(t){f=t,n(0,f)}]}class ja extends gt{constructor(t){super(),yt(this,t,ka,ba,a,{data:0,width:2,height:3,margin:4,tooltip:1,button:5},[-1,-1])}}var Ta="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(t,e,n){t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}((function(t,e){(function(){var n="Expected a function",r="__lodash_placeholder__",i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],o="[object Arguments]",a="[object Array]",u="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object GeneratorFunction]",h="[object Map]",p="[object Number]",d="[object Object]",v="[object RegExp]",m="[object Set]",y="[object String]",g="[object Symbol]",_="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",k="[object Float64Array]",j="[object Int8Array]",T="[object Int16Array]",A="[object Int32Array]",P="[object Uint8Array]",M="[object Uint16Array]",I="[object Uint32Array]",S=/\b__p \+= '';/g,E=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,C=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,N=RegExp(C.source),O=RegExp(z.source),L=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,R=/<%=([\s\S]+?)%>/g,D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U=/[\\^$.*+?()[\]{}|]/g,W=RegExp(U.source),F=/^\s+|\s+$/g,Y=/^\s+/,V=/\s+$/,K=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,G=/\{\n\/\* \[wrapped with (.+)\] \*/,X=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,J=/\\(\\)?/g,Q=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tt=/\w*$/,et=/^[-+]0x[0-9a-f]+$/i,nt=/^0b[01]+$/i,rt=/^\[object .+?Constructor\]$/,it=/^0o[0-7]+$/i,ot=/^(?:0|[1-9]\d*)$/,at=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ut=/($^)/,st=/['\n\r\u2028\u2029\\]/g,lt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ct="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ft="[\\ud800-\\udfff]",ht="["+ct+"]",pt="["+lt+"]",dt="\\d+",vt="[\\u2700-\\u27bf]",mt="[a-z\\xdf-\\xf6\\xf8-\\xff]",yt="[^\\ud800-\\udfff"+ct+dt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",gt="\\ud83c[\\udffb-\\udfff]",_t="[^\\ud800-\\udfff]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",bt="[\\ud800-\\udbff][\\udc00-\\udfff]",xt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",kt="(?:"+mt+"|"+yt+")",jt="(?:"+xt+"|"+yt+")",Tt="(?:"+pt+"|"+gt+")"+"?",At="[\\ufe0e\\ufe0f]?"+Tt+("(?:\\u200d(?:"+[_t,wt,bt].join("|")+")[\\ufe0e\\ufe0f]?"+Tt+")*"),Pt="(?:"+[vt,wt,bt].join("|")+")"+At,Mt="(?:"+[_t+pt+"?",pt,wt,bt,ft].join("|")+")",It=RegExp("['’]","g"),St=RegExp(pt,"g"),Et=RegExp(gt+"(?="+gt+")|"+Mt+At,"g"),$t=RegExp([xt+"?"+mt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ht,xt,"$"].join("|")+")",jt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ht,xt+kt,"$"].join("|")+")",xt+"?"+kt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",xt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dt,Pt].join("|"),"g"),Ct=RegExp("[\\u200d\\ud800-\\udfff"+lt+"\\ufe0e\\ufe0f]"),zt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ot=-1,Lt={};Lt[x]=Lt[k]=Lt[j]=Lt[T]=Lt[A]=Lt[P]=Lt["[object Uint8ClampedArray]"]=Lt[M]=Lt[I]=!0,Lt[o]=Lt[a]=Lt[w]=Lt[u]=Lt[b]=Lt[s]=Lt[l]=Lt[c]=Lt[h]=Lt[p]=Lt[d]=Lt[v]=Lt[m]=Lt[y]=Lt[_]=!1;var qt={};qt[o]=qt[a]=qt[w]=qt[b]=qt[u]=qt[s]=qt[x]=qt[k]=qt[j]=qt[T]=qt[A]=qt[h]=qt[p]=qt[d]=qt[v]=qt[m]=qt[y]=qt[g]=qt[P]=qt["[object Uint8ClampedArray]"]=qt[M]=qt[I]=!0,qt[l]=qt[c]=qt[_]=!1;var Rt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dt=parseFloat,Bt=parseInt,Ht="object"==typeof Ta&&Ta&&Ta.Object===Object&&Ta,Ut="object"==typeof self&&self&&self.Object===Object&&self,Wt=Ht||Ut||Function("return this")(),Ft=e&&!e.nodeType&&e,Yt=Ft&&t&&!t.nodeType&&t,Vt=Yt&&Yt.exports===Ft,Kt=Vt&&Ht.process,Gt=function(){try{var t=Yt&&Yt.require&&Yt.require("util").types;return t||Kt&&Kt.binding&&Kt.binding("util")}catch(t){}}(),Xt=Gt&&Gt.isArrayBuffer,Zt=Gt&&Gt.isDate,Jt=Gt&&Gt.isMap,Qt=Gt&&Gt.isRegExp,te=Gt&&Gt.isSet,ee=Gt&&Gt.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function re(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ue(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function se(t,e){return!!(null==t?0:t.length)&&ge(t,e,0)>-1}function le(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function ce(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function fe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function he(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function pe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function de(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ve=xe("length");function me(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function ye(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ge(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):ye(t,we,n)}function _e(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function we(t){return t!=t}function be(t,e){var n=null==t?0:t.length;return n?Te(t,e)/n:NaN}function xe(t){return function(e){return null==e?void 0:e[t]}}function ke(t){return function(e){return null==t?void 0:t[e]}}function je(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Te(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Pe(t){return function(e){return t(e)}}function Me(t,e){return ce(e,(function(e){return t[e]}))}function Ie(t,e){return t.has(e)}function Se(t,e){for(var n=-1,r=t.length;++n<r&&ge(e,t[n],0)>-1;);return n}function Ee(t,e){for(var n=t.length;n--&&ge(e,t[n],0)>-1;);return n}function $e(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Ce=ke({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),ze=ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ne(t){return"\\"+Rt[t]}function Oe(t){return Ct.test(t)}function Le(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function qe(t,e){return function(n){return t(e(n))}}function Re(t,e){for(var n=-1,i=t.length,o=0,a=[];++n<i;){var u=t[n];u!==e&&u!==r||(t[n]=r,a[o++]=n)}return a}function De(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Be(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function He(t){return Oe(t)?function(t){var e=Et.lastIndex=0;for(;Et.test(t);)++e;return e}(t):ve(t)}function Ue(t){return Oe(t)?function(t){return t.match(Et)||[]}(t):function(t){return t.split("")}(t)}var We=ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Fe=function t(e){var lt,ct=(e=null==e?Wt:Fe.defaults(Wt.Object(),e,Fe.pick(Wt,Nt))).Array,ft=e.Date,ht=e.Error,pt=e.Function,dt=e.Math,vt=e.Object,mt=e.RegExp,yt=e.String,gt=e.TypeError,_t=ct.prototype,wt=pt.prototype,bt=vt.prototype,xt=e["__core-js_shared__"],kt=wt.toString,jt=bt.hasOwnProperty,Tt=0,At=(lt=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+lt:"",Pt=bt.toString,Mt=kt.call(vt),Et=Wt._,Ct=mt("^"+kt.call(jt).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=Vt?e.Buffer:void 0,Ht=e.Symbol,Ut=e.Uint8Array,Ft=Rt?Rt.allocUnsafe:void 0,Yt=qe(vt.getPrototypeOf,vt),Kt=vt.create,Gt=bt.propertyIsEnumerable,ve=_t.splice,ke=Ht?Ht.isConcatSpreadable:void 0,Ye=Ht?Ht.iterator:void 0,Ve=Ht?Ht.toStringTag:void 0,Ke=function(){try{var t=Qi(vt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ge=e.clearTimeout!==Wt.clearTimeout&&e.clearTimeout,Xe=ft&&ft.now!==Wt.Date.now&&ft.now,Ze=e.setTimeout!==Wt.setTimeout&&e.setTimeout,Je=dt.ceil,Qe=dt.floor,tn=vt.getOwnPropertySymbols,en=Rt?Rt.isBuffer:void 0,nn=e.isFinite,rn=_t.join,on=qe(vt.keys,vt),an=dt.max,un=dt.min,sn=ft.now,ln=e.parseInt,cn=dt.random,fn=_t.reverse,hn=Qi(e,"DataView"),pn=Qi(e,"Map"),dn=Qi(e,"Promise"),vn=Qi(e,"Set"),mn=Qi(e,"WeakMap"),yn=Qi(vt,"create"),gn=mn&&new mn,_n={},wn=Po(hn),bn=Po(pn),xn=Po(dn),kn=Po(vn),jn=Po(mn),Tn=Ht?Ht.prototype:void 0,An=Tn?Tn.valueOf:void 0,Pn=Tn?Tn.toString:void 0;function Mn(t){if(Wa(t)&&!Ca(t)&&!(t instanceof $n)){if(t instanceof En)return t;if(jt.call(t,"__wrapped__"))return Mo(t)}return new En(t)}var In=function(){function t(){}return function(e){if(!Ua(e))return{};if(Kt)return Kt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Sn(){}function En(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function $n(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function On(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Nn;++e<n;)this.add(t[e])}function Ln(t){var e=this.__data__=new zn(t);this.size=e.size}function qn(t,e){var n=Ca(t),r=!n&&$a(t),i=!n&&!r&&La(t),o=!n&&!r&&!i&&Ja(t),a=n||r||i||o,u=a?Ae(t.length,yt):[],s=u.length;for(var l in t)!e&&!jt.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ao(l,s))||u.push(l);return u}function Rn(t){var e=t.length;return e?t[Or(0,e-1)]:void 0}function Dn(t,e){return jo(yi(t),Gn(e,0,t.length))}function Bn(t){return jo(yi(t))}function Hn(t,e,n){(void 0!==n&&!Ia(t[e],n)||void 0===n&&!(e in t))&&Vn(t,e,n)}function Un(t,e,n){var r=t[e];jt.call(t,e)&&Ia(r,n)&&(void 0!==n||e in t)||Vn(t,e,n)}function Wn(t,e){for(var n=t.length;n--;)if(Ia(t[n][0],e))return n;return-1}function Fn(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Yn(t,e){return t&&gi(e,wu(e),t)}function Vn(t,e,n){"__proto__"==e&&Ke?Ke(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Kn(t,e){for(var n=-1,r=e.length,i=ct(r),o=null==t;++n<r;)i[n]=o?void 0:vu(t,e[n]);return i}function Gn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Xn(t,e,n,r,i,a){var l,_=1&e,S=2&e,E=4&e;if(n&&(l=i?n(t,r,i,a):n(t)),void 0!==l)return l;if(!Ua(t))return t;var $=Ca(t);if($){if(l=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&jt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!_)return yi(t,l)}else{var C=no(t),z=C==c||C==f;if(La(t))return fi(t,_);if(C==d||C==o||z&&!i){if(l=S||z?{}:io(t),!_)return S?function(t,e){return gi(t,eo(t),e)}(t,function(t,e){return t&&gi(e,bu(e),t)}(l,t)):function(t,e){return gi(t,to(t),e)}(t,Yn(l,t))}else{if(!qt[C])return i?t:{};l=function(t,e,n){var r=t.constructor;switch(e){case w:return hi(t);case u:case s:return new r(+t);case b:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case x:case k:case j:case T:case A:case P:case"[object Uint8ClampedArray]":case M:case I:return pi(t,n);case h:return new r;case p:case y:return new r(t);case v:return function(t){var e=new t.constructor(t.source,tt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case m:return new r;case g:return i=t,An?vt(An.call(i)):{}}var i}(t,C,_)}}a||(a=new Ln);var N=a.get(t);if(N)return N;a.set(t,l),Ga(t)?t.forEach((function(r){l.add(Xn(r,e,n,r,t,a))})):Fa(t)&&t.forEach((function(r,i){l.set(i,Xn(r,e,n,i,t,a))}));var O=$?void 0:(E?S?Yi:Fi:S?bu:wu)(t);return ie(O||t,(function(r,i){O&&(r=t[i=r]),Un(l,i,Xn(r,e,n,i,t,a))})),l}function Zn(t,e,n){var r=n.length;if(null==t)return!r;for(t=vt(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Jn(t,e,r){if("function"!=typeof t)throw new gt(n);return wo((function(){t.apply(void 0,r)}),e)}function Qn(t,e,n,r){var i=-1,o=se,a=!0,u=t.length,s=[],l=e.length;if(!u)return s;n&&(e=ce(e,Pe(n))),r?(o=le,a=!1):e.length>=200&&(o=Ie,a=!1,e=new On(e));t:for(;++i<u;){var c=t[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var h=l;h--;)if(e[h]===f)continue t;s.push(c)}else o(e,f,r)||s.push(c)}return s}Mn.templateSettings={escape:L,evaluate:q,interpolate:R,variable:"",imports:{_:Mn}},Mn.prototype=Sn.prototype,Mn.prototype.constructor=Mn,En.prototype=In(Sn.prototype),En.prototype.constructor=En,$n.prototype=In(Sn.prototype),$n.prototype.constructor=$n,Cn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Cn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Cn.prototype.get=function(t){var e=this.__data__;if(yn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return jt.call(e,t)?e[t]:void 0},Cn.prototype.has=function(t){var e=this.__data__;return yn?void 0!==e[t]:jt.call(e,t)},Cn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yn&&void 0===e?"__lodash_hash_undefined__":e,this},zn.prototype.clear=function(){this.__data__=[],this.size=0},zn.prototype.delete=function(t){var e=this.__data__,n=Wn(e,t);return!(n<0)&&(n==e.length-1?e.pop():ve.call(e,n,1),--this.size,!0)},zn.prototype.get=function(t){var e=this.__data__,n=Wn(e,t);return n<0?void 0:e[n][1]},zn.prototype.has=function(t){return Wn(this.__data__,t)>-1},zn.prototype.set=function(t,e){var n=this.__data__,r=Wn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Nn.prototype.clear=function(){this.size=0,this.__data__={hash:new Cn,map:new(pn||zn),string:new Cn}},Nn.prototype.delete=function(t){var e=Zi(this,t).delete(t);return this.size-=e?1:0,e},Nn.prototype.get=function(t){return Zi(this,t).get(t)},Nn.prototype.has=function(t){return Zi(this,t).has(t)},Nn.prototype.set=function(t,e){var n=Zi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},On.prototype.add=On.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},On.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.clear=function(){this.__data__=new zn,this.size=0},Ln.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ln.prototype.get=function(t){return this.__data__.get(t)},Ln.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.set=function(t,e){var n=this.__data__;if(n instanceof zn){var r=n.__data__;if(!pn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Nn(r)}return n.set(t,e),this.size=n.size,this};var tr=bi(sr),er=bi(lr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===u?a==a&&!Za(a):n(a,u)))var u=a,s=o}return s}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=oo),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?or(u,e-1,n,r,i):fe(i,u):r||(i[i.length]=u)}return i}var ar=xi(),ur=xi(!0);function sr(t,e){return t&&ar(t,e,wu)}function lr(t,e){return t&&ur(t,e,wu)}function cr(t,e){return ue(e,(function(e){return Da(t[e])}))}function fr(t,e){for(var n=0,r=(e=ui(e,t)).length;null!=t&&n<r;)t=t[Ao(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Ca(t)?r:fe(r,n(t))}function pr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ve&&Ve in vt(t)?function(t){var e=jt.call(t,Ve),n=t[Ve];try{t[Ve]=void 0;var r=!0}catch(t){}var i=Pt.call(t);r&&(e?t[Ve]=n:delete t[Ve]);return i}(t):function(t){return Pt.call(t)}(t)}function dr(t,e){return t>e}function vr(t,e){return null!=t&&jt.call(t,e)}function mr(t,e){return null!=t&&e in vt(t)}function yr(t,e,n){for(var r=n?le:se,i=t[0].length,o=t.length,a=o,u=ct(o),s=1/0,l=[];a--;){var c=t[a];a&&e&&(c=ce(c,Pe(e))),s=un(c.length,s),u[a]=!n&&(e||i>=120&&c.length>=120)?new On(a&&c):void 0}c=t[0];var f=-1,h=u[0];t:for(;++f<i&&l.length<s;){var p=c[f],d=e?e(p):p;if(p=n||0!==p?p:0,!(h?Ie(h,d):r(l,d,n))){for(a=o;--a;){var v=u[a];if(!(v?Ie(v,d):r(t[a],d,n)))continue t}h&&h.push(d),l.push(p)}}return l}function gr(t,e,n){var r=null==(t=mo(t,e=ui(e,t)))?t:t[Ao(Ro(e))];return null==r?void 0:ne(r,t,n)}function _r(t){return Wa(t)&&pr(t)==o}function wr(t,e,n,r,i){return t===e||(null==t||null==e||!Wa(t)&&!Wa(e)?t!=t&&e!=e:function(t,e,n,r,i,c){var f=Ca(t),_=Ca(e),x=f?a:no(t),k=_?a:no(e),j=(x=x==o?d:x)==d,T=(k=k==o?d:k)==d,A=x==k;if(A&&La(t)){if(!La(e))return!1;f=!0,j=!1}if(A&&!j)return c||(c=new Ln),f||Ja(t)?Ui(t,e,n,r,i,c):function(t,e,n,r,i,o,a){switch(n){case b:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!o(new Ut(t),new Ut(e)));case u:case s:case p:return Ia(+t,+e);case l:return t.name==e.name&&t.message==e.message;case v:case y:return t==e+"";case h:var c=Le;case m:var f=1&r;if(c||(c=De),t.size!=e.size&&!f)return!1;var d=a.get(t);if(d)return d==e;r|=2,a.set(t,e);var _=Ui(c(t),c(e),r,i,o,a);return a.delete(t),_;case g:if(An)return An.call(t)==An.call(e)}return!1}(t,e,x,n,r,i,c);if(!(1&n)){var P=j&&jt.call(t,"__wrapped__"),M=T&&jt.call(e,"__wrapped__");if(P||M){var I=P?t.value():t,S=M?e.value():e;return c||(c=new Ln),i(I,S,n,r,c)}}if(!A)return!1;return c||(c=new Ln),function(t,e,n,r,i,o){var a=1&n,u=Fi(t),s=u.length,l=Fi(e).length;if(s!=l&&!a)return!1;var c=s;for(;c--;){var f=u[c];if(!(a?f in e:jt.call(e,f)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var p=!0;o.set(t,e),o.set(e,t);var d=a;for(;++c<s;){f=u[c];var v=t[f],m=e[f];if(r)var y=a?r(m,v,f,e,t,o):r(v,m,f,t,e,o);if(!(void 0===y?v===m||i(v,m,n,r,o):y)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var g=t.constructor,_=e.constructor;g==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,i,c)}(t,e,n,r,wr,i))}function br(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=vt(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var s=(u=n[i])[0],l=t[s],c=u[1];if(a&&u[2]){if(void 0===l&&!(s in t))return!1}else{var f=new Ln;if(r)var h=r(l,c,s,t,e,f);if(!(void 0===h?wr(c,l,3,r,f):h))return!1}}return!0}function xr(t){return!(!Ua(t)||(e=t,At&&At in e))&&(Da(t)?Ct:rt).test(Po(t));var e}function kr(t){return"function"==typeof t?t:null==t?Yu:"object"==typeof t?Ca(t)?Ir(t[0],t[1]):Mr(t):es(t)}function jr(t){if(!fo(t))return on(t);var e=[];for(var n in vt(t))jt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Tr(t){if(!Ua(t))return function(t){var e=[];if(null!=t)for(var n in vt(t))e.push(n);return e}(t);var e=fo(t),n=[];for(var r in t)("constructor"!=r||!e&&jt.call(t,r))&&n.push(r);return n}function Ar(t,e){return t<e}function Pr(t,e){var n=-1,r=Na(t)?ct(t.length):[];return tr(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function Mr(t){var e=Ji(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(n){return n===t||br(n,t,e)}}function Ir(t,e){return so(t)&&ho(e)?po(Ao(t),e):function(n){var r=vu(n,t);return void 0===r&&r===e?mu(n,t):wr(e,r,3)}}function Sr(t,e,n,r,i){t!==e&&ar(e,(function(o,a){if(i||(i=new Ln),Ua(o))!function(t,e,n,r,i,o,a){var u=go(t,n),s=go(e,n),l=a.get(s);if(l)return void Hn(t,n,l);var c=o?o(u,s,n+"",t,e,a):void 0,f=void 0===c;if(f){var h=Ca(s),p=!h&&La(s),d=!h&&!p&&Ja(s);c=s,h||p||d?Ca(u)?c=u:Oa(u)?c=yi(u):p?(f=!1,c=fi(s,!0)):d?(f=!1,c=pi(s,!0)):c=[]:Va(s)||$a(s)?(c=u,$a(u)?c=au(u):Ua(u)&&!Da(u)||(c=io(s))):f=!1}f&&(a.set(s,c),i(c,s,r,o,a),a.delete(s));Hn(t,n,c)}(t,e,a,n,Sr,r,i);else{var u=r?r(go(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),Hn(t,a,u)}}),bu)}function Er(t,e){var n=t.length;if(n)return ao(e+=e<0?n:0,n)?t[e]:void 0}function $r(t,e,n){var r=-1;return e=ce(e.length?e:[Yu],Pe(Xi())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Pr(t,(function(t,n,i){return{criteria:ce(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var s=di(i[r],o[r]);if(s){if(r>=u)return s;var l=n[r];return s*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function Cr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=fr(t,a);n(u,a)&&Br(o,ui(a,t),u)}return o}function zr(t,e,n,r){var i=r?_e:ge,o=-1,a=e.length,u=t;for(t===e&&(e=yi(e)),n&&(u=ce(t,Pe(n)));++o<a;)for(var s=0,l=e[o],c=n?n(l):l;(s=i(u,c,s,r))>-1;)u!==t&&ve.call(u,s,1),ve.call(t,s,1);return t}function Nr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ao(i)?ve.call(t,i,1):Qr(t,i)}}return t}function Or(t,e){return t+Qe(cn()*(e-t+1))}function Lr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Qe(e/2))&&(t+=t)}while(e);return n}function qr(t,e){return bo(vo(t,e,Yu),t+"")}function Rr(t){return Rn(Iu(t))}function Dr(t,e){var n=Iu(t);return jo(n,Gn(e,0,n.length))}function Br(t,e,n,r){if(!Ua(t))return t;for(var i=-1,o=(e=ui(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var s=Ao(e[i]),l=n;if(i!=a){var c=u[s];void 0===(l=r?r(c,s,u):void 0)&&(l=Ua(c)?c:ao(e[i+1])?[]:{})}Un(u,s,l),u=u[s]}return t}var Hr=gn?function(t,e){return gn.set(t,e),t}:Yu,Ur=Ke?function(t,e){return Ke(t,"toString",{configurable:!0,enumerable:!1,value:Uu(e),writable:!0})}:Yu;function Wr(t){return jo(Iu(t))}function Fr(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=ct(i);++r<i;)o[r]=t[r+e];return o}function Yr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Vr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Za(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Kr(t,e,Yu,n)}function Kr(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!=e,u=null===e,s=Za(e),l=void 0===e;i<o;){var c=Qe((i+o)/2),f=n(t[c]),h=void 0!==f,p=null===f,d=f==f,v=Za(f);if(a)var m=r||d;else m=l?d&&(r||h):u?d&&h&&(r||!p):s?d&&h&&!p&&(r||!v):!p&&!v&&(r?f<=e:f<e);m?i=c+1:o=c}return un(o,4294967294)}function Gr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!Ia(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function Xr(t){return"number"==typeof t?t:Za(t)?NaN:+t}function Zr(t){if("string"==typeof t)return t;if(Ca(t))return ce(t,Zr)+"";if(Za(t))return Pn?Pn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Jr(t,e,n){var r=-1,i=se,o=t.length,a=!0,u=[],s=u;if(n)a=!1,i=le;else if(o>=200){var l=e?null:Li(t);if(l)return De(l);a=!1,i=Ie,s=new On}else s=e?[]:u;t:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue t;e&&s.push(f),u.push(c)}else i(s,f,n)||(s!==u&&s.push(f),u.push(c))}return u}function Qr(t,e){return null==(t=mo(t,e=ui(e,t)))||delete t[Ao(Ro(e))]}function ti(t,e,n,r){return Br(t,e,n(fr(t,e)),r)}function ei(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Fr(t,r?0:o,r?o+1:i):Fr(t,r?o+1:0,r?i:o)}function ni(t,e){var n=t;return n instanceof $n&&(n=n.value()),he(e,(function(t,e){return e.func.apply(e.thisArg,fe([t],e.args))}),n)}function ri(t,e,n){var r=t.length;if(r<2)return r?Jr(t[0]):[];for(var i=-1,o=ct(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=Qn(o[i]||a,t[u],e,n));return Jr(or(o,1),e,n)}function ii(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:void 0;n(a,t[r],u)}return a}function oi(t){return Oa(t)?t:[]}function ai(t){return"function"==typeof t?t:Yu}function ui(t,e){return Ca(t)?t:so(t,e)?[t]:To(uu(t))}var si=qr;function li(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Fr(t,e,n)}var ci=Ge||function(t){return Wt.clearTimeout(t)};function fi(t,e){if(e)return t.slice();var n=t.length,r=Ft?Ft(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new Ut(e).set(new Ut(t)),e}function pi(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function di(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Za(t),a=void 0!==e,u=null===e,s=e==e,l=Za(e);if(!u&&!l&&!o&&t>e||o&&a&&s&&!u&&!l||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!s)return-1}return 0}function vi(t,e,n,r){for(var i=-1,o=t.length,a=n.length,u=-1,s=e.length,l=an(o-a,0),c=ct(s+l),f=!r;++u<s;)c[u]=e[u];for(;++i<a;)(f||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[u++]=t[i++];return c}function mi(t,e,n,r){for(var i=-1,o=t.length,a=-1,u=n.length,s=-1,l=e.length,c=an(o-u,0),f=ct(c+l),h=!r;++i<c;)f[i]=t[i];for(var p=i;++s<l;)f[p+s]=e[s];for(;++a<u;)(h||i<o)&&(f[p+n[a]]=t[i++]);return f}function yi(t,e){var n=-1,r=t.length;for(e||(e=ct(r));++n<r;)e[n]=t[n];return e}function gi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],s=r?r(n[u],t[u],u,n,t):void 0;void 0===s&&(s=t[u]),i?Vn(n,u,s):Un(n,u,s)}return n}function _i(t,e){return function(n,r){var i=Ca(n)?re:Fn,o=e?e():{};return i(n,t,Xi(r,2),o)}}function wi(t){return qr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&uo(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=vt(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e}))}function bi(t,e){return function(n,r){if(null==n)return n;if(!Na(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=vt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function xi(t){return function(e,n,r){for(var i=-1,o=vt(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(!1===n(o[s],s,o))break}return e}}function ki(t){return function(e){var n=Oe(e=uu(e))?Ue(e):void 0,r=n?n[0]:e.charAt(0),i=n?li(n,1).join(""):e.slice(1);return r[t]()+i}}function ji(t){return function(e){return he(Du($u(e).replace(It,"")),t,"")}}function Ti(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=In(t.prototype),r=t.apply(n,e);return Ua(r)?r:n}}function Ai(t){return function(e,n,r){var i=vt(e);if(!Na(e)){var o=Xi(n,3);e=wu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Pi(t){return Wi((function(e){var r=e.length,i=r,o=En.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new gt(n);if(o&&!u&&"wrapper"==Ki(a))var u=new En([],!0)}for(i=u?i:r;++i<r;){var s=Ki(a=e[i]),l="wrapper"==s?Vi(a):void 0;u=l&&lo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[Ki(l[0])].apply(u,l[3]):1==a.length&&lo(a)?u[s]():u.thru(a)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&Ca(n))return u.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}function Mi(t,e,n,r,i,o,a,u,s,l){var c=128&e,f=1&e,h=2&e,p=24&e,d=512&e,v=h?void 0:Ti(t);return function m(){for(var y=arguments.length,g=ct(y),_=y;_--;)g[_]=arguments[_];if(p)var w=Gi(m),b=$e(g,w);if(r&&(g=vi(g,r,i,p)),o&&(g=mi(g,o,a,p)),y-=b,p&&y<l){var x=Re(g,w);return Ni(t,e,Mi,m.placeholder,n,g,x,u,s,l-y)}var k=f?n:this,j=h?k[t]:t;return y=g.length,u?g=yo(g,u):d&&y>1&&g.reverse(),c&&s<y&&(g.length=s),this&&this!==Wt&&this instanceof m&&(j=v||Ti(j)),j.apply(k,g)}}function Ii(t,e){return function(n,r){return function(t,e,n,r){return sr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Si(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Zr(n),r=Zr(r)):(n=Xr(n),r=Xr(r)),i=t(n,r)}return i}}function Ei(t){return Wi((function(e){return e=ce(e,Pe(Xi())),qr((function(n){var r=this;return t(e,(function(t){return ne(t,r,n)}))}))}))}function $i(t,e){var n=(e=void 0===e?" ":Zr(e)).length;if(n<2)return n?Lr(e,t):e;var r=Lr(e,Je(t/He(e)));return Oe(e)?li(Ue(r),0,t).join(""):r.slice(0,t)}function Ci(t){return function(e,n,r){return r&&"number"!=typeof r&&uo(e,n,r)&&(n=r=void 0),e=nu(e),void 0===n?(n=e,e=0):n=nu(n),function(t,e,n,r){for(var i=-1,o=an(Je((e-t)/(n||1)),0),a=ct(o);o--;)a[r?o:++i]=t,t+=n;return a}(e,n,r=void 0===r?e<n?1:-1:nu(r),t)}}function zi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ou(e),n=ou(n)),t(e,n)}}function Ni(t,e,n,r,i,o,a,u,s,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var f=[t,e,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,u,s,l],h=n.apply(void 0,f);return lo(t)&&_o(h,f),h.placeholder=r,xo(h,t,e)}function Oi(t){var e=dt[t];return function(t,n){if(t=ou(t),(n=null==n?0:un(ru(n),292))&&nn(t)){var r=(uu(t)+"e").split("e");return+((r=(uu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Li=vn&&1/De(new vn([,-0]))[1]==1/0?function(t){return new vn(t)}:Zu;function qi(t){return function(e){var n=no(e);return n==h?Le(e):n==m?Be(e):function(t,e){return ce(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ri(t,e,i,o,a,u,s,l){var c=2&e;if(!c&&"function"!=typeof t)throw new gt(n);var f=o?o.length:0;if(f||(e&=-97,o=a=void 0),s=void 0===s?s:an(ru(s),0),l=void 0===l?l:ru(l),f-=a?a.length:0,64&e){var h=o,p=a;o=a=void 0}var d=c?void 0:Vi(t),v=[t,e,i,o,a,h,p,u,s,l];if(d&&function(t,e){var n=t[1],i=e[1],o=n|i,a=o<131,u=128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!a&&!u)return t;1&i&&(t[2]=e[2],o|=1&n?0:4);var s=e[3];if(s){var l=t[3];t[3]=l?vi(l,s,e[4]):s,t[4]=l?Re(t[3],r):e[4]}(s=e[5])&&(l=t[5],t[5]=l?mi(l,s,e[6]):s,t[6]=l?Re(t[5],r):e[6]);(s=e[7])&&(t[7]=s);128&i&&(t[8]=null==t[8]?e[8]:un(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(v,d),t=v[0],e=v[1],i=v[2],o=v[3],a=v[4],!(l=v[9]=void 0===v[9]?c?0:t.length:an(v[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,n){var r=Ti(t);return function i(){for(var o=arguments.length,a=ct(o),u=o,s=Gi(i);u--;)a[u]=arguments[u];var l=o<3&&a[0]!==s&&a[o-1]!==s?[]:Re(a,s);if((o-=l.length)<n)return Ni(t,e,Mi,i.placeholder,void 0,a,l,void 0,void 0,n-o);var c=this&&this!==Wt&&this instanceof i?r:t;return ne(c,this,a)}}(t,e,l):32!=e&&33!=e||a.length?Mi.apply(void 0,v):function(t,e,n,r){var i=1&e,o=Ti(t);return function e(){for(var a=-1,u=arguments.length,s=-1,l=r.length,c=ct(l+u),f=this&&this!==Wt&&this instanceof e?o:t;++s<l;)c[s]=r[s];for(;u--;)c[s++]=arguments[++a];return ne(f,i?n:this,c)}}(t,e,i,o);else var m=function(t,e,n){var r=1&e,i=Ti(t);return function e(){var o=this&&this!==Wt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,i);return xo((d?Hr:_o)(m,v),t,e)}function Di(t,e,n,r){return void 0===t||Ia(t,bt[n])&&!jt.call(r,n)?e:t}function Bi(t,e,n,r,i,o){return Ua(t)&&Ua(e)&&(o.set(e,t),Sr(t,e,void 0,Bi,o),o.delete(e)),t}function Hi(t){return Va(t)?void 0:t}function Ui(t,e,n,r,i,o){var a=1&n,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,f=!0,h=2&n?new On:void 0;for(o.set(t,e),o.set(e,t);++c<u;){var p=t[c],d=e[c];if(r)var v=a?r(d,p,c,e,t,o):r(p,d,c,t,e,o);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!de(e,(function(t,e){if(!Ie(h,e)&&(p===t||i(p,t,n,r,o)))return h.push(e)}))){f=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Wi(t){return bo(vo(t,void 0,zo),t+"")}function Fi(t){return hr(t,wu,to)}function Yi(t){return hr(t,bu,eo)}var Vi=gn?function(t){return gn.get(t)}:Zu;function Ki(t){for(var e=t.name+"",n=_n[e],r=jt.call(_n,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Gi(t){return(jt.call(Mn,"placeholder")?Mn:t).placeholder}function Xi(){var t=Mn.iteratee||Vu;return t=t===Vu?kr:t,arguments.length?t(arguments[0],arguments[1]):t}function Zi(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Ji(t){for(var e=wu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function Qi(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return xr(n)?n:void 0}var to=tn?function(t){return null==t?[]:(t=vt(t),ue(tn(t),(function(e){return Gt.call(t,e)})))}:is,eo=tn?function(t){for(var e=[];t;)fe(e,to(t)),t=Yt(t);return e}:is,no=pr;function ro(t,e,n){for(var r=-1,i=(e=ui(e,t)).length,o=!1;++r<i;){var a=Ao(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ha(i)&&ao(a,i)&&(Ca(t)||$a(t))}function io(t){return"function"!=typeof t.constructor||fo(t)?{}:In(Yt(t))}function oo(t){return Ca(t)||$a(t)||!!(ke&&t&&t[ke])}function ao(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ot.test(t))&&t>-1&&t%1==0&&t<e}function uo(t,e,n){if(!Ua(n))return!1;var r=typeof e;return!!("number"==r?Na(n)&&ao(e,n.length):"string"==r&&e in n)&&Ia(n[e],t)}function so(t,e){if(Ca(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Za(t))||(B.test(t)||!D.test(t)||null!=e&&t in vt(e))}function lo(t){var e=Ki(t),n=Mn[e];if("function"!=typeof n||!(e in $n.prototype))return!1;if(t===n)return!0;var r=Vi(n);return!!r&&t===r[0]}(hn&&no(new hn(new ArrayBuffer(1)))!=b||pn&&no(new pn)!=h||dn&&"[object Promise]"!=no(dn.resolve())||vn&&no(new vn)!=m||mn&&no(new mn)!=_)&&(no=function(t){var e=pr(t),n=e==d?t.constructor:void 0,r=n?Po(n):"";if(r)switch(r){case wn:return b;case bn:return h;case xn:return"[object Promise]";case kn:return m;case jn:return _}return e});var co=xt?Da:os;function fo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bt)}function ho(t){return t==t&&!Ua(t)}function po(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in vt(n)))}}function vo(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=an(r.length-e,0),a=ct(o);++i<o;)a[i]=r[e+i];i=-1;for(var u=ct(e+1);++i<e;)u[i]=r[i];return u[e]=n(a),ne(t,this,u)}}function mo(t,e){return e.length<2?t:fr(t,Fr(e,0,-1))}function yo(t,e){for(var n=t.length,r=un(e.length,n),i=yi(t);r--;){var o=e[r];t[r]=ao(o,n)?i[o]:void 0}return t}function go(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var _o=ko(Hr),wo=Ze||function(t,e){return Wt.setTimeout(t,e)},bo=ko(Ur);function xo(t,e,n){var r=e+"";return bo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(K,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ie(i,(function(n){var r="_."+n[0];e&n[1]&&!se(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(G);return e?e[1].split(X):[]}(r),n)))}function ko(t){var e=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function jo(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Or(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var To=function(t){var e=ka(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(H,(function(t,n,r,i){e.push(r?i.replace(J,"$1"):n||t)})),e}));function Ao(t){if("string"==typeof t||Za(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Po(t){if(null!=t){try{return kt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Mo(t){if(t instanceof $n)return t.clone();var e=new En(t.__wrapped__,t.__chain__);return e.__actions__=yi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Io=qr((function(t,e){return Oa(t)?Qn(t,or(e,1,Oa,!0)):[]})),So=qr((function(t,e){var n=Ro(e);return Oa(n)&&(n=void 0),Oa(t)?Qn(t,or(e,1,Oa,!0),Xi(n,2)):[]})),Eo=qr((function(t,e){var n=Ro(e);return Oa(n)&&(n=void 0),Oa(t)?Qn(t,or(e,1,Oa,!0),void 0,n):[]}));function $o(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ru(n);return i<0&&(i=an(r+i,0)),ye(t,Xi(e,3),i)}function Co(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ru(n),i=n<0?an(r+i,0):un(i,r-1)),ye(t,Xi(e,3),i,!0)}function zo(t){return(null==t?0:t.length)?or(t,1):[]}function No(t){return t&&t.length?t[0]:void 0}var Oo=qr((function(t){var e=ce(t,oi);return e.length&&e[0]===t[0]?yr(e):[]})),Lo=qr((function(t){var e=Ro(t),n=ce(t,oi);return e===Ro(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?yr(n,Xi(e,2)):[]})),qo=qr((function(t){var e=Ro(t),n=ce(t,oi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?yr(n,void 0,e):[]}));function Ro(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Do=qr(Bo);function Bo(t,e){return t&&t.length&&e&&e.length?zr(t,e):t}var Ho=Wi((function(t,e){var n=null==t?0:t.length,r=Kn(t,e);return Nr(t,ce(e,(function(t){return ao(t,n)?+t:t})).sort(di)),r}));function Uo(t){return null==t?t:fn.call(t)}var Wo=qr((function(t){return Jr(or(t,1,Oa,!0))})),Fo=qr((function(t){var e=Ro(t);return Oa(e)&&(e=void 0),Jr(or(t,1,Oa,!0),Xi(e,2))})),Yo=qr((function(t){var e=Ro(t);return e="function"==typeof e?e:void 0,Jr(or(t,1,Oa,!0),void 0,e)}));function Vo(t){if(!t||!t.length)return[];var e=0;return t=ue(t,(function(t){if(Oa(t))return e=an(t.length,e),!0})),Ae(e,(function(e){return ce(t,xe(e))}))}function Ko(t,e){if(!t||!t.length)return[];var n=Vo(t);return null==e?n:ce(n,(function(t){return ne(e,void 0,t)}))}var Go=qr((function(t,e){return Oa(t)?Qn(t,e):[]})),Xo=qr((function(t){return ri(ue(t,Oa))})),Zo=qr((function(t){var e=Ro(t);return Oa(e)&&(e=void 0),ri(ue(t,Oa),Xi(e,2))})),Jo=qr((function(t){var e=Ro(t);return e="function"==typeof e?e:void 0,ri(ue(t,Oa),void 0,e)})),Qo=qr(Vo);var ta=qr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Ko(t,n)}));function ea(t){var e=Mn(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=Wi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Kn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof $n&&ao(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new En(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=_i((function(t,e,n){jt.call(t,n)?++t[n]:Vn(t,n,1)}));var oa=Ai($o),aa=Ai(Co);function ua(t,e){return(Ca(t)?ie:tr)(t,Xi(e,3))}function sa(t,e){return(Ca(t)?oe:er)(t,Xi(e,3))}var la=_i((function(t,e,n){jt.call(t,n)?t[n].push(e):Vn(t,n,[e])}));var ca=qr((function(t,e,n){var r=-1,i="function"==typeof e,o=Na(t)?ct(t.length):[];return tr(t,(function(t){o[++r]=i?ne(e,t,n):gr(t,e,n)})),o})),fa=_i((function(t,e,n){Vn(t,n,e)}));function ha(t,e){return(Ca(t)?ce:Pr)(t,Xi(e,3))}var pa=_i((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var da=qr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&uo(t,e[0],e[1])?e=[]:n>2&&uo(e[0],e[1],e[2])&&(e=[e[0]]),$r(t,or(e,1),[])})),va=Xe||function(){return Wt.Date.now()};function ma(t,e,n){return e=n?void 0:e,Ri(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ya(t,e){var r;if("function"!=typeof e)throw new gt(n);return t=ru(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}var ga=qr((function(t,e,n){var r=1;if(n.length){var i=Re(n,Gi(ga));r|=32}return Ri(t,r,e,n,i)})),_a=qr((function(t,e,n){var r=3;if(n.length){var i=Re(n,Gi(_a));r|=32}return Ri(e,r,t,n,i)}));function wa(t,e,r){var i,o,a,u,s,l,c=0,f=!1,h=!1,p=!0;if("function"!=typeof t)throw new gt(n);function d(e){var n=i,r=o;return i=o=void 0,c=e,u=t.apply(r,n)}function v(t){return c=t,s=wo(y,e),f?d(t):u}function m(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-c>=a}function y(){var t=va();if(m(t))return g(t);s=wo(y,function(t){var n=e-(t-l);return h?un(n,a-(t-c)):n}(t))}function g(t){return s=void 0,p&&i?d(t):(i=o=void 0,u)}function _(){var t=va(),n=m(t);if(i=arguments,o=this,l=t,n){if(void 0===s)return v(l);if(h)return ci(s),s=wo(y,e),d(l)}return void 0===s&&(s=wo(y,e)),u}return e=ou(e)||0,Ua(r)&&(f=!!r.leading,a=(h="maxWait"in r)?an(ou(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p),_.cancel=function(){void 0!==s&&ci(s),c=0,i=l=o=s=void 0},_.flush=function(){return void 0===s?u:g(va())},_}var ba=qr((function(t,e){return Jn(t,1,e)})),xa=qr((function(t,e,n){return Jn(t,ou(e)||0,n)}));function ka(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new gt(n);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(ka.Cache||Nn),r}function ja(t){if("function"!=typeof t)throw new gt(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ka.Cache=Nn;var Ta=si((function(t,e){var n=(e=1==e.length&&Ca(e[0])?ce(e[0],Pe(Xi())):ce(or(e,1),Pe(Xi()))).length;return qr((function(r){for(var i=-1,o=un(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ne(t,this,r)}))})),Aa=qr((function(t,e){return Ri(t,32,void 0,e,Re(e,Gi(Aa)))})),Pa=qr((function(t,e){return Ri(t,64,void 0,e,Re(e,Gi(Pa)))})),Ma=Wi((function(t,e){return Ri(t,256,void 0,void 0,void 0,e)}));function Ia(t,e){return t===e||t!=t&&e!=e}var Sa=zi(dr),Ea=zi((function(t,e){return t>=e})),$a=_r(function(){return arguments}())?_r:function(t){return Wa(t)&&jt.call(t,"callee")&&!Gt.call(t,"callee")},Ca=ct.isArray,za=Xt?Pe(Xt):function(t){return Wa(t)&&pr(t)==w};function Na(t){return null!=t&&Ha(t.length)&&!Da(t)}function Oa(t){return Wa(t)&&Na(t)}var La=en||os,qa=Zt?Pe(Zt):function(t){return Wa(t)&&pr(t)==s};function Ra(t){if(!Wa(t))return!1;var e=pr(t);return e==l||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Va(t)}function Da(t){if(!Ua(t))return!1;var e=pr(t);return e==c||e==f||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ba(t){return"number"==typeof t&&t==ru(t)}function Ha(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ua(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Wa(t){return null!=t&&"object"==typeof t}var Fa=Jt?Pe(Jt):function(t){return Wa(t)&&no(t)==h};function Ya(t){return"number"==typeof t||Wa(t)&&pr(t)==p}function Va(t){if(!Wa(t)||pr(t)!=d)return!1;var e=Yt(t);if(null===e)return!0;var n=jt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&kt.call(n)==Mt}var Ka=Qt?Pe(Qt):function(t){return Wa(t)&&pr(t)==v};var Ga=te?Pe(te):function(t){return Wa(t)&&no(t)==m};function Xa(t){return"string"==typeof t||!Ca(t)&&Wa(t)&&pr(t)==y}function Za(t){return"symbol"==typeof t||Wa(t)&&pr(t)==g}var Ja=ee?Pe(ee):function(t){return Wa(t)&&Ha(t.length)&&!!Lt[pr(t)]};var Qa=zi(Ar),tu=zi((function(t,e){return t<=e}));function eu(t){if(!t)return[];if(Na(t))return Xa(t)?Ue(t):yi(t);if(Ye&&t[Ye])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ye]());var e=no(t);return(e==h?Le:e==m?De:Iu)(t)}function nu(t){return t?(t=ou(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ru(t){var e=nu(t),n=e%1;return e==e?n?e-n:e:0}function iu(t){return t?Gn(ru(t),0,4294967295):0}function ou(t){if("number"==typeof t)return t;if(Za(t))return NaN;if(Ua(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ua(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(F,"");var n=nt.test(t);return n||it.test(t)?Bt(t.slice(2),n?2:8):et.test(t)?NaN:+t}function au(t){return gi(t,bu(t))}function uu(t){return null==t?"":Zr(t)}var su=wi((function(t,e){if(fo(e)||Na(e))gi(e,wu(e),t);else for(var n in e)jt.call(e,n)&&Un(t,n,e[n])})),lu=wi((function(t,e){gi(e,bu(e),t)})),cu=wi((function(t,e,n,r){gi(e,bu(e),t,r)})),fu=wi((function(t,e,n,r){gi(e,wu(e),t,r)})),hu=Wi(Kn);var pu=qr((function(t,e){t=vt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&uo(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=bu(o),u=-1,s=a.length;++u<s;){var l=a[u],c=t[l];(void 0===c||Ia(c,bt[l])&&!jt.call(t,l))&&(t[l]=o[l])}return t})),du=qr((function(t){return t.push(void 0,Bi),ne(ku,void 0,t)}));function vu(t,e,n){var r=null==t?void 0:fr(t,e);return void 0===r?n:r}function mu(t,e){return null!=t&&ro(t,e,mr)}var yu=Ii((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),t[e]=n}),Uu(Yu)),gu=Ii((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),jt.call(t,e)?t[e].push(n):t[e]=[n]}),Xi),_u=qr(gr);function wu(t){return Na(t)?qn(t):jr(t)}function bu(t){return Na(t)?qn(t,!0):Tr(t)}var xu=wi((function(t,e,n){Sr(t,e,n)})),ku=wi((function(t,e,n,r){Sr(t,e,n,r)})),ju=Wi((function(t,e){var n={};if(null==t)return n;var r=!1;e=ce(e,(function(e){return e=ui(e,t),r||(r=e.length>1),e})),gi(t,Yi(t),n),r&&(n=Xn(n,7,Hi));for(var i=e.length;i--;)Qr(n,e[i]);return n}));var Tu=Wi((function(t,e){return null==t?{}:function(t,e){return Cr(t,e,(function(e,n){return mu(t,n)}))}(t,e)}));function Au(t,e){if(null==t)return{};var n=ce(Yi(t),(function(t){return[t]}));return e=Xi(e),Cr(t,n,(function(t,n){return e(t,n[0])}))}var Pu=qi(wu),Mu=qi(bu);function Iu(t){return null==t?[]:Me(t,wu(t))}var Su=ji((function(t,e,n){return e=e.toLowerCase(),t+(n?Eu(e):e)}));function Eu(t){return Ru(uu(t).toLowerCase())}function $u(t){return(t=uu(t))&&t.replace(at,Ce).replace(St,"")}var Cu=ji((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),zu=ji((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Nu=ki("toLowerCase");var Ou=ji((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Lu=ji((function(t,e,n){return t+(n?" ":"")+Ru(e)}));var qu=ji((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ru=ki("toUpperCase");function Du(t,e,n){return t=uu(t),void 0===(e=n?void 0:e)?function(t){return zt.test(t)}(t)?function(t){return t.match($t)||[]}(t):function(t){return t.match(Z)||[]}(t):t.match(e)||[]}var Bu=qr((function(t,e){try{return ne(t,void 0,e)}catch(t){return Ra(t)?t:new ht(t)}})),Hu=Wi((function(t,e){return ie(e,(function(e){e=Ao(e),Vn(t,e,ga(t[e],t))})),t}));function Uu(t){return function(){return t}}var Wu=Pi(),Fu=Pi(!0);function Yu(t){return t}function Vu(t){return kr("function"==typeof t?t:Xn(t,1))}var Ku=qr((function(t,e){return function(n){return gr(n,t,e)}})),Gu=qr((function(t,e){return function(n){return gr(t,n,e)}}));function Xu(t,e,n){var r=wu(e),i=cr(e,r);null!=n||Ua(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=cr(e,wu(e)));var o=!(Ua(n)&&"chain"in n&&!n.chain),a=Da(t);return ie(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,fe([this.value()],arguments))})})),t}function Zu(){}var Ju=Ei(ce),Qu=Ei(ae),ts=Ei(de);function es(t){return so(t)?xe(Ao(t)):function(t){return function(e){return fr(e,t)}}(t)}var ns=Ci(),rs=Ci(!0);function is(){return[]}function os(){return!1}var as=Si((function(t,e){return t+e}),0),us=Oi("ceil"),ss=Si((function(t,e){return t/e}),1),ls=Oi("floor");var cs,fs=Si((function(t,e){return t*e}),1),hs=Oi("round"),ps=Si((function(t,e){return t-e}),0);return Mn.after=function(t,e){if("function"!=typeof e)throw new gt(n);return t=ru(t),function(){if(--t<1)return e.apply(this,arguments)}},Mn.ary=ma,Mn.assign=su,Mn.assignIn=lu,Mn.assignInWith=cu,Mn.assignWith=fu,Mn.at=hu,Mn.before=ya,Mn.bind=ga,Mn.bindAll=Hu,Mn.bindKey=_a,Mn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ca(t)?t:[t]},Mn.chain=ea,Mn.chunk=function(t,e,n){e=(n?uo(t,e,n):void 0===e)?1:an(ru(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=ct(Je(r/e));i<r;)a[o++]=Fr(t,i,i+=e);return a},Mn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Mn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=ct(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return fe(Ca(n)?yi(n):[n],or(e,1))},Mn.cond=function(t){var e=null==t?0:t.length,r=Xi();return t=e?ce(t,(function(t){if("function"!=typeof t[1])throw new gt(n);return[r(t[0]),t[1]]})):[],qr((function(n){for(var r=-1;++r<e;){var i=t[r];if(ne(i[0],this,n))return ne(i[1],this,n)}}))},Mn.conforms=function(t){return function(t){var e=wu(t);return function(n){return Zn(n,t,e)}}(Xn(t,1))},Mn.constant=Uu,Mn.countBy=ia,Mn.create=function(t,e){var n=In(t);return null==e?n:Yn(n,e)},Mn.curry=function t(e,n,r){var i=Ri(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Mn.curryRight=function t(e,n,r){var i=Ri(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Mn.debounce=wa,Mn.defaults=pu,Mn.defaultsDeep=du,Mn.defer=ba,Mn.delay=xa,Mn.difference=Io,Mn.differenceBy=So,Mn.differenceWith=Eo,Mn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Fr(t,(e=n||void 0===e?1:ru(e))<0?0:e,r):[]},Mn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Fr(t,0,(e=r-(e=n||void 0===e?1:ru(e)))<0?0:e):[]},Mn.dropRightWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!0,!0):[]},Mn.dropWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!0):[]},Mn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&uo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ru(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ru(r))<0&&(r+=i),r=n>r?0:iu(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Mn.filter=function(t,e){return(Ca(t)?ue:ir)(t,Xi(e,3))},Mn.flatMap=function(t,e){return or(ha(t,e),1)},Mn.flatMapDeep=function(t,e){return or(ha(t,e),1/0)},Mn.flatMapDepth=function(t,e,n){return n=void 0===n?1:ru(n),or(ha(t,e),n)},Mn.flatten=zo,Mn.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},Mn.flattenDepth=function(t,e){return(null==t?0:t.length)?or(t,e=void 0===e?1:ru(e)):[]},Mn.flip=function(t){return Ri(t,512)},Mn.flow=Wu,Mn.flowRight=Fu,Mn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Mn.functions=function(t){return null==t?[]:cr(t,wu(t))},Mn.functionsIn=function(t){return null==t?[]:cr(t,bu(t))},Mn.groupBy=la,Mn.initial=function(t){return(null==t?0:t.length)?Fr(t,0,-1):[]},Mn.intersection=Oo,Mn.intersectionBy=Lo,Mn.intersectionWith=qo,Mn.invert=yu,Mn.invertBy=gu,Mn.invokeMap=ca,Mn.iteratee=Vu,Mn.keyBy=fa,Mn.keys=wu,Mn.keysIn=bu,Mn.map=ha,Mn.mapKeys=function(t,e){var n={};return e=Xi(e,3),sr(t,(function(t,r,i){Vn(n,e(t,r,i),t)})),n},Mn.mapValues=function(t,e){var n={};return e=Xi(e,3),sr(t,(function(t,r,i){Vn(n,r,e(t,r,i))})),n},Mn.matches=function(t){return Mr(Xn(t,1))},Mn.matchesProperty=function(t,e){return Ir(t,Xn(e,1))},Mn.memoize=ka,Mn.merge=xu,Mn.mergeWith=ku,Mn.method=Ku,Mn.methodOf=Gu,Mn.mixin=Xu,Mn.negate=ja,Mn.nthArg=function(t){return t=ru(t),qr((function(e){return Er(e,t)}))},Mn.omit=ju,Mn.omitBy=function(t,e){return Au(t,ja(Xi(e)))},Mn.once=function(t){return ya(2,t)},Mn.orderBy=function(t,e,n,r){return null==t?[]:(Ca(e)||(e=null==e?[]:[e]),Ca(n=r?void 0:n)||(n=null==n?[]:[n]),$r(t,e,n))},Mn.over=Ju,Mn.overArgs=Ta,Mn.overEvery=Qu,Mn.overSome=ts,Mn.partial=Aa,Mn.partialRight=Pa,Mn.partition=pa,Mn.pick=Tu,Mn.pickBy=Au,Mn.property=es,Mn.propertyOf=function(t){return function(e){return null==t?void 0:fr(t,e)}},Mn.pull=Do,Mn.pullAll=Bo,Mn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?zr(t,e,Xi(n,2)):t},Mn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?zr(t,e,void 0,n):t},Mn.pullAt=Ho,Mn.range=ns,Mn.rangeRight=rs,Mn.rearg=Ma,Mn.reject=function(t,e){return(Ca(t)?ue:ir)(t,ja(Xi(e,3)))},Mn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Xi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Nr(t,i),n},Mn.rest=function(t,e){if("function"!=typeof t)throw new gt(n);return qr(t,e=void 0===e?e:ru(e))},Mn.reverse=Uo,Mn.sampleSize=function(t,e,n){return e=(n?uo(t,e,n):void 0===e)?1:ru(e),(Ca(t)?Dn:Dr)(t,e)},Mn.set=function(t,e,n){return null==t?t:Br(t,e,n)},Mn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Br(t,e,n,r)},Mn.shuffle=function(t){return(Ca(t)?Bn:Wr)(t)},Mn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&uo(t,e,n)?(e=0,n=r):(e=null==e?0:ru(e),n=void 0===n?r:ru(n)),Fr(t,e,n)):[]},Mn.sortBy=da,Mn.sortedUniq=function(t){return t&&t.length?Gr(t):[]},Mn.sortedUniqBy=function(t,e){return t&&t.length?Gr(t,Xi(e,2)):[]},Mn.split=function(t,e,n){return n&&"number"!=typeof n&&uo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=uu(t))&&("string"==typeof e||null!=e&&!Ka(e))&&!(e=Zr(e))&&Oe(t)?li(Ue(t),0,n):t.split(e,n):[]},Mn.spread=function(t,e){if("function"!=typeof t)throw new gt(n);return e=null==e?0:an(ru(e),0),qr((function(n){var r=n[e],i=li(n,0,e);return r&&fe(i,r),ne(t,this,i)}))},Mn.tail=function(t){var e=null==t?0:t.length;return e?Fr(t,1,e):[]},Mn.take=function(t,e,n){return t&&t.length?Fr(t,0,(e=n||void 0===e?1:ru(e))<0?0:e):[]},Mn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Fr(t,(e=r-(e=n||void 0===e?1:ru(e)))<0?0:e,r):[]},Mn.takeRightWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!1,!0):[]},Mn.takeWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3)):[]},Mn.tap=function(t,e){return e(t),t},Mn.throttle=function(t,e,r){var i=!0,o=!0;if("function"!=typeof t)throw new gt(n);return Ua(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),wa(t,e,{leading:i,maxWait:e,trailing:o})},Mn.thru=na,Mn.toArray=eu,Mn.toPairs=Pu,Mn.toPairsIn=Mu,Mn.toPath=function(t){return Ca(t)?ce(t,Ao):Za(t)?[t]:yi(To(uu(t)))},Mn.toPlainObject=au,Mn.transform=function(t,e,n){var r=Ca(t),i=r||La(t)||Ja(t);if(e=Xi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ua(t)&&Da(o)?In(Yt(t)):{}}return(i?ie:sr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Mn.unary=function(t){return ma(t,1)},Mn.union=Wo,Mn.unionBy=Fo,Mn.unionWith=Yo,Mn.uniq=function(t){return t&&t.length?Jr(t):[]},Mn.uniqBy=function(t,e){return t&&t.length?Jr(t,Xi(e,2)):[]},Mn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Jr(t,void 0,e):[]},Mn.unset=function(t,e){return null==t||Qr(t,e)},Mn.unzip=Vo,Mn.unzipWith=Ko,Mn.update=function(t,e,n){return null==t?t:ti(t,e,ai(n))},Mn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,e,ai(n),r)},Mn.values=Iu,Mn.valuesIn=function(t){return null==t?[]:Me(t,bu(t))},Mn.without=Go,Mn.words=Du,Mn.wrap=function(t,e){return Aa(ai(e),t)},Mn.xor=Xo,Mn.xorBy=Zo,Mn.xorWith=Jo,Mn.zip=Qo,Mn.zipObject=function(t,e){return ii(t||[],e||[],Un)},Mn.zipObjectDeep=function(t,e){return ii(t||[],e||[],Br)},Mn.zipWith=ta,Mn.entries=Pu,Mn.entriesIn=Mu,Mn.extend=lu,Mn.extendWith=cu,Xu(Mn,Mn),Mn.add=as,Mn.attempt=Bu,Mn.camelCase=Su,Mn.capitalize=Eu,Mn.ceil=us,Mn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=ou(n))==n?n:0),void 0!==e&&(e=(e=ou(e))==e?e:0),Gn(ou(t),e,n)},Mn.clone=function(t){return Xn(t,4)},Mn.cloneDeep=function(t){return Xn(t,5)},Mn.cloneDeepWith=function(t,e){return Xn(t,5,e="function"==typeof e?e:void 0)},Mn.cloneWith=function(t,e){return Xn(t,4,e="function"==typeof e?e:void 0)},Mn.conformsTo=function(t,e){return null==e||Zn(t,e,wu(e))},Mn.deburr=$u,Mn.defaultTo=function(t,e){return null==t||t!=t?e:t},Mn.divide=ss,Mn.endsWith=function(t,e,n){t=uu(t),e=Zr(e);var r=t.length,i=n=void 0===n?r:Gn(ru(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Mn.eq=Ia,Mn.escape=function(t){return(t=uu(t))&&O.test(t)?t.replace(z,ze):t},Mn.escapeRegExp=function(t){return(t=uu(t))&&W.test(t)?t.replace(U,"\\$&"):t},Mn.every=function(t,e,n){var r=Ca(t)?ae:nr;return n&&uo(t,e,n)&&(e=void 0),r(t,Xi(e,3))},Mn.find=oa,Mn.findIndex=$o,Mn.findKey=function(t,e){return me(t,Xi(e,3),sr)},Mn.findLast=aa,Mn.findLastIndex=Co,Mn.findLastKey=function(t,e){return me(t,Xi(e,3),lr)},Mn.floor=ls,Mn.forEach=ua,Mn.forEachRight=sa,Mn.forIn=function(t,e){return null==t?t:ar(t,Xi(e,3),bu)},Mn.forInRight=function(t,e){return null==t?t:ur(t,Xi(e,3),bu)},Mn.forOwn=function(t,e){return t&&sr(t,Xi(e,3))},Mn.forOwnRight=function(t,e){return t&&lr(t,Xi(e,3))},Mn.get=vu,Mn.gt=Sa,Mn.gte=Ea,Mn.has=function(t,e){return null!=t&&ro(t,e,vr)},Mn.hasIn=mu,Mn.head=No,Mn.identity=Yu,Mn.includes=function(t,e,n,r){t=Na(t)?t:Iu(t),n=n&&!r?ru(n):0;var i=t.length;return n<0&&(n=an(i+n,0)),Xa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&ge(t,e,n)>-1},Mn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ru(n);return i<0&&(i=an(r+i,0)),ge(t,e,i)},Mn.inRange=function(t,e,n){return e=nu(e),void 0===n?(n=e,e=0):n=nu(n),function(t,e,n){return t>=un(e,n)&&t<an(e,n)}(t=ou(t),e,n)},Mn.invoke=_u,Mn.isArguments=$a,Mn.isArray=Ca,Mn.isArrayBuffer=za,Mn.isArrayLike=Na,Mn.isArrayLikeObject=Oa,Mn.isBoolean=function(t){return!0===t||!1===t||Wa(t)&&pr(t)==u},Mn.isBuffer=La,Mn.isDate=qa,Mn.isElement=function(t){return Wa(t)&&1===t.nodeType&&!Va(t)},Mn.isEmpty=function(t){if(null==t)return!0;if(Na(t)&&(Ca(t)||"string"==typeof t||"function"==typeof t.splice||La(t)||Ja(t)||$a(t)))return!t.length;var e=no(t);if(e==h||e==m)return!t.size;if(fo(t))return!jr(t).length;for(var n in t)if(jt.call(t,n))return!1;return!0},Mn.isEqual=function(t,e){return wr(t,e)},Mn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?wr(t,e,void 0,n):!!r},Mn.isError=Ra,Mn.isFinite=function(t){return"number"==typeof t&&nn(t)},Mn.isFunction=Da,Mn.isInteger=Ba,Mn.isLength=Ha,Mn.isMap=Fa,Mn.isMatch=function(t,e){return t===e||br(t,e,Ji(e))},Mn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,br(t,e,Ji(e),n)},Mn.isNaN=function(t){return Ya(t)&&t!=+t},Mn.isNative=function(t){if(co(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(t)},Mn.isNil=function(t){return null==t},Mn.isNull=function(t){return null===t},Mn.isNumber=Ya,Mn.isObject=Ua,Mn.isObjectLike=Wa,Mn.isPlainObject=Va,Mn.isRegExp=Ka,Mn.isSafeInteger=function(t){return Ba(t)&&t>=-9007199254740991&&t<=9007199254740991},Mn.isSet=Ga,Mn.isString=Xa,Mn.isSymbol=Za,Mn.isTypedArray=Ja,Mn.isUndefined=function(t){return void 0===t},Mn.isWeakMap=function(t){return Wa(t)&&no(t)==_},Mn.isWeakSet=function(t){return Wa(t)&&"[object WeakSet]"==pr(t)},Mn.join=function(t,e){return null==t?"":rn.call(t,e)},Mn.kebabCase=Cu,Mn.last=Ro,Mn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ru(n))<0?an(r+i,0):un(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):ye(t,we,i,!0)},Mn.lowerCase=zu,Mn.lowerFirst=Nu,Mn.lt=Qa,Mn.lte=tu,Mn.max=function(t){return t&&t.length?rr(t,Yu,dr):void 0},Mn.maxBy=function(t,e){return t&&t.length?rr(t,Xi(e,2),dr):void 0},Mn.mean=function(t){return be(t,Yu)},Mn.meanBy=function(t,e){return be(t,Xi(e,2))},Mn.min=function(t){return t&&t.length?rr(t,Yu,Ar):void 0},Mn.minBy=function(t,e){return t&&t.length?rr(t,Xi(e,2),Ar):void 0},Mn.stubArray=is,Mn.stubFalse=os,Mn.stubObject=function(){return{}},Mn.stubString=function(){return""},Mn.stubTrue=function(){return!0},Mn.multiply=fs,Mn.nth=function(t,e){return t&&t.length?Er(t,ru(e)):void 0},Mn.noConflict=function(){return Wt._===this&&(Wt._=Et),this},Mn.noop=Zu,Mn.now=va,Mn.pad=function(t,e,n){t=uu(t);var r=(e=ru(e))?He(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return $i(Qe(i),n)+t+$i(Je(i),n)},Mn.padEnd=function(t,e,n){t=uu(t);var r=(e=ru(e))?He(t):0;return e&&r<e?t+$i(e-r,n):t},Mn.padStart=function(t,e,n){t=uu(t);var r=(e=ru(e))?He(t):0;return e&&r<e?$i(e-r,n)+t:t},Mn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ln(uu(t).replace(Y,""),e||0)},Mn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&uo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=nu(t),void 0===e?(e=t,t=0):e=nu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=cn();return un(t+i*(e-t+Dt("1e-"+((i+"").length-1))),e)}return Or(t,e)},Mn.reduce=function(t,e,n){var r=Ca(t)?he:je,i=arguments.length<3;return r(t,Xi(e,4),n,i,tr)},Mn.reduceRight=function(t,e,n){var r=Ca(t)?pe:je,i=arguments.length<3;return r(t,Xi(e,4),n,i,er)},Mn.repeat=function(t,e,n){return e=(n?uo(t,e,n):void 0===e)?1:ru(e),Lr(uu(t),e)},Mn.replace=function(){var t=arguments,e=uu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Mn.result=function(t,e,n){var r=-1,i=(e=ui(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Ao(e[r])];void 0===o&&(r=i,o=n),t=Da(o)?o.call(t):o}return t},Mn.round=hs,Mn.runInContext=t,Mn.sample=function(t){return(Ca(t)?Rn:Rr)(t)},Mn.size=function(t){if(null==t)return 0;if(Na(t))return Xa(t)?He(t):t.length;var e=no(t);return e==h||e==m?t.size:jr(t).length},Mn.snakeCase=Ou,Mn.some=function(t,e,n){var r=Ca(t)?de:Yr;return n&&uo(t,e,n)&&(e=void 0),r(t,Xi(e,3))},Mn.sortedIndex=function(t,e){return Vr(t,e)},Mn.sortedIndexBy=function(t,e,n){return Kr(t,e,Xi(n,2))},Mn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Vr(t,e);if(r<n&&Ia(t[r],e))return r}return-1},Mn.sortedLastIndex=function(t,e){return Vr(t,e,!0)},Mn.sortedLastIndexBy=function(t,e,n){return Kr(t,e,Xi(n,2),!0)},Mn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Vr(t,e,!0)-1;if(Ia(t[n],e))return n}return-1},Mn.startCase=Lu,Mn.startsWith=function(t,e,n){return t=uu(t),n=null==n?0:Gn(ru(n),0,t.length),e=Zr(e),t.slice(n,n+e.length)==e},Mn.subtract=ps,Mn.sum=function(t){return t&&t.length?Te(t,Yu):0},Mn.sumBy=function(t,e){return t&&t.length?Te(t,Xi(e,2)):0},Mn.template=function(t,e,n){var r=Mn.templateSettings;n&&uo(t,e,n)&&(e=void 0),t=uu(t),e=cu({},e,r,Di);var i,o,a=cu({},e.imports,r.imports,Di),u=wu(a),s=Me(a,u),l=0,c=e.interpolate||ut,f="__p += '",h=mt((e.escape||ut).source+"|"+c.source+"|"+(c===R?Q:ut).source+"|"+(e.evaluate||ut).source+"|$","g"),p="//# sourceURL="+(jt.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ot+"]")+"\n";t.replace(h,(function(e,n,r,a,u,s){return r||(r=a),f+=t.slice(l,s).replace(st,Ne),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),u&&(o=!0,f+="';\n"+u+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e})),f+="';\n";var d=jt.call(e,"variable")&&e.variable;d||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(S,""):f).replace(E,"$1").replace($,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Bu((function(){return pt(u,p+"return "+f).apply(void 0,s)}));if(v.source=f,Ra(v))throw v;return v},Mn.times=function(t,e){if((t=ru(t))<1||t>9007199254740991)return[];var n=4294967295,r=un(t,4294967295);t-=4294967295;for(var i=Ae(r,e=Xi(e));++n<t;)e(n);return i},Mn.toFinite=nu,Mn.toInteger=ru,Mn.toLength=iu,Mn.toLower=function(t){return uu(t).toLowerCase()},Mn.toNumber=ou,Mn.toSafeInteger=function(t){return t?Gn(ru(t),-9007199254740991,9007199254740991):0===t?t:0},Mn.toString=uu,Mn.toUpper=function(t){return uu(t).toUpperCase()},Mn.trim=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(F,"");if(!t||!(e=Zr(e)))return t;var r=Ue(t),i=Ue(e);return li(r,Se(r,i),Ee(r,i)+1).join("")},Mn.trimEnd=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(V,"");if(!t||!(e=Zr(e)))return t;var r=Ue(t);return li(r,0,Ee(r,Ue(e))+1).join("")},Mn.trimStart=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=Zr(e)))return t;var r=Ue(t);return li(r,Se(r,Ue(e))).join("")},Mn.truncate=function(t,e){var n=30,r="...";if(Ua(e)){var i="separator"in e?e.separator:i;n="length"in e?ru(e.length):n,r="omission"in e?Zr(e.omission):r}var o=(t=uu(t)).length;if(Oe(t)){var a=Ue(t);o=a.length}if(n>=o)return t;var u=n-He(r);if(u<1)return r;var s=a?li(a,0,u).join(""):t.slice(0,u);if(void 0===i)return s+r;if(a&&(u+=s.length-u),Ka(i)){if(t.slice(u).search(i)){var l,c=s;for(i.global||(i=mt(i.source,uu(tt.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var f=l.index;s=s.slice(0,void 0===f?u:f)}}else if(t.indexOf(Zr(i),u)!=u){var h=s.lastIndexOf(i);h>-1&&(s=s.slice(0,h))}return s+r},Mn.unescape=function(t){return(t=uu(t))&&N.test(t)?t.replace(C,We):t},Mn.uniqueId=function(t){var e=++Tt;return uu(t)+e},Mn.upperCase=qu,Mn.upperFirst=Ru,Mn.each=ua,Mn.eachRight=sa,Mn.first=No,Xu(Mn,(cs={},sr(Mn,(function(t,e){jt.call(Mn.prototype,e)||(cs[e]=t)})),cs),{chain:!1}),Mn.VERSION="4.17.15",ie(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Mn[t].placeholder=Mn})),ie(["drop","take"],(function(t,e){$n.prototype[t]=function(n){n=void 0===n?1:an(ru(n),0);var r=this.__filtered__&&!e?new $n(this):this.clone();return r.__filtered__?r.__takeCount__=un(n,r.__takeCount__):r.__views__.push({size:un(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},$n.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ie(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;$n.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Xi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ie(["head","last"],(function(t,e){var n="take"+(e?"Right":"");$n.prototype[t]=function(){return this[n](1).value()[0]}})),ie(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");$n.prototype[t]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(Yu)},$n.prototype.find=function(t){return this.filter(t).head()},$n.prototype.findLast=function(t){return this.reverse().find(t)},$n.prototype.invokeMap=qr((function(t,e){return"function"==typeof t?new $n(this):this.map((function(n){return gr(n,t,e)}))})),$n.prototype.reject=function(t){return this.filter(ja(Xi(t)))},$n.prototype.slice=function(t,e){t=ru(t);var n=this;return n.__filtered__&&(t>0||e<0)?new $n(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ru(e))<0?n.dropRight(-e):n.take(e-t)),n)},$n.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},$n.prototype.toArray=function(){return this.take(4294967295)},sr($n.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Mn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Mn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof $n,s=a[0],l=u||Ca(e),c=function(t){var e=i.apply(Mn,fe([t],a));return r&&f?e[0]:e};l&&n&&"function"==typeof s&&1!=s.length&&(u=l=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,d=u&&!h;if(!o&&l){e=d?e:new $n(this);var v=t.apply(e,a);return v.__actions__.push({func:na,args:[c],thisArg:void 0}),new En(v,f)}return p&&d?t.apply(this,a):(v=this.thru(c),p?r?v.value()[0]:v.value():v)})})),ie(["pop","push","shift","sort","splice","unshift"],(function(t){var e=_t[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Mn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ca(i)?i:[],t)}return this[n]((function(n){return e.apply(Ca(n)?n:[],t)}))}})),sr($n.prototype,(function(t,e){var n=Mn[e];if(n){var r=n.name+"";jt.call(_n,r)||(_n[r]=[]),_n[r].push({name:e,func:n})}})),_n[Mi(void 0,2).name]=[{name:"wrapper",func:void 0}],$n.prototype.clone=function(){var t=new $n(this.__wrapped__);return t.__actions__=yi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=yi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=yi(this.__views__),t},$n.prototype.reverse=function(){if(this.__filtered__){var t=new $n(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},$n.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ca(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=un(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,l=r?u:a-1,c=this.__iteratees__,f=c.length,h=0,p=un(s,this.__takeCount__);if(!n||!r&&i==s&&p==s)return ni(t,this.__actions__);var d=[];t:for(;s--&&h<p;){for(var v=-1,m=t[l+=e];++v<f;){var y=c[v],g=y.iteratee,_=y.type,w=g(m);if(2==_)m=w;else if(!w){if(1==_)continue t;break t}}d[h++]=m}return d},Mn.prototype.at=ra,Mn.prototype.chain=function(){return ea(this)},Mn.prototype.commit=function(){return new En(this.value(),this.__chain__)},Mn.prototype.next=function(){void 0===this.__values__&&(this.__values__=eu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Mn.prototype.plant=function(t){for(var e,n=this;n instanceof Sn;){var r=Mo(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Mn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof $n){var e=t;return this.__actions__.length&&(e=new $n(this)),(e=e.reverse()).__actions__.push({func:na,args:[Uo],thisArg:void 0}),new En(e,this.__chain__)}return this.thru(Uo)},Mn.prototype.toJSON=Mn.prototype.valueOf=Mn.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Mn.prototype.first=Mn.prototype.head,Ye&&(Mn.prototype[Ye]=function(){return this}),Mn}();Yt?((Yt.exports=Fe)._=Fe,Ft._=Fe):Wt._=Fe}).call(Ta)}));function Aa(t,e,n){const r=getComputedStyle(t),i="none"===r.transform?"":r.transform,a=e.from.width/t.clientWidth,u=e.from.height/t.clientHeight,s=(e.from.left-e.to.left)/a,l=(e.from.top-e.to.top)/u,c=Math.sqrt(s*s+l*l),{delay:f=0,duration:h=(t=>120*Math.sqrt(t)),easing:p=_t}=n;return{delay:f,duration:o(h)?h(c):h,easing:p,css:(t,e)=>`transform: ${i} translate(${e*s}px, ${e*l}px);`}}function Pa(t,e,n){const r=t.slice();return r[16]=e[n],r[18]=n,r}function Ma(t,e,n){const r=t.slice();return r[19]=e[n],r}function Ia(t,e,n){const r=t.slice();return r[22]=e[n],r}function Sa(t){let e;return{c(){e=w("span"),A(e,"class","mdi"),E(e,"mdi-heart",t[22]),E(e,"mdi-heart-outline",!t[22])},m(t,n){y(t,e,n)},p(t,n){2&n&&E(e,"mdi-heart",t[22]),2&n&&E(e,"mdi-heart-outline",!t[22])},d(t){t&&g(e)}}}function Ea(t){let e,n,r=t[2],i=[];for(let e=0;e<r.length;e+=1)i[e]=$a(Ma(t,r,e));const o=t=>st(i[t],1,1,()=>{i[t]=null});return{c(){e=w("small");for(let t=0;t<i.length;t+=1)i[t].c();S(e,"display","flex"),S(e,"justify-content","center")},m(t,r){y(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(132&n){let a;for(r=t[2],a=0;a<r.length;a+=1){const o=Ma(t,r,a);i[a]?(i[a].p(o,n),ut(i[a],1)):(i[a]=$a(o),i[a].c(),ut(i[a],1),i[a].m(e,null))}for(ot(),a=r.length;a<i.length;a+=1)o(a);at()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)ut(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)st(i[t]);n=!1},d(t){t&&g(e),_(i,t)}}}function $a(t){let e,n,r,i,o,a,u,s=t[19]+"";return{c(){e=w("div"),n=w("span"),r=x("•"),i=k(),o=x(s),S(n,"color",t[7](t[19])),S(e,"display","inline-block"),S(e,"padding","0px .4rem")},m(t,a){y(t,e,a),m(e,n),m(n,r),m(e,i),m(e,o),u=!0},p(t,e){(!u||132&e)&&S(n,"color",t[7](t[19])),(!u||4&e)&&s!==(s=t[19]+"")&&M(o,s)},i(t){u||(K(()=>{a||(a=ct(e,bt,{},!0)),a.run(1)}),u=!0)},o(t){a||(a=ct(e,bt,{},!1)),a.run(0),u=!1},d(t){t&&g(e),t&&a&&a.end()}}}function Ca(t){let e,n,r=[],i=new Map,o=t[3];const a=t=>t[16];for(let e=0;e<o.length;e+=1){let n=Pa(t,o,e),u=a(n);i.set(u,r[e]=za(u,n))}return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=j()},m(t,i){for(let e=0;e<r.length;e+=1)r[e].m(t,i);y(t,e,i),n=!0},p(t,n){if(9&n){const o=t[3];ot();for(let t=0;t<r.length;t+=1)r[t].r();r=function(t,e,n,r,i,o,a,u,s,l,c,f){let h=t.length,p=o.length,d=h;const v={};for(;d--;)v[t[d].key]=d;const m=[],y=new Map,g=new Map;for(d=p;d--;){const t=f(i,o,d),u=n(t);let s=a.get(u);s?r&&s.p(t,e):(s=l(u,t),s.c()),y.set(u,m[d]=s),u in v&&g.set(u,Math.abs(d-v[u]))}const _=new Set,w=new Set;function b(t){ut(t,1),t.m(u,c),a.set(t.key,t),c=t.first,p--}for(;h&&p;){const e=m[p-1],n=t[h-1],r=e.key,i=n.key;e===n?(c=e.first,h--,p--):y.has(i)?!a.has(r)||_.has(r)?b(e):w.has(i)?h--:g.get(r)>g.get(i)?(w.add(r),b(e)):(_.add(i),h--):(s(n,a),h--)}for(;h--;){const e=t[h];y.has(e.key)||s(e,a)}for(;p;)b(m[p-1]);return m}(r,n,a,1,t,o,i,e.parentNode,ft,za,e,Pa);for(let t=0;t<r.length;t+=1)r[t].a();at()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)ut(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)st(r[t]);n=!1},d(t){for(let e=0;e<r.length;e+=1)r[e].d(t);t&&g(e)}}}function za(n,r){let i,o,a,u,s,l=t;return o=new ja({props:{tooltip:r[0],data:r[16],width:Oa,height:La,margin:qa}}),{key:n,first:null,c(){i=w("div"),pt(o.$$.fragment),a=k(),S(i,"margin","0px"),this.first=i},m(t,e){y(t,i,e),dt(o,i,null),m(i,a),s=!0},p(t,e){const n={};1&e&&(n.tooltip=t[0]),8&e&&(n.data=t[16]),33554432&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},r(){u=i.getBoundingClientRect()},f(){q(i),l()},a(){l(),l=function(n,r,i,o){if(!r)return t;const a=n.getBoundingClientRect();if(r.left===a.left&&r.right===a.right&&r.top===a.top&&r.bottom===a.bottom)return t;const{delay:u=0,duration:s=300,easing:l=e,start:c=f()+u,end:h=c+s,tick:p=t,css:d}=i(n,{from:r,to:a},o);let m,y=!0,g=!1;function _(){d&&L(n,m),y=!1}return v(t=>{if(!g&&t>=c&&(g=!0),g&&t>=h&&(p(1,0),_()),!y)return!1;if(g){const e=0+1*l((t-c)/s);p(e,1-e)}return!0}),d&&(m=O(n,0,1,s,u,l,d)),u||(g=!0),p(0,1),_}(i,u,Aa,{duration:650,easing:wt})},i(t){s||(ut(o.$$.fragment,t),s=!0)},o(t){st(o.$$.fragment,t),s=!1},d(t){t&&g(i),vt(o)}}}function Na(t){let e,n,r,o,a,u,s,l,c,f,h,p,d,v,b,j,P,M,I,S,E=t[1],$=[];for(let e=0;e<E.length;e+=1)$[e]=Sa(Ia(t,E,e));let C="circle"==t[4]&&Ea(t),z=t[8]&&Ca(t);return{c(){e=w("section"),n=w("header"),r=w("span"),r.textContent="show datapoints as:",o=k(),a=w("form"),u=w("input"),s=x(" Image\n                "),l=w("input"),c=x(" Circles"),f=x("\n        \n        available points: ");for(let t=0;t<$.length;t+=1)$[t].c();h=k(),p=w("br"),d=k(),v=w("button"),v.innerHTML='<span class="mdi mdi-sort"></span> Sort',b=k(),C&&C.c(),j=k(),P=w("div"),z&&z.c(),A(u,"type","radio"),u.__value="image",u.value=u.__value,t[10][0].push(u),A(l,"type","radio"),l.__value="circle",l.value=l.__value,t[10][0].push(l),A(n,"class","svelte-1ezfhin"),A(P,"class","vis_list svelte-1ezfhin")},m(i,g){y(i,e,g),m(e,n),m(n,r),m(n,o),m(n,a),m(a,u),u.checked=u.__value===t[4],m(a,s),m(a,l),l.checked=l.__value===t[4],m(a,c),m(n,f);for(let t=0;t<$.length;t+=1)$[t].m(n,null);m(n,h),m(n,p),m(n,d),m(n,v),m(n,b),C&&C.m(n,null),m(e,j),m(e,P),z&&z.m(P,null),M=!0,I||(S=[T(u,"change",t[9]),T(l,"change",t[11]),T(a,"change",t[12]),T(v,"click",t[13])],I=!0)},p(t,[e]){if(16&e&&(u.checked=u.__value===t[4]),16&e&&(l.checked=l.__value===t[4]),2&e){let r;for(E=t[1],r=0;r<E.length;r+=1){const i=Ia(t,E,r);$[r]?$[r].p(i,e):($[r]=Sa(i),$[r].c(),$[r].m(n,h))}for(;r<$.length;r+=1)$[r].d(1);$.length=E.length}"circle"==t[4]?C?(C.p(t,e),16&e&&ut(C,1)):(C=Ea(t),C.c(),ut(C,1),C.m(n,null)):C&&(ot(),st(C,1,1,()=>{C=null}),at()),t[8]?z?(z.p(t,e),256&e&&ut(z,1)):(z=Ca(t),z.c(),ut(z,1),z.m(P,null)):z&&(ot(),st(z,1,1,()=>{z=null}),at())},i(t){M||(ut(C),ut(z),M=!0)},o(t){st(C),st(z),M=!1},d(n){n&&g(e),t[10][0].splice(t[10][0].indexOf(u),1),t[10][0].splice(t[10][0].indexOf(l),1),_($,n),C&&C.d(),z&&z.d(),I=!1,i(S)}}}let Oa=250,La=250,qa=20;function Ra(t,e,n){let r,i,o,a,u,l,c;s(t,Ao,t=>n(3,r=t)),s(t,bo,t=>n(14,i=t)),s(t,zo,t=>n(4,o=t)),s(t,So,t=>n(5,a=t)),s(t,Eo,t=>n(6,u=t)),s(t,$o,t=>n(7,l=t)),s(t,To,t=>n(8,c=t));let{tooltip:f}=e,h=new Array(15).fill(!1);let p;return t.$set=t=>{"tooltip"in t&&n(0,f=t.tooltip)},t.$$.update=()=>{8&t.$$.dirty&&n(2,p=Array.from(new Set(r[0].map(t=>t.class)))),16384&t.$$.dirty&&n(1,h=h.map((t,e)=>e<i))},[f,h,p,r,o,a,u,l,c,function(){o=this.__value,zo.set(o)},[[]],function(){o=this.__value,zo.set(o)},()=>{"circle"==o?a.push(performance.now()):u.push(performance.now())},()=>{ko.sort_by_pos()}]}class Da extends gt{constructor(t){super(),yt(this,t,Ra,Na,a,{tooltip:0})}}var Ba,Ha;window.jsPsych=function(){var t,e,n,r,i={},o={},a=0,u={},s=!1,l=!1,c=!1,f=!1,h=!1;function p(t,e,n){var r,i,o,a,u,s={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},l=this;this.trial=function(){return void 0===a?jsPsych.utils.deepCopy(o):s.current_location>=a.timeline.length?null:a.timeline[s.current_location].trial()},this.markCurrentTrialComplete=function(){void 0===a?s.done=!0:a.timeline[s.current_location].markCurrentTrialComplete()},this.nextRepetiton=function(){this.setTimelineVariablesOrder(),s.current_location=-1,s.current_variable_set=0,s.current_repetition++;for(var t=0;t<a.timeline.length;t++)a.timeline[t].reset()},this.setTimelineVariablesOrder=function(){if(void 0!==a&&void 0!==a.timeline_variables){for(var t=[],e=0;e<a.timeline_variables.length;e++)t.push(e);void 0!==a.sample&&("custom"==a.sample.type?t=a.sample.fn(t):"with-replacement"==a.sample.type?t=jsPsych.randomization.sampleWithReplacement(t,a.sample.size,a.sample.weights):"without-replacement"==a.sample.type?t=jsPsych.randomization.sampleWithoutReplacement(t,a.sample.size):"fixed-repetitions"==a.sample.type&&(t=jsPsych.randomization.repeat(t,a.sample.size,!1))),a.randomize_order&&(t=jsPsych.randomization.shuffle(t)),s.order=t}},this.nextSet=function(){s.current_location=-1,s.current_variable_set++;for(var t=0;t<a.timeline.length;t++)a.timeline[t].reset()},this.advance=function(){if(s.done)return!0;if(-1==s.current_location){if(void 0!==a)if(void 0!==a.conditional_function){if(0==a.conditional_function())return s.done=!0,!0;s.current_location=0}else s.current_location=0;return s.current_location=0,this.advance()}if(void 0!==a){for(var t=!1;s.current_location<a.timeline.length&&0==t;){if(!a.timeline[s.current_location].advance())return t=!0,!1;s.current_location++}return s.current_variable_set<s.order.length-1?(this.nextSet(),this.advance()):s.current_repetition<a.repetitions-1?(this.nextRepetiton(),this.advance()):void 0!==a.loop_function&&a.loop_function(this.generatedData())?(this.reset(),i.advance()):(s.done=!0,!0)}},this.isComplete=function(){return s.done},this.getTimelineVariableValue=function(t){if(void 0!==a)return a.timeline_variables[s.order[s.current_variable_set]][t]},this.findTimelineVariable=function(t){var e=this.getTimelineVariableValue(t);return void 0===e?void 0!==i?i.findTimelineVariable(t):void 0:e},this.timelineVariable=function(t){return void 0===a?this.findTimelineVariable(t):a.timeline[s.current_location].timelineVariable(t)},this.length=function(){var t=0;if(void 0===a)return 1;for(var e=0;e<a.timeline.length;e++)t+=a.timeline[e].length();return t},this.percentComplete=function(){for(var t=this.length(),e=0,n=0;n<a.timeline.length;n++)a.timeline[n].isComplete()&&(e+=a.timeline[n].length());return e/t*100},this.reset=function(){if(s.current_location=-1,s.current_repetition=0,s.current_variable_set=0,s.current_iteration++,s.done=!1,this.setTimelineVariablesOrder(),void 0!==a)for(var t=0;t<a.timeline.length;t++)a.timeline[t].reset()},this.end=function(){s.done=!0},this.endActiveNode=function(){void 0===a?(this.end(),i.end()):a.timeline[s.current_location].endActiveNode()},this.ID=function(){var t="";return void 0===i?"0."+s.current_iteration:(t+=i.ID()+"-",t+=r+"."+s.current_iteration)},this.activeID=function(){return void 0===a?this.ID():a.timeline[s.current_location].activeID()},this.generatedData=function(){return jsPsych.data.getDataByTimelineNode(this.ID())},this.trialsOfType=function(t){if(void 0===a)return o.type==t?o:[];for(var e=[],n=0;n<a.timeline.length;n++){var r=a.timeline[n].trialsOfType(t);e=e.concat(r)}return e},this.insert=function(t){void 0===a||a.timeline.push(new p(Object.assign({},u,t),l,a.timeline.length))};!function(){if(i=e,r=void 0===e?0:n,void 0!==t.timeline||"function"==typeof jsPsych.plugins[f]){a={timeline:[],loop_function:t.loop_function,conditional_function:t.conditional_function,sample:t.sample,randomize_order:void 0!==t.randomize_order&&t.randomize_order,repetitions:void 0===t.repetitions?1:t.repetitions,timeline_variables:void 0===t.timeline_variables?[{}]:t.timeline_variables},l.setTimelineVariablesOrder();var s=Object.assign({},t);delete s.timeline,delete s.conditional_function,delete s.loop_function,delete s.randomize_order,delete s.repetitions,delete s.timeline_variables,delete s.sample,u=s;for(var c=0;c<t.timeline.length;c++)a.timeline.push(new p(Object.assign({},s,t.timeline[c]),l,c))}else{var f=t.type;void 0===f||void 0===jsPsych.plugins[f]&&f.toString().replace(/\s/g,""),o=Object.assign({},t)}}()}function d(){f=!0,!0===o.show_progress_bar&&document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>Completion Progress</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>'),r=new Date,t.advance(),m(t.trial())}function v(){if(l)c=!0;else{a++,t.markCurrentTrialComplete();var e=t.advance();if(!0===o.show_progress_bar&&1==o.auto_update_progress_bar&&function(){var t=jsPsych.progress();document.querySelector("#jspsych-progressbar-inner").style.width=t.percent_complete+"%"}(),e)return void 0!==t.end_message&&(n.innerHTML=t.end_message),void o.on_finish(jsPsych.data.get());m(t.trial())}}function m(t){u=t,s=!1,function t(e){for(var n=Object.keys(e),r=0;r<n.length;r++)"function"==typeof e[n[r]]&&"function(){returntimeline.timelineVariable(varname);}"==e[n[r]].toString().replace(/\s/g,"")&&(e[n[r]]=e[n[r]].call()),"object"==typeof e[n[r]]&&null!==e[n[r]]&&t(e[n[r]])}(t),function(t){"function"==typeof t.type&&(t.type=t.type.call());for(var e=Object.keys(t),n=0;n<e.length;n++)"type"!==e[n]&&(void 0!==jsPsych.plugins.universalPluginParameters[e[n]]&&jsPsych.plugins.universalPluginParameters[e[n]].type!==jsPsych.plugins.parameterType.FUNCTION||void 0!==jsPsych.plugins[t.type].info.parameters[e[n]]&&jsPsych.plugins[t.type].info.parameters[e[n]].type!==jsPsych.plugins.parameterType.FUNCTION)&&"function"==typeof t[e[n]]&&(t[e[n]]=t[e[n]].call())}(t),function(t){for(var e=Object.keys(jsPsych.plugins[t.type].info.parameters),n=0;n<e.length;n++)void 0!==t[e[n]]&&null!==t[e[n]]||void 0===jsPsych.plugins[t.type].info.parameters[e[n]].default||(t[e[n]]=jsPsych.plugins[t.type].info.parameters[e[n]].default)}(t),o.on_trial_start(t),"function"==typeof t.on_start&&t.on_start(t),e.focus(),n.scrollTop=0,jsPsych.plugins[t.type].trial(n,t),"function"==typeof t.on_load&&t.on_load()}return i.webaudio_context=null,"undefined"!=typeof window&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext),i.webaudio_context="undefined"!=typeof window&&void 0!==window.AudioContext?new AudioContext:null,i.ALL_KEYS="allkeys",i.NO_KEYS="none",i.init=function(r){r.timeline,t=null,a=0,u={},s=!1,l=!1,c=!1,f=!1,h=!1,jsPsych.data.reset();var v={display_element:void 0,on_finish:function(t){},on_trial_start:function(t){},on_trial_finish:function(){},on_data_update:function(t){},on_interaction_data_update:function(t){},preload_images:[],preload_audio:[],use_webaudio:!0,exclusions:{},show_progress_bar:!1,auto_update_progress_bar:!0,auto_preload:!0,show_preload_progress_bar:!0,max_load_time:6e4,max_preload_attempts:10,default_iti:0};if(void 0===(o=Object.assign({},v,r)).display_element){null===document.querySelector("body")&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",o.display_element=document.querySelector("body")}else{if(o.display_element instanceof Element)var m=o.display_element;else m=document.querySelector("#"+o.display_element);null===m||(o.display_element=m)}o.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',e=o.display_element,n=document.querySelector("#jspsych-content"),o.display_element.tabIndex=0,-1==o.display_element.className.indexOf("jspsych-display-element")&&(o.display_element.className+=" jspsych-display-element"),n.className+="jspsych-content",t=new p({timeline:o.timeline}),jsPsych.pluginAPI.initAudio(),jsPsych.pluginAPI.reset(o.display_element),jsPsych.pluginAPI.createKeyboardEventListeners(o.display_element),jsPsych.data.createInteractionListeners(),function t(e,n,r){var o=!0;if(void 0!==e.min_width||void 0!==e.min_height){var a=void 0!==e.min_width?e.min_width:0,u=void 0!==e.min_height?e.min_height:0,s=window.innerWidth,l=window.innerHeight;if(s<a||l<u){o=!1;var c=setInterval((function(){var o=window.innerWidth,s=window.innerHeight;if(o<a||s<u){var l="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+a+"px. Your current width is "+o+"px.</p><p>The minimum height is "+u+"px. Your current height is "+s+"px.</p>";i.getDisplayElement().innerHTML=l}else clearInterval(c),i.getDisplayElement().innerHTML="",t(e,n,r)}),100);return}}if(void 0!==e.audio&&e.audio&&!window.hasOwnProperty("AudioContext")&&!window.hasOwnProperty("webkitAudioContext")){o=!1;return i.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",void r()}o&&n()}(o.exclusions,(function(){o.auto_preload?(jsPsych.pluginAPI.autoPreload(t,d,o.preload_images,o.preload_audio,o.show_preload_progress_bar),o.max_load_time>0&&setTimeout((function(){f||h||i.loadFail()}),o.max_load_time)):d()}),(function(){}))},i.progress=function(){var e=void 0===t?0:t.percentComplete();return{total_trials:void 0===t?void 0:t.length(),current_trial_global:a,percent_complete:e}},i.startTime=function(){return r},i.totalTime=function(){return void 0===r?0:(new Date).getTime()-r.getTime()},i.getDisplayElement=function(){return n},i.getDisplayContainerElement=function(){return e},i.finishTrial=function(t){if(!s){s=!0,t=void 0===t?{}:t,jsPsych.data.write(t);var e=jsPsych.data.get().filter({trial_index:a}).values()[0];"function"==typeof u.on_finish&&u.on_finish(e),o.on_trial_finish(e),o.on_data_update(e),null===typeof u.post_trial_gap?o.default_iti>0?setTimeout(v,o.default_iti):v():u.post_trial_gap>0?setTimeout(v,u.post_trial_gap):v()}},i.endExperiment=function(e){t.end_message=e,t.end(),jsPsych.pluginAPI.cancelAllKeyboardResponses(),jsPsych.pluginAPI.clearAllTimeouts(),i.finishTrial()},i.endCurrentTimeline=function(){t.endActiveNode()},i.currentTrial=function(){return u},i.initSettings=function(){return o},i.currentTimelineNodeID=function(){return t.activeID()},i.timelineVariable=function(e,n){return n?t.timelineVariable(e):function(){return t.timelineVariable(e)}},i.addNodeToEndOfTimeline=function(e,n){t.insert(e),"undefinded"!=typeof n&&(o.auto_preload?jsPsych.pluginAPI.autoPreload(t,n):n())},i.pauseExperiment=function(){l=!0},i.resumeExperiment=function(){l=!1,c&&(c=!1,v())},i.loadFail=function(t){t=t||"<p>The experiment failed to load.</p>",h=!0,n.innerHTML=t},i.setProgressBar=function(t){t=Math.max(Math.min(1,t),0),document.querySelector("#jspsych-progressbar-inner").style.width=100*t+"%"},document.documentElement.setAttribute("jspsych","present"),i}(),jsPsych.plugins=((Ba={parameterType:{BOOL:0,STRING:1,INT:2,FLOAT:3,FUNCTION:4,KEYCODE:5,SELECT:6,HTML_STRING:7,IMAGE:8,AUDIO:9,VIDEO:10,OBJECT:11,COMPLEX:12}}).universalPluginParameters={data:{type:Ba.parameterType.OBJECT,pretty_name:"Data",default:{},description:"Data to add to this trial (key-value pairs)"},on_start:{type:Ba.parameterType.FUNCTION,pretty_name:"On start",default:function(){},description:"Function to execute when trial begins"},on_finish:{type:Ba.parameterType.FUNCTION,pretty_name:"On finish",default:function(){},description:"Function to execute when trial is finished"},on_load:{type:Ba.parameterType.FUNCTION,pretty_name:"On load",default:function(){},description:"Function to execute after the trial has loaded"},post_trial_gap:{type:Ba.parameterType.INT,pretty_name:"Post trial gap",default:null,description:"Length of gap between the end of this trial and the start of the next trial"}},Ba),jsPsych.data=function(){var t,e={},n=o(),r=o(),i={};function o(t){var e={},n=void 0===t?[]:t;return e.push=function(t){return n.push(t),e},e.join=function(t){return n=n.concat(t.values()),e},e.top=function(){return n.length<=1?e:o([n[n.length-1]])},e.first=function(t){void 0===t&&(t=1);for(var e=[],r=0;r<t;r++)e.push(n[r]);return o(e)},e.last=function(t){void 0===t&&(t=1);for(var e=[],r=n.length-t;r<n.length;r++)e.push(n[r]);return o(e)},e.values=function(){return n},e.count=function(){return n.length},e.readOnly=function(){return o(jsPsych.utils.deepCopy(n))},e.addToAll=function(t){for(var r=0;r<n.length;r++)for(var i in t)n[r][i]=t[i];return e},e.addToLast=function(t){if(0!=n.length)for(var r in t)n[n.length-1][r]=t[r];return e},e.filter=function(t){if(Array.isArray(t))e=jsPsych.utils.deepCopy(t);else var e=jsPsych.utils.deepCopy([t]);for(var r=[],i=0;i<n.length;i++){for(var a=!1,u=0;u<e.length;u++){for(var s=!0,l=Object.keys(e[u]),c=0;c<l.length;c++)void 0!==n[i][l[c]]&&n[i][l[c]]==e[u][l[c]]||(s=!1);if(s){a=!0;break}}a&&r.push(n[i])}return o(r)},e.filterCustom=function(t){for(var e=[],r=0;r<n.length;r++)t(n[r])&&e.push(n[r]);return o(e)},e.select=function(t){for(var e=[],r=0;r<n.length;r++)void 0!==n[r][t]&&e.push(n[r][t]);var i=function t(){var e={values:[]};return e.sum=function(){for(var t=0,n=0;n<e.values.length;n++)t+=e.values[n];return t},e.mean=function(){return e.sum()/e.count()},e.median=function(){if(0!=e.values.length){var t=e.values.slice(0).sort((function(t,e){return t-e})),n=Math.floor(t.length/2);return t.length%2==0?(t[n]+t[n-1])/2:t[n]}},e.min=function(){return Math.min.apply(null,e.values)},e.max=function(){return Math.max.apply(null,e.values)},e.count=function(){return e.values.length},e.variance=function(){for(var t=e.mean(),n=0,r=0;r<e.values.length;r++)n+=Math.pow(e.values[r]-t,2);return n/e.values.length},e.sd=function(){var t=e.variance();return Math.sqrt(t)},e.frequencies=function(){for(var t={},n=0;n<e.values.length;n++){var r=e.values[n];void 0===t[r]?t[r]=1:t[r]++}return t},e.all=function(t){for(var n=0;n<e.values.length;n++)if(!t(e.values[n]))return!1;return!0},e.subset=function(n){for(var r=[],i=0;i<e.values.length;i++)n(e.values[i])&&r.push(e.values[i]);var o=t();return o.values=r,o},e}();return i.values=e,i},e.ignore=function(t){Array.isArray(t)||(t=[t]);for(var e=jsPsych.utils.deepCopy(n),r=0;r<e.length;r++)for(var i in t)delete e[r][t[i]];return o(e)},e.uniqueNames=function(){for(var t=[],e=0;e<n.length;e++)for(var r=Object.keys(n[e]),i=0;i<r.length;i++)t.includes(r[i])||t.push(r[i]);return t},e.csv=function(){return function(t){for(var e="object"!=typeof t?JSON.parse(t):t,n="",r="",i=[],o=0,a=0;a<e.length;a++)for(var u in e[a]){var s=u+"";s='"'+s.replace(/"/g,'""')+'",',i.includes(u)||(i[o]=u,n+=s,o++)}n=n.slice(0,-1),r+=n+"\r\n";for(o=0;o<e.length;o++){for(n="",a=0;a<i.length;a++){var l=void 0===e[o][i[a]]?"":e[o][i[a]];n+='"'+(l+"").replace(/"/g,'""')+'",'}n=n.slice(0,-1),r+=n+"\r\n"}return r}(n)},e.json=function(t){return t?JSON.stringify(n,null,"\t"):JSON.stringify(n)},e.localSave=function(t,n){var r;if("JSON"==t||"json"==t)r=e.json();else{if("CSV"!=t&&"csv"!=t)throw new Error('Invalid format specified for localSave. Must be "JSON" or "CSV".');r=e.csv()}!function(t,e){var n=new Blob([t],{type:"text/plain"}),r="";r=void 0!==window.webkitURL?window.webkitURL.createObjectURL(n):window.URL.createObjectURL(n);jsPsych.getDisplayElement().insertAdjacentHTML("beforeend",'<a id="jspsych-download-as-text-link" style="display:none;" download="'+e+'" href="'+r+'">click to download</a>'),document.getElementById("jspsych-download-as-text-link").click()}(r,n)},e}function a(){var t=window.location.search.substr(1).split("&");if(""==t)return{};for(var e={},n=0;n<t.length;++n){var r=t[n].split("=",2);1==r.length?e[r[0]]="":e[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return e}return e.reset=function(){n=o(),r=o()},e.get=function(){return n},e.getInteractionData=function(){return r},e.write=function(t){var e=jsPsych.progress(),r=jsPsych.currentTrial(),o={trial_type:r.type,trial_index:e.current_trial_global,time_elapsed:jsPsych.totalTime(),internal_node_id:jsPsych.currentTimelineNodeID()},a=Object.assign({},t,r.data,o,i);n.push(a)},e.addProperties=function(t){n.addToAll(t),i=Object.assign({},i,t)},e.addDataToLastTrial=function(t){n.addToLast(t)},e.getDataByTimelineNode=function(t){return n.filterCustom((function(e){return e.internal_node_id.slice(0,t.length)===t}))},e.getLastTrialData=function(){return n.top()},e.getLastTimelineData=function(){var t=e.getLastTrialData().select("internal_node_id").values[0];if(void 0===t)return o();var n=t.substr(0,t.lastIndexOf("-"));return e.getDataByTimelineNode(n)},e.displayData=function(t){var e;"json"!=(t=void 0===t?"json":t.toLowerCase())&&"csv"!=t&&(t="json"),e="json"==t?n.json(!0):n.csv(),jsPsych.getDisplayElement().innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=e},e.urlVariables=function(){return void 0===t&&(t=a()),t},e.getURLVariable=function(e){return void 0===t&&(t=a()),t[e]},e.createInteractionListeners=function(){function t(){var t={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen?"fullscreenenter":"fullscreenexit",trial:jsPsych.progress().current_trial_global,time:jsPsych.totalTime()};r.push(t),jsPsych.initSettings().on_interaction_data_update(t)}window.addEventListener("blur",(function(){var t={event:"blur",trial:jsPsych.progress().current_trial_global,time:jsPsych.totalTime()};r.push(t),jsPsych.initSettings().on_interaction_data_update(t)})),window.addEventListener("focus",(function(){var t={event:"focus",trial:jsPsych.progress().current_trial_global,time:jsPsych.totalTime()};r.push(t),jsPsych.initSettings().on_interaction_data_update(t)})),document.addEventListener("fullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("webkitfullscreenchange",t)},e._customInsert=function(t){n=o(t)},e._fullreset=function(){e.reset(),i={}},e}(),jsPsych.turk=function(){var t={turkInfo:function(){var t={},e=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null==n?"":n[1]},n=e(window.location.href,"assignmentId")?window.location.href:document.referrer;return["assignmentId","hitId","workerId","turkSubmitTo"].map((function(r){t[r]=unescape(e(n,r))})),t.previewMode="ASSIGNMENT_ID_NOT_AVAILABLE"==t.assignmentId,t.outsideTurk=!t.previewMode&&""===t.hitId&&""==t.assignmentId&&""==t.workerId,turk_info=t,t},submitToTurk:function(t){var e=jsPsych.turk.turkInfo(),n=e.assignmentId,r=e.turkSubmitTo;if(n&&r){var i=[];for(var o in t)t.hasOwnProperty(o)&&i.push(o+"="+escape(t[o]));i.push("assignmentId="+n);var a=r+"/mturk/externalSubmit?"+i.join("&");window.location.href=a}}};return t}(),jsPsych.randomization=function(){var t={};function e(t){for(var e,n,r=t.slice(0),i=r.length;i;)n=Math.floor(Math.random()*i--),e=r[i],r[i]=r[n],r[n]=e;return r}return t.repeat=function(t,n,r){var i=Array.isArray(t),o=Array.isArray(n);if(i)if(o){if(t.length!=n.length)if(n.length<t.length){for(a=[],u=0;u<t.length;u++)a.push(n);n=a}else n=repetions.slice(0,t.length)}else{for(var a=[],u=0;u<t.length;u++)a.push(n);n=a}else o?n=[n[0]]:(t=[t],n=[n]);var s=[];for(u=0;u<t.length;u++)for(var l=0;l<n[u];l++)null==t[u]||"object"!=typeof t[u]?s.push(t[u]):s.push(Object.assign({},t[u]));var c=e(s);return r&&(c=function(t){for(var e={},n=0;n<t.length;n++)for(var r=Object.keys(t[n]),i=0;i<r.length;i++)void 0===e[r[i]]&&(e[r[i]]=[]),e[r[i]].push(t[n][r[i]]);return e}(c)),c},t.shuffle=function(t){return e(t)},t.shuffleNoRepeats=function(t,n){void 0===n&&(n=function(t,e){return t===e});for(var r=e(t),i=0;i<r.length-1;i++)if(n(r[i],r[i+1])){for(var o=Math.floor(Math.random()*(r.length-2))+1;n(r[i+1],r[o])||n(r[i+1],r[o+1])||n(r[i+1],r[o-1]);)o=Math.floor(Math.random()*(r.length-2))+1;var a=r[o];r[o]=r[i+1],r[i+1]=a}return r},t.sampleWithoutReplacement=function(t,e){return t.length,jsPsych.randomization.shuffle(t).slice(0,e)},t.sampleWithReplacement=function(t,e,n){var r=[];if(void 0!==n){n.length,t.length;for(var i=0,o=0;o<n.length;o++)i+=n[o];for(o=0;o<n.length;o++)r.push(n[o]/i)}else for(o=0;o<t.length;o++)r.push(1/t.length);var a=[r[0]];for(o=1;o<r.length;o++)a.push(r[o]+a[o-1]);var u=[];for(o=0;o<e;o++){for(var s=Math.random(),l=0;s>a[l];)l++;u.push(t[l])}return u},t.factorial=function(e,n,r){for(var i=Object.keys(e),o=[],a=0;a<e[i[0]].length;a++)o.push({}),o[a][i[0]]=e[i[0]][a];for(a=1;a<i.length;a++){for(var u=e[i[a]],s=o.length,l=0;l<s;l++)for(var c=o[l],f=0;f<u.length;f++){var h={};h[i[a]]=u[f],o.push(Object.assign({},c,h))}o.splice(0,s)}return n=void 0===n?1:n,t.repeat(o,n,r)},t.randomID=function(t){for(var e="",n=(t=void 0===t?32:t,"0123456789abcdefghjklmnopqrstuvwxyz"),r=0;r<t;r++)e+=n[Math.floor(Math.random()*n.length)];return e},t}(),jsPsych.pluginAPI=function(){var t={},e=[],n={},r=function(t){for(var r=0;r<e.length;r++)e[r].fn(t);n[t.keyCode]=!0},i=function(t){n[t.keyCode]=!1};t.reset=function(t){e=[],n={},t.removeEventListener("keydown",r),t.removeEventListener("keyup",i)},t.createKeyboardEventListeners=function(t){t.addEventListener("keydown",r),t.addEventListener("keyup",i)},t.getKeyboardResponse=function(r){var i,o;r.rt_method=void 0===r.rt_method?"date":r.rt_method,"date"!=r.rt_method&&"performance"!=r.rt_method&&"audio"!=r.rt_method&&(r.rt_method="date"),"date"==r.rt_method?i=(new Date).getTime():"performance"==r.rt_method?i=performance.now():"audio"==r.rt_method&&(i=r.audio_context_start_time);return o={type:"keydown",fn:function(a){var u;"date"==r.rt_method?u=(new Date).getTime():"performance"==r.rt_method?u=performance.now():"audio"==r.rt_method&&(u=r.audio_context.currentTime);var s=!1;if(void 0===r.valid_responses||r.valid_responses==jsPsych.ALL_KEYS)s=!0;else if(r.valid_responses!=jsPsych.NO_KEYS)for(var l=0;l<r.valid_responses.length;l++)if("string"==typeof r.valid_responses[l]){var c=jsPsych.pluginAPI.convertKeyCharacterToKeyCode(r.valid_responses[l]);if(void 0===c)throw new Error("Invalid key string specified for getKeyboardResponse");a.keyCode==c&&(s=!0)}else a.keyCode==r.valid_responses[l]&&(s=!0);void 0!==r.allow_held_key&&r.allow_held_key||!s||void 0!==n[a.keyCode]&&1==n[a.keyCode]&&(s=!1),s&&(a.preventDefault(),r.callback_function({key:a.keyCode,rt:u-i}),e.includes(o)&&(r.persist||t.cancelKeyboardResponse(o)))}},e.push(o),o},t.cancelKeyboardResponse=function(t){e.includes(t)&&e.splice(e.indexOf(t),1)},t.cancelAllKeyboardResponses=function(){e=[]},t.convertKeyCharacterToKeyCode=function(t){var e;return t=t.toLowerCase(),void 0!==o[t]&&(e=o[t]),e},t.convertKeyCodeToKeyCharacter=function(t){for(var e in Object.keys(o))if(o[Object.keys(o)[e]]==t)return Object.keys(o)[e]},t.compareKeys=function(e,n){return"string"==typeof e&&(e=t.convertKeyCharacterToKeyCode(e)),"string"==typeof n&&(n=t.convertKeyCharacterToKeyCode(n)),e==n};var o={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,esc:27,space:32,spacebar:32," ":32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"0numpad":96,"1numpad":97,"2numpad":98,"3numpad":99,"4numpad":100,"5numpad":101,"6numpad":102,"7numpad":103,"8numpad":104,"9numpad":105,multiply:106,plus:107,minus:109,decimal:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,"=":187,",":188,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221},a=[];t.setTimeout=function(t,e){var n=setTimeout(t,e);return a.push(n),n},t.clearAllTimeouts=function(){for(var t=0;t<a.length;t++)clearTimeout(a[t]);a=[]};var u=null,s=[];t.initAudio=function(){u=1==jsPsych.initSettings().use_webaudio?jsPsych.webaudio_context:null},t.audioContext=function(){return null!==u&&"running"!==u.state&&u.resume(),u},t.getAudioBuffer=function(t){if("tmp"!=s[t])return s[t]};var l=[];return t.preloadAudioFiles=function(e,n,r){e=jsPsych.utils.flatten(e),e=jsPsych.utils.unique(e);var i=0,o=void 0===r?function(){}:r,a=void 0===n?function(){}:n;if(0!=e.length)for(var l=0;l<e.length;l++){var c=e[l];void 0!==s[c]?(i++,o(i),i==e.length&&a()):(s[c]="tmp",null!==t.audioContext()?f(c):h(c))}else a();function f(t,n){n=n||1;var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){u.decodeAudioData(r.response,(function(n){s[t]=n,i++,o(i),i==e.length&&a()}),(function(){}))},r.onerror=function(){n<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){f(t,n+1)}),200):jsPsych.loadFail()},r.send()}function h(t,n){n=n||1;var r=new Audio;r.addEventListener("canplaythrough",(function(){s[t]=r,i++,o(i),i==e.length&&a()})),r.addEventListener("onerror",(function(){n<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){h(t,n+1)}),200):jsPsych.loadFail()})),r.addEventListener("onstalled",(function(){n<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){h(t,n+1)}),200):jsPsych.loadFail()})),r.addEventListener("onabort",(function(){n<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){h(t,n+1)}),200):jsPsych.loadFail()})),r.src=t}},t.preloadImages=function(t,e,n){t=jsPsych.utils.flatten(t),t=jsPsych.utils.unique(t);var r=0,i=void 0===n?function(){}:n,o=void 0===e?function(){}:e;if(0!=t.length)for(var a=0;a<t.length;a++)u(t[a]);else o();function u(e,n){n=n||1;var a=new Image;a.onload=function(){r++,i(r),r==t.length&&o()},a.onerror=function(){n<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){u(e,n+1)}),200):jsPsych.loadFail()},a.src=e}},t.registerPreload=function(t,e,n,r){var i={plugin:t,parameter:e,media_type:n,conditional_function:r};l.push(i)},t.autoPreload=function(e,n,r,i,o){r=void 0===r?[]:r,i=void 0===i?[]:i;for(var a=0;a<l.length;a++)for(var u=l[a].plugin,s=l[a].parameter,c=l[a].media_type,f=l[a].conditional_function,h=e.trialsOfType(u),p=0;p<h.length;p++)void 0!==h[p][s]&&"function"!=typeof h[p][s]&&(void 0===f||f(h[p]))&&("image"==c?r=r.concat(jsPsych.utils.flatten([h[p][s]])):"audio"==c&&(i=i.concat(jsPsych.utils.flatten([h[p][s]]))));r=jsPsych.utils.unique(r),i=jsPsych.utils.unique(i),r=r.filter((function(t){return 0!=t&&null!=t})),i=i.filter((function(t){return 0!=t&&null!=t}));var d=r.length+i.length,v=0;if(o){"<div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div>","</div>",jsPsych.getDisplayElement().innerHTML="<div id='jspsych-loading-progress-bar-container' style='height: 10px; width: 300px; background-color: #ddd;'><div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div></div>"}function m(){if(v++,o){var t=v/d*100;jsPsych.getDisplayElement().querySelector("#jspsych-loading-progress-bar").style.width=t+"%"}}t.preloadImages(r,(function(){t.preloadAudioFiles(i,(function(){n()}),m)}),m)},t.hardware=function(t){var e=new CustomEvent("jspsych",{detail:t});document.dispatchEvent(e)},t.hardwareConnected=!1,document.addEventListener("jspsych-activate",(function(e){t.hardwareConnected=!0})),t}(),jsPsych.utils=function(){var t={flatten:function(e,n){n=void 0===n?[]:n;for(var r=0;r<e.length;r++)Array.isArray(e[r])?t.flatten(e[r],n):n.push(e[r]);return n},unique:function(t){for(var e=[],n=0;n<t.length;n++)t.indexOf(t[n])==n&&e.push(t[n]);return e},deepCopy:function(e){if(!e)return e;var n;if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n.push(t.deepCopy(e[r]));return n}if("object"==typeof e){for(var i in n={},e)e.hasOwnProperty(i)&&(n[i]=t.deepCopy(e[i]));return n}return e}};return t}(),"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n}),Array.prototype.includes||(Array.prototype.includes=function(t){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var e=Object(this),n=parseInt(e.length,10)||0;if(0===n)return!1;var r,i,o=parseInt(arguments[1],10)||0;for(o>=0?r=o:(r=n+o)<0&&(r=0);r<n;){if(t===(i=e[r])||t!=t&&i!=i)return!0;r++}return!1}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),jsPsych.plugins["html-keyboard-response"]=((Ha={}).info={name:"html-keyboard-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed"},choices:{type:jsPsych.plugins.parameterType.KEYCODE,array:!0,pretty_name:"Choices",default:jsPsych.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show trial before it ends."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when subject makes a response."}}},Ha.trial=function(t,e){var n='<div id="jspsych-html-keyboard-response-stimulus">'+e.stimulus+"</div>";null!==e.prompt&&(n+=e.prompt),t.innerHTML=n;var r={rt:null,key:null},i=function(){jsPsych.pluginAPI.clearAllTimeouts(),void 0!==o&&jsPsych.pluginAPI.cancelKeyboardResponse(o);var n={rt:r.rt,stimulus:e.stimulus,key_press:r.key};t.innerHTML="",jsPsych.finishTrial(n)};if(e.choices!=jsPsych.NO_KEYS)var o=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(n){t.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",null==r.key&&(r=n),e.response_ends_trial&&i()},valid_responses:e.choices,rt_method:"date",persist:!1,allow_held_key:!1});null!==e.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){t.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"}),e.stimulus_duration),null!==e.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){i()}),e.trial_duration)},Ha),jsPsych.plugins["html-button-response"]=function(){var t={};return t.info={name:"html-button-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed"},choices:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Choices",default:void 0,array:!0,description:"The labels for the buttons."},button_html:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0,description:"The html of the button. Can create own style."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed under the button."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},margin_vertical:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin vertical",default:"0px",description:"The vertical margin of the button."},margin_horizontal:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin horizontal",default:"8px",description:"The horizontal margin of the button."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, then trial will end when user responds."}}},t.trial=function(t,e){var n='<div id="jspsych-html-button-response-stimulus">'+e.stimulus+"</div>",r=[];if(Array.isArray(e.button_html))e.button_html.length==e.choices.length&&(r=e.button_html);else for(var i=0;i<e.choices.length;i++)r.push(e.button_html);n+='<div id="jspsych-html-button-response-btngroup">';for(i=0;i<e.choices.length;i++){var o=r[i].replace(/%choice%/g,e.choices[i]);n+='<div class="jspsych-html-button-response-button" style="display: inline-block; margin:'+e.margin_vertical+" "+e.margin_horizontal+'" id="jspsych-html-button-response-button-'+i+'" data-choice="'+i+'">'+o+"</div>"}n+="</div>",null!==e.prompt&&(n+=e.prompt),t.innerHTML=n;var a=Date.now();for(i=0;i<e.choices.length;i++)t.querySelector("#jspsych-html-button-response-button-"+i).addEventListener("click",(function(t){s(t.currentTarget.getAttribute("data-choice"))}));var u={rt:null,button:null};function s(n){var r=Date.now()-a;u.button=n,u.rt=r,t.querySelector("#jspsych-html-button-response-stimulus").className+=" responded";for(var i=document.querySelectorAll(".jspsych-html-button-response-button button"),o=0;o<i.length;o++)i[o].setAttribute("disabled","disabled");e.response_ends_trial&&l()}function l(){jsPsych.pluginAPI.clearAllTimeouts();var n={rt:u.rt,stimulus:e.stimulus,button_pressed:u.button};t.innerHTML="",jsPsych.finishTrial(n)}null!==e.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){t.querySelector("#jspsych-html-button-response-stimulus").style.visibility="hidden"}),e.stimulus_duration),null!==e.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){l()}),e.trial_duration)},t}(),jsPsych.plugins["survey-text"]=function(){var t={};return t.info={name:"survey-text",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",default:void 0,nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:void 0,description:"Prompt for the subject to response"},value:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Value",default:"",description:"The string will be used to populate the response field with editable answer."},rows:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Rows",default:1,description:"The number of rows for the response text box."},columns:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Columns",default:40,description:"The number of columns for the response text box."}}},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble",default:null,description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"The text that appears on the button to finish the trial."}}},t.trial=function(t,e){for(var n=0;n<e.questions.length;n++)void 0===e.questions[n].rows&&(e.questions[n].rows=1);for(n=0;n<e.questions.length;n++)void 0===e.questions[n].columns&&(e.questions[n].columns=40);for(n=0;n<e.questions.length;n++)void 0===e.questions[n].value&&(e.questions[n].value="");var r="";null!==e.preamble&&(r+='<div id="jspsych-survey-text-preamble" class="jspsych-survey-text-preamble">'+e.preamble+"</div>");for(n=0;n<e.questions.length;n++){r+='<div id="jspsych-survey-text-"'+n+'" class="jspsych-survey-text-question" style="margin: 2em 0em;">',r+='<p class="jspsych-survey-text">'+e.questions[n].prompt+"</p>";var i=0==n?"autofocus":"";1==e.questions[n].rows?r+='<input type="text" name="#jspsych-survey-text-response-'+n+'" size="'+e.questions[n].columns+'" value="'+e.questions[n].value+'" '+i+"></input>":r+='<textarea name="#jspsych-survey-text-response-'+n+'" cols="'+e.questions[n].columns+'" rows="'+e.questions[n].rows+'" '+i+">"+e.questions[n].value+"</textarea>",r+="</div>"}r+='<button id="jspsych-survey-text-next" class="jspsych-btn jspsych-survey-text">'+e.button_label+"</button>",t.innerHTML=r,t.querySelector("#jspsych-survey-text-next").addEventListener("click",(function(){for(var e=(new Date).getTime()-o,n={},r=t.querySelectorAll("div.jspsych-survey-text-question"),i=0;i<r.length;i++){var a="Q"+i,u=r[i].querySelector("textarea, input").value,s={};s[a]=u,Object.assign(n,s)}var l={rt:e,responses:JSON.stringify(n)};t.innerHTML="",jsPsych.finishTrial(l)}));var o=(new Date).getTime()},t}(),jsPsych.plugins.instructions=function(){var t={};return t.info={name:"instructions",description:"",parameters:{pages:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Pages",default:void 0,array:!0,description:"Each element of the array is the content for a single page."},key_forward:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key forward",default:"rightarrow",description:"The key the subject can press in order to advance to the next page."},key_backward:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key backward",default:"leftarrow",description:"The key that the subject can press to return to the previous page."},allow_backward:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow backward",default:!0,description:"If true, the subject can return to the previous page of the instructions."},allow_keys:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow keys",default:!0,description:"If true, the subject can use keyboard keys to navigate the pages."},show_clickable_nav:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Show clickable nav",default:!1,description:'If true, then a "Previous" and "Next" button will be displayed beneath the instructions.'},show_page_number:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Show page number",default:!1,description:"If true, and clickable navigation is enabled, then Page x/y will be shown between the nav buttons."},button_label_previous:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label previous",default:"Previous",description:"The text that appears on the button to go backwards."},button_label_next:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label next",default:"Next",description:"The text that appears on the button to go forwards."}}},t.trial=function(t,e){var n=0,r=[],i=(new Date).getTime(),o=i;function a(t){t.target.removeEventListener("click",a),"jspsych-instructions-back"===this.id?l():"jspsych-instructions-next"===this.id&&s()}function u(){var r=e.pages[n],i="";if(e.show_page_number&&(i="<span style='margin: 0 1em;' class='jspsych-instructions-pagenum'>Page "+(n+1)+"/"+e.pages.length+"</span>"),e.show_clickable_nav){var o="<div class='jspsych-instructions-nav' style='padding: 10px 0px;'>";if(e.allow_backward)o+="<button id='jspsych-instructions-back' class='jspsych-btn' style='margin-right: 5px;' "+(n>0?"":"disabled='disabled'")+">&lt; "+e.button_label_previous+"</button>";e.pages.length>1&&e.show_page_number&&(o+=i),r+=o+="<button id='jspsych-instructions-next' class='jspsych-btn'style='margin-left: 5px;'>"+e.button_label_next+" &gt;</button></div>",t.innerHTML=r,0!=n&&e.allow_backward&&t.querySelector("#jspsych-instructions-back").addEventListener("click",a),t.querySelector("#jspsych-instructions-next").addEventListener("click",a)}else e.show_page_number&&e.pages.length>1&&(r+="<div class='jspsych-instructions-pagenum'>"+i+"</div>"),t.innerHTML=r}function s(){c(),++n>=e.pages.length?function(){e.allow_keys&&jsPsych.pluginAPI.cancelKeyboardResponse(h);t.innerHTML="";var n={view_history:JSON.stringify(r),rt:(new Date).getTime()-i};jsPsych.finishTrial(n)}():u()}function l(){c(),n--,u()}function c(){var t=(new Date).getTime(),e=t-o;r.push({page_index:n,viewing_time:e}),o=t}var f=function(t){h=jsPsych.pluginAPI.getKeyboardResponse({callback_function:f,valid_responses:[e.key_forward,e.key_backward],rt_method:"date",persist:!1,allow_held_key:!1}),jsPsych.pluginAPI.compareKeys(t.key,e.key_backward)&&0!==n&&e.allow_backward&&l(),jsPsych.pluginAPI.compareKeys(t.key,e.key_forward)&&s()};if(u(),e.allow_keys)var h=jsPsych.pluginAPI.getKeyboardResponse({callback_function:f,valid_responses:[e.key_forward,e.key_backward],rt_method:"date",persist:!1})},t}(),jsPsych.plugins["survey-multi-choice"]=function(){var t={};return t.info={name:"survey-multi-choice",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:void 0,description:"The strings that will be associated with a group of options."},options:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Options",array:!0,default:void 0,description:"Displays options for an individual question."},required:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Required",default:!1,description:"Subject will be required to pick an option for each question."},horizontal:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Horizontal",default:!1,description:"If true, then questions are centered and options are displayed horizontally."}}},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble",default:null,description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"Label of the button."}}},t.trial=function(t,e){var n="jspsych-survey-multi-choice",r=function(){var t=Array.prototype.slice.call(arguments,r.length);return t.join("-")};t.innerHTML='<style id="jspsych-survey-multi-choice-css"></style>';t.querySelector("#jspsych-survey-multi-choice-css").innerHTML=".jspsych-survey-multi-choice-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-choice-text span.required {color: darkred;}.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-text {  text-align: center;}.jspsych-survey-multi-choice-option { line-height: 2; }.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-choice-text input[type='radio'] {margin-right: 1em;}";var i=r(n,"form");t.innerHTML+='<form id="'+i+'"></form>';var o=t.querySelector("#"+i),a=r(n,"preamble");null!==e.preamble&&(o.innerHTML+='<div id="'+a+'" class="'+a+'">'+e.preamble+"</div>");for(var u=0;u<e.questions.length;u++){var s=[r(n,"question")];e.questions[u].horizontal&&s.push(r(n,"horizontal")),o.innerHTML+='<div id="'+r(n,u)+'" class="'+s.join(" ")+'"></div>';var l=r("#jspsych-survey-multi-choice",u);t.querySelector(l).innerHTML+='<p class="'+n+'-text survey-multi-choice">'+e.questions[u].prompt+"</p>";for(var c=0;c<e.questions[u].options.length;c++){var f=r(n,"option",u,c);t.querySelector(l).innerHTML+='<div id="'+f+'" class="'+r(n,"option")+'"></div>';var h=document.getElementById(f),p=r(n,"response",u),d=r(n,"response",u,c),v=document.createElement("label");v.setAttribute("class",n+"-text"),v.innerHTML=e.questions[u].options[c],v.setAttribute("for",d);var m=document.createElement("input");m.setAttribute("type","radio"),m.setAttribute("name",p),m.setAttribute("id",d),m.setAttribute("value",e.questions[u].options[c]),h.appendChild(v),h.insertBefore(m,v)}e.questions[u].required&&(t.querySelector(l+" p").innerHTML+="<span class='required'>*</span>",t.querySelector(l+" input[type=radio]").required=!0)}o.innerHTML+='<input type="submit" id="'+n+'-next" class="'+n+' jspsych-btn"'+(e.button_label?' value="'+e.button_label+'"':"")+"></input>",o.addEventListener("submit",(function(e){e.preventDefault();for(var r=t.querySelectorAll("div."+n+"-question"),i=(new Date).getTime()-y,o={},a=(r=t.querySelectorAll("div."+n+"-question"),0);a<r.length;a++){var u=r[a],s="Q"+a;if(null!==u.querySelector("input[type=radio]:checked"))var l=u.querySelector("input[type=radio]:checked").value;else l="";var c={};c[s]=l,Object.assign(o,c)}var f={rt:i,responses:JSON.stringify(o)};t.innerHTML="",jsPsych.finishTrial(f)}));var y=(new Date).getTime()},t}();var Ua=function(){function t(t){if(this.weights={},this.data={},this.length=0,this.hasData=!1,t=void 0!==t?t:[],!Array.isArray(t))throw new Error('Unknown object "'+t.toString()+'" passed to WeightedList constructor! (Expected array or nothing)');for(var e=0;e<t.length;e++)this.push(t[e])}function e(t,e,n){this.weight=t,this.value=e,this.total=n}function n(t){this.heap=[null];for(var n=0;n<t.length;n++){var r=t[n][1],i=t[n][0];this.heap.push(new e(r,i,r))}for(n=this.heap.length-1;n>1;n--)this.heap[n>>1].total+=this.heap[n].total}return t.prototype={push:function(t){var e,n,r;if(Array.isArray(t)){if(e=t[0],n=t[1],r=t[2],void 0===e)throw new Error("In WeightedList.push([ ... ]), need at least two elements");if(void 0===n)throw new Error("In array passed to WeightedList.push([ ... ]), second element is undefined!")}else{if("object"!=typeof t)throw new Error('WeightedList.push() passed unknown type "'+typeof t+'", expected [key, weight] or {"key": k, "weight": w}');if(e=t.key,n=t.weight,r=t.data,void 0===e)throw new Error("In WeightedList.push({ ... }), no {'key': 'xyzzy'} pair found");if(void 0===n)throw new Error("In array passed to WeightedList.push({ ... }), no {'weight': 42} pair found")}return this._push_values(e,n,r)},_push_values:function(t,e,n){if(this.weights[t])throw new Error("");if("number"!=typeof e)throw new Error("Weight must be numeric (got "+e.toString()+")");if(e<=0)throw new Error("Weight must be >= 0 (got "+e+")");this.weights[t]=e,void 0!==n&&(this.hasData=!0,this.data[t]=n),this.length++},addWeight:function(t,e){this.weights[t]+=e},peek:function(t,e){if(void 0===t&&(t=1),e=!!e,this.length-t<0)throw new Error("Stack underflow! Tried to retrieve "+t+" element"+(1===t?"":"s")+" from a list of "+this.length);for(var n=this._buildWeightedHeap(),r=[],i=0;i<t;i++){var o=n.pop();this.hasData?r.push({key:o,data:this.data[o]}):r.push(o),e&&(delete this.weights[o],delete this.data[o],this.length--)}return r},shuffle:function(){return this.peek(this.length)},pop:function(t){return this.peek(t,!0)},_buildWeightedHeap:function(){var t=[];for(var e in this.weights)this.weights.hasOwnProperty(e)&&t.push([e,this.weights[e]]);return new n(t)}},n.prototype={pop:function(){for(var t=this.heap[1].total*Math.random(),e=1;t>this.heap[e].weight;)t-=this.heap[e].weight,e<<=1,t>this.heap[e].total&&(t-=this.heap[e].total,e++);var n=this.heap[e].value,r=this.heap[e].weight;for(this.heap[e].weight=0;e>0;)this.heap[e].total-=r,e>>=1;return n}},t}();function Wa(t){let e,n,r,i,o,a;return{c(){e=w("div"),n=w("div"),r=w("img"),r.src!==(i=`data/${t[4]}/thumbnails/${t[5][t[3]]}.png`)&&A(r,"src",i),A(r,"alt",t[3]),A(r,"width","60px"),A(r,"height","60px"),A(r,"class","svelte-18y3eve"),A(n,"class","tooltiptext svelte-18y3eve"),A(e,"id","tooltip"),A(e,"class","tooltip svelte-18y3eve"),S(e,"position","absolute"),S(e,"z-index","10000"),S(e,"visibility",t[3]?null:"hidden"),S(e,"pointer-events","none")},m(i,o){y(i,e,o),m(e,n),m(n,r),t[8](e),a=!0},p(t,n){(!a||56&n[0]&&r.src!==(i=`data/${t[4]}/thumbnails/${t[5][t[3]]}.png`))&&A(r,"src",i),(!a||8&n[0])&&A(r,"alt",t[3]),(!a||8&n[0])&&S(e,"visibility",t[3]?null:"hidden")},i(t){a||(K(()=>{o||(o=ct(e,kt,{duration:350},!0)),o.run(1)}),a=!0)},o(t){o||(o=ct(e,kt,{duration:350},!1)),o.run(0),a=!1},d(n){n&&g(e),t[8](null),n&&o&&o.end()}}}function Fa(e){let n,r,i,o,a,u,s;return{c(){n=w("div"),r=w("p"),i=x("You have done "),o=x(e[1]),a=x(" / 12 rounds."),u=w("br"),s=x("*The experiment will end after 12 rounds, regardless of the choice."),A(n,"class","jspsych-display-element svelte-18y3eve")},m(t,e){y(t,n,e),m(n,r),m(r,i),m(r,o),m(r,a),m(r,u),m(r,s)},p(t,e){2&e[0]&&M(o,t[1])},i:t,o:t,d(t){t&&g(n)}}}function Ya(e){let n;return{c(){n=w("div"),A(n,"class","jspsych-display-element svelte-18y3eve")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}function Va(e){let n,r,i,o,a,u,s,l,c,f,h,p;return{c(){n=w("div"),r=w("p"),r.textContent=`Study had completed. Your participant ID is ${e[7]}.`,i=k(),o=w("p"),o.textContent="If you ever want the data you provided to be deleted you may contact: cristina.morariu@visus.uni-stuttgart.de or\n                datenschutz@uni-stuttgart.de by providing this ID.",a=k(),u=w("p"),u.textContent="If you lose this ID, the data will no longer be identifiable to you.",s=k(),l=w("iframe"),f=w("p"),f.innerHTML='<a href="https://giphy.com/gifs/harry-potter-applause-AOrThUuuOoDCg">via GIPHY</a>',h=k(),p=w("h1"),p.innerHTML='<span class="mdi mdi-spin mdi-arm-flex"></span>Lots of thanks!!<span class="mdi mdi-spin mdi-heart"></span>',l.src!==(c="https://giphy.com/embed/AOrThUuuOoDCg")&&A(l,"src","https://giphy.com/embed/AOrThUuuOoDCg"),A(l,"width","480"),A(l,"height","285"),A(l,"frameborder","0"),A(l,"class","giphy-embed"),l.allowFullscreen=!0,S(l,"margin","auto"),A(l,"title","Dumbledore is pleased!"),A(n,"class","jspsych-display-element svelte-18y3eve")},m(t,e){y(t,n,e),m(n,r),m(n,i),m(n,o),m(n,a),m(n,u),m(n,s),m(n,l),m(n,f),m(n,h),m(n,p)},p:t,i:t,o:t,d(t){t&&g(n)}}}function Ka(t){let e,n,r,i;const o=[Xa,Ga],a=[];function u(t,e){return t[6]?0:1}return n=u(t),r=a[n]=o[n](t),{c(){e=w("div"),r.c(),A(e,"class","jspsych-display-element svelte-18y3eve")},m(t,r){y(t,e,r),a[n].m(e,null),i=!0},p(t,i){let s=n;n=u(t),n===s?a[n].p(t,i):(ot(),st(a[s],1,1,()=>{a[s]=null}),at(),r=a[n],r||(r=a[n]=o[n](t),r.c()),ut(r,1),r.m(e,null))},i(t){i||(ut(r),i=!0)},o(t){st(r),i=!1},d(t){t&&g(e),a[n].d()}}}function Ga(e){let n,r,i;return{c(){n=w("div"),r=k(),i=w("center"),i.textContent="Loading...",A(n,"class","loader svelte-18y3eve")},m(t,e){y(t,n,e),y(t,r,e),y(t,i,e)},p:t,i:t,o:t,d(t){t&&g(n),t&&g(r),t&&g(i)}}}function Xa(t){let e,n,r;return n=new Da({props:{tooltip:t[2]}}),{c(){e=w("div"),pt(n.$$.fragment)},m(t,i){y(t,e,i),dt(n,e,null),r=!0},p(t,e){const r={};4&e[0]&&(r.tooltip=t[2]),n.$set(r)},i(t){r||(ut(n.$$.fragment,t),r=!0)},o(t){st(n.$$.fragment,t),r=!1},d(t){t&&g(e),vt(n)}}}function Za(t){let e,n,r,i,o,a,u,s,l,c,f,h=t[3]&&Wa(t);const p=[Ka,Va,Ya,Fa],d=[];function v(t,e){return"dr_grid"==t[0]?0:"finish"==t[0]?1:"debrief"==t[0]?2:"progress"==t[0]?3:-1}return~(l=v(t))&&(c=d[l]=p[l](t)),{c(){e=w("link"),n=w("link"),r=w("link"),i=k(),o=w("nav"),o.innerHTML='<h2 style="display: inline-block;" class="svelte-18y3eve"><img src="./images/favicon.png" height="24px" alt=""> DumbleDR</h2> \n    <div style="float:right; padding: .5rem;"><img src="./images/visus.png" height="48px" alt="visus"> \n        <img src="./images/logo-precise.png" height="48px" alt="precise"></div>',a=k(),h&&h.c(),u=k(),s=w("main"),c&&c.c(),A(e,"href","https://cdn.jsdelivr.net/gh/jspsych/jsPsych@6.1.0/css/jspsych.min.css"),A(e,"rel","stylesheet"),A(e,"type","text/css"),A(n,"href","./build/style.css"),A(n,"rel","stylesheet"),A(n,"type","text/css"),A(r,"href","./build/jspsych.css"),A(r,"rel","stylesheet"),A(r,"type","text/css"),A(o,"class","svelte-18y3eve"),A(s,"id","task"),S(s,"max-width",250*Ja+10*(Ja+1)+"px"),A(s,"class","svelte-18y3eve")},m(t,c){m(document.head,e),m(document.head,n),m(document.head,r),y(t,i,c),y(t,o,c),y(t,a,c),h&&h.m(t,c),y(t,u,c),y(t,s,c),~l&&d[l].m(s,null),f=!0},p(t,e){t[3]?h?(h.p(t,e),8&e[0]&&ut(h,1)):(h=Wa(t),h.c(),ut(h,1),h.m(u.parentNode,u)):h&&(ot(),st(h,1,1,()=>{h=null}),at());let n=l;l=v(t),l===n?~l&&d[l].p(t,e):(c&&(ot(),st(d[n],1,1,()=>{d[n]=null}),at()),~l?(c=d[l],c||(c=d[l]=p[l](t),c.c()),ut(c,1),c.m(s,null)):c=null)},i(t){f||(ut(h),ut(c),f=!0)},o(t){st(h),st(c),f=!1},d(t){g(e),g(n),g(r),t&&g(i),t&&g(o),t&&g(a),h&&h.d(t),t&&g(u),t&&g(s),~l&&d[l].d()}}}const Ja=4;function Qa(t,e,n){let r,i,o,a,u,l,c,f;s(t,Io,t=>n(12,r=t)),s(t,So,t=>n(13,i=t)),s(t,Eo,t=>n(14,o=t)),s(t,Ao,t=>n(15,a=t)),s(t,Po,t=>n(3,u=t)),s(t,Mo,t=>n(4,l=t)),s(t,jo,t=>n(5,c=t)),s(t,To,t=>n(6,f=t));let h=jsPsych.randomization.randomID(15);jsPsych.data.addProperties({subject:h});let p={type:"html-button-response",stimulus:'<div class="text-block"><h1>Call for participants</h1>\n<img src="./images/visus.png" height = \'100px\'> <img src="./images/logo-precise.png" height = \'100px\'>\t\t\t\t\t\t\t    <p>\n\t\t\t\t\t\t\t\t\tThe <b>Visualization Research Center (VISUS)</b> at the University of Stuttgart and the <b>Research Center on Information Systems Engineering (PReCISE)</b> from the University of Namur are looking for participants for an\n\t\t\t\t\t\t\t\t\tonline study on visualization and visual analysis. </p>\n                                 <p>\n                                    Given a series of datasets, we apply algorithms that find similarities in images.\nWe want to find out whether humans consider the resulting visualizations to be good or bad.</p>\n                                <p>\n                                    The study consists of:\n                                    <ul>\n                                        <li>An informed consent agreement;</li>\n                                        <li>Instructions for the task;</li>\n                                        <li>A pre-participation survey that will assess your experience with this type of task;</li>\n                                        <li>A series of trials where you are asked to analyze scatterplots depicting the results of some machine learning algorithms and choose the best result;</li>\n                                        <li>A post-trial survey, where we will ask you for feedback on the task.</li>\n                                    </ul>\n                                </p>\n\n                                <p>\n                                    The requirements are:\n                                    <ul>\n                                        <li> You are at least 18 years old;</li>\n                                        <li> You speak fluent English;</li>\n                                        <li> Your screen-size is at least 700x400 pixels;</li>\n                                        <li> You have some experience with data analysis tasks (e.g. analyzing charts and extracting information from them).</li>\n                                    </ul>\n\n                                </p>\n\n                                <p>\n                                    The task takes between 30 and 60 minutes.\n\n                                </p><p>The study only works in <b>Google Chrome</b> and <b>Mozilla Firefox</b>.</p><p>Press start to begin.</p></div>',choices:["Start Study"],prompt:"<br><br>"},d={type:"html-button-response",stimulus:'<div class="text-block"><h1>We need your consent to proceed</h1>\n                <hr>\n                <div class="legal well">\n                    <p>Dear prospective participant, </p>\n                    <p>\n                        We would like to invite you to participate in the following study within the scope of the\n                        research carried out at the Collaborative Research Center/Transregio 161 (SFB-TRR 161). </p>\n                     <p>\n                        In particular, we analyze the human perception of the results from various algorithms that seek to imitate human perception of visualizations.\n                    </p>\n                    <p>\n                        In the current study, „Evaluation of Dimensionality Reduction\n                        Techniques for Image-based Data“, you will be required to analyze and select preferences\n                        for a series of visualizations of algorithms applied on image data.\n                    </p>\n                    <p>\n                        Detailed instructions will follow after this screen.\n                    </p>\n\n                    <p>\n                        <iframe src="./Consent.pdf" style="width:80%; height:600px;"\n                            frameborder="0"></iframe>\n                    </p>\n\n                    <p>\n                       By clicking \'I accept!\', you are giving your informed consent to participate in this study.                     </p>\n                </div> <div>',choices:["I accept!"],prompt:"<br><br>"},v={type:"instructions",pages:["<div class=\"text-block\"> \n\n<h1>Dimensionality Reduction on Image-based Datasets</h1>\n<p>\nThis experiment aims at gathering data about what users consider to be “good” or ”bad/misleading” visualizations. \nMore specifically we are interested in finding out user preferences regarding <b>projections of dimensionality reduction algorithms</b>. \n</p>\n<br>\n\n<h3>What is Dimensionality Reduction?</h3>\n<p>\nDimensionality reduction (DR) refers to algorithms that reduce the number of dimensions (features) in a dataset, with minimal information loss. In this study, the dataset consists of images, and the DR projection result is a set of 2D coordinates, one for each image. This result can be visualized in a scatterplot, where each point represents an image from the dataset. Below you can see an example. \n</p>\n<img class='instructions' src='./images/dr_example.png'>\n<p>\nA good DR technique reduces data by maintaining similarity between items. This means that if two images are very similar they should be plotted close to each other, and far from each other if they are dissimilar. Different DR algorithms define similarity differently and thereore produce different scatterplots. \n</p>\n\n<p>In this study, we want you to analyze a group of scatterplots depicting these projections and decide which ones are good and which are bad. <b>You do not need to have any additional knowledge about DR!</b></p>\n\n<p>On the next page we will explain the user interface of the study.</p>\n\n</div>","<div class=\"text-block\"> \n\n<h1>User Interface</h1>\n<p>\nWe will rate your preferences on a dataset-by-dataset basis. Below you can see an example of what this dataset might be and what the interface looks like. In this case, the dataset consists of photographs of the same head captured from different angles. There are 8 scatterplots, each corresponding to a projection of a DR algorithm technique. \n</p>\n<br>\n<img class='instructions' src='./images/grid_example.png'>\n\n</div>",'<div class="text-block"> \n\n<h1>User Interface</h1>\n<h3>Think of this as a game with the following rules:</h3>\n<h3>Rule 1:</h3>\n\n<p>Your job is to distribute 15 hearts/points across the 8 projections. You do not need to distribute all the hearts. </p>\n<h3>Rule 2:</h3>\n<p>Some projections might be bad (e.g. if points are randomly scattered), or misleading (e.g. clusters forming when there should be none), or they might have other issues that you identify. If this is the case, please mark the projections as bad by selecting the crossed heart symbol. You may leave a comment for any scatterplot, good or bad, by clicking the text box.</p>\n<video class = \'instructions\' controls  autoplay loop>\n  <source src="./images/rule_12.webm" type="video/webm">\nYour browser does not support the video tag. \n</video></div>','<div class="text-block"> \n\n<h1>User Interface</h1>\n<h3>Rule 3:</h3>\n\n<p>Each scatterplot can be enlarged for better analysis! You can also zoom in and hover over the points. If you want you may even leave a comment. </p>\n<p><b>We highly recommend you to use this feature!</b></p><video class = \'instructions\' controls autoplay loop>\n  <source src="./images/rule_3.webm" type="video/webm">\nYour browser does not support the video tag. \n</video></div>','<div class="text-block"> \n\n<h1>User Interface</h1>\n<h3>Rule 4:</h3>\n\n<p>After each rating, we recommend you to click the sort button, which will sort the scatterplots by your rating. We want you to really compare the projections and rate or re-rate so that the sorted list is arranged from best to worst. This is also the reason why you have a limited number of hearts to assign: we want to mostly avoid someone rating everything 4-stars. </p>\n<video class = \'instructions\' controls autoplay loop>\n  <source src="./images/sort.webm" type="video/webm">\nYour browser does not support the video tag. \n</video></div>','<div class="text-block"> \n\n<h1>User Interface</h1>\n<h3>Final thing:</h3>\n\n<p>We also implemented an additional view where we plot each image as a point. The points are color coded by class labels. This is an auxiliary view you may use to consolidate your opinion of the projection. You should make your decision based on the image view, as class labels might not always make sense. </p>\n<video class = \'instructions\' controls autoplay loop>\n  <source src="./images/color.webm" type="video/webm">\nYour browser does not support the video tag. \n</video></div>','<div class="text-block"> \n\n<h1>How long will this take?</h1>\n<p> In total we have 12 datasets, consisting of collections of photos. After each trial, you will be asked if you want to look at <b>Another Dataset</b> or <b>Finish the Experiment</b>. If you choose the latter, you will be directed to the final debriefing questionnaire.The time it takes for the study will depend on how many trials you do. <b>It took us about 40 minutes to rate all datasets.</b></p> <p>It would be really nice if you solved at least 5!  </p><p>You might receive the same dataset twice. In this case just re-do it. This is so we assess your consistency. </p><p>Instructions are over, once you proceed you cannot return to them!</p></div>'],show_clickable_nav:!0,show_page_number:!0};var m={type:"survey-text",questions:[{prompt:'<div class="text-block">Do you want to share your email with us? <br> This is only so we can contact you in case we have questions about your user experience and will not be published anywhere. <br>Leave the input field empty if you don\'t want to be contacted any further. </div>',columns:100,name:"Name"}],randomize_question_order:!1,prompt:"<br><br>"},y={type:"survey-multi-choice",questions:[{prompt:"<div class='text-block'> <b>What is the highest academic degree you graduated from? </b></div>",options:["High School","Bachelor","Master","PhD","Other"],horizontal:!0,required:!0,name:"degree"},{prompt:"<div class='text-block'> <b>Where do you primarily work? </b></div>",options:["Research / Academia","Research / Other","Analysis/STEM work","Student","None of the above","Prefer not to say"],horizontal:!0,required:!0,name:"job"},{prompt:"<div class='text-block'> <b>What is your experience with Machine Learning?</b></div>",options:["Never heard of this","I know the basics","I use it in my work","I work in the field","I'm an expert in the field","Prefer not to say"],horizontal:!0,required:!0,name:"ML"},{prompt:"<div class='text-block'> <b>What is your experience with Information Visualization?</b></div>",options:["Never heard of this","I know the basics","I use it in my work","I work in the field","I'm an expert in the field","Prefer not to say"],horizontal:!0,required:!0,name:"infovis"},{prompt:"<div class='text-block'> <b>What is your experience with Dimensionality Reduction?</b></div>",options:["Never heard of this","I know the basics","I use it in my work","I propose/research DR techniques","Prefer not to say"],horizontal:!0,required:!0,name:"dr"},{prompt:"<div class='text-block'> <b>Have you analysed scatterplots before?</b></div>",options:["Never","Yes, but only informally (in newspapers, social media etc.)","I made scatterplots before with my own data","I'm an expert when it comes to scatterplots","Prefer not to say"],horizontal:!0,required:!0,name:"scatter"}]};let g=null;const _=stitch.Stitch.initializeDefaultAppClient("dumbledr-qfkje"),w=_.getServiceClient(stitch.RemoteMongoClient.factory,"mongodb-atlas").db("dumbledr"),b=w.collection("results"),x=w.collection("settings");let k;_.auth.loginWithCredential(new stitch.AnonymousCredential).then(t=>x.findOne({})).catch(t=>console.error(t)).then(t=>n(9,k=t.settings));var j=1;let T,A;var P={type:"html-button-response",stimulus:"Another round? <br> ",choices:['Continue to advance <img src="./images/healthcare-and-medical.svg" alt="science" height="15px"> & <img src="./images/tech.svg" alt="technology" height="15px"> ! <img src="./images/trophy.svg" alt="" height="15px">','End experiment <img src="./images/emoji.svg" alt=":(" height="15px"> <img src="./images/smiley.svg" alt=":(" height="15px">'],prompt:"<br><br>"},M={timeline:[{type:"html-button-response",stimulus:()=>{const t=new Ua(k.map((t,e)=>[e,1/1**t.dataset_weight,t]));console.log(t),T=t.peek()[0];const e=T.data,r=new Ua(e.paths.map((t,n)=>[n,1/1**e.path_weights[n],t]));A=r.peek(2*Ja);const i=A.map(t=>t.data);var o=e.name;return ko.load(ko,i,o),n(0,g="dr_grid"),"<p class='description'>"+e.description+"</p>"},choices:["Rating complete!"],timing_post_trial:400,on_finish(t){let e={};e[`settings.${T.key}.dataset_weight`]=1,_.auth.loginWithCredential(new stitch.AnonymousCredential).then(t=>x.updateOne({},{$inc:e},{upsert:!0})).catch(t=>console.error(t)).then(()=>{let t={};for(let e=0,n=A.length;e<n;++e)t[`settings.${T.key}.path_weights.${A[e].key}`]=1;_.auth.loginWithCredential(new stitch.AnonymousCredential).then(e=>x.updateOne({},{$inc:t},{upsert:!0})).catch(t=>console.error(t)).then(()=>{_.auth.loginWithCredential(new stitch.AnonymousCredential).then(t=>x.findOne({})).catch(t=>console.error(t)).then(t=>n(9,k=t.settings))})}),t.sort_time=r,t.color_time=i,t.image_time=o,t.finish_time=performance.now(),t.dataset=a.map(t=>({name:t.name,pos:t.pos_count,neg:t.neg_count,comment:t.comment,position:t.position,click_enlarge:t.click_enlarge,star_time:t.star_time})),n(0,g="debrief")}},{type:"survey-multi-choice",questions:[{prompt:"<div class='text-block'> <b>How difficult was this trial? </b></div>",options:["Very Easy","Easy","Medium","Hard","Very difficult","I was confused the entire time"],horizontal:!0,required:!1,name:"difficulty"}]},{type:"survey-text",questions:[{prompt:'<div class="text-block">What criteria did you use for your ratings? (Answer only if the answer is different to before)</div>',columns:80,rows:5,required:!1,name:"Name"}],randomize_question_order:!1,prompt:"<br><br>",on_finish(){n(0,g="progress")}},P],loop_function:t=>(console.log(P),"0"===t.values()[3].button_pressed&&j<12?(n(1,j++,j),!0):(n(0,g="debrief"),!1))},I={type:"survey-multi-choice",questions:[{prompt:"<div class='text-block'> <b>How difficult was the experiment as a whole? </b></div>",options:["Very Easy","Easy","Medium","Hard","Very difficult","I was confused the entire time"],horizontal:!0,required:!0,name:"difficulty"},{prompt:"<div class='text-block'> <b>Do you think you improved at doing the tasks over time?</b></div>",options:["Yes","No","I don't know"],horizontal:!0,required:!0,name:"learning"},{prompt:"<div class='text-block'> <b>Did you experience different degrees of difficulty based on the dataset?</b></div>",options:["Yes","No","I don't know"],horizontal:!0,required:!0,name:"learning"}]},S={type:"survey-text",questions:[{prompt:'<div class="text-block">Do you have any other comments or feedback? </div>',columns:80,rows:5,required:!0,name:"Name"}],randomize_question_order:!1,prompt:"<br><br>"};let E;return B(()=>{jsPsych.init({display_element:"task",exclusions:{min_width:700,min_height:400},on_trial_start:t=>{},on_interaction_data_update:t=>{},show_progress_bar:!0,auto_update_progress_bar:!0,timeline:[p,d,v,m,y,M,I,S],on_finish(t){n(0,g="finish"),_.auth.loginWithCredential(new stitch.AnonymousCredential).then(t=>b.insertOne({owner_id:_.auth.user.id,result:jsPsych.data.get().values()})).catch(t=>{console.error(t)})}})}),t.$$.update=()=>{512&t.$$.dirty[0]&&console.log(k)},[g,j,E,u,l,c,f,h,function(t){U[t?"unshift":"push"](()=>{E=t,n(2,E)})}]}return new class extends gt{constructor(t){super(),yt(this,t,Qa,Za,a,{},[-1,-1])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
