var app=function(){"use strict";function t(){}const n=t=>t;function e(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function u(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function s(t,n,e){t.$$.on_destroy.push(a(n,e))}function l(t){return null==t?"":t}const c="undefined"!=typeof window;let f=c?()=>window.performance.now():()=>Date.now(),h=c?t=>requestAnimationFrame(t):t;const d=new Set;function p(t){d.forEach(n=>{n.c(t)||(d.delete(n),n.f())}),0!==d.size&&h(p)}function v(t){let n;return 0===d.size&&h(p),{promise:new Promise(e=>{d.add(n={c:t,f:e})}),abort(){d.delete(n)}}}function g(t,n){t.appendChild(n)}function m(t,n,e){t.insertBefore(n,e||null)}function _(t){t.parentNode.removeChild(t)}function y(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function w(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function j(){return x(" ")}function A(){return x("")}function k(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function T(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function M(t,n,e){t.setAttributeNS("http://www.w3.org/1999/xlink",n,e)}function P(t,n){n=""+n,t.data!==n&&(t.data=n)}function S(t,n,e,r){t.style.setProperty(n,e,r?"important":"")}function $(t,n,e){t.classList[e?"add":"remove"](n)}function E(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}const z=new Set;let N,I=0;function C(t,n,e,r,i,o,u,a=0){const s=16.666/r;let l="{\n";for(let t=0;t<=1;t+=s){const r=n+(e-n)*o(t);l+=100*t+`%{${u(r,1-r)}}\n`}const c=l+`100% {${u(e,1-e)}}\n}`,f=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(c)}_${a}`,h=t.ownerDocument;z.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(w("style")).sheet),p=h.__svelte_rules||(h.__svelte_rules={});p[f]||(p[f]=!0,d.insertRule(`@keyframes ${f} ${c}`,d.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?v+", ":""}${f} ${r}ms linear ${i}ms 1 both`,I+=1,f}function O(t,n){const e=(t.style.animation||"").split(", "),r=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),i=e.length-r.length;i&&(t.style.animation=r.join(", "),I-=i,I||h(()=>{I||(z.forEach(t=>{const n=t.__svelte_stylesheet;let e=n.cssRules.length;for(;e--;)n.deleteRule(e);t.__svelte_rules={}}),z.clear())}))}function L(t){const n=getComputedStyle(t);if("absolute"!==n.position&&"fixed"!==n.position){const{width:e,height:r}=n,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=e,t.style.height=r,function(t,n){const e=t.getBoundingClientRect();if(n.left!==e.left||n.top!==e.top){const r=getComputedStyle(t),i="none"===r.transform?"":r.transform;t.style.transform=`${i} translate(${n.left-e.left}px, ${n.top-e.top}px)`}}(t,i)}}function R(t){N=t}function D(){if(!N)throw new Error("Function called outside component initialization");return N}function U(t){D().$$.on_mount.push(t)}const q=[],B=[],F=[],H=[],W=Promise.resolve();let V=!1;function K(t){F.push(t)}function Y(t){H.push(t)}let X=!1;const G=new Set;function Z(){if(!X){X=!0;do{for(let t=0;t<q.length;t+=1){const n=q[t];R(n),J(n.$$)}for(q.length=0;B.length;)B.pop()();for(let t=0;t<F.length;t+=1){const n=F[t];G.has(n)||(G.add(n),n())}F.length=0}while(q.length);for(;H.length;)H.pop()();V=!1,X=!1,G.clear()}}function J(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(K)}}let Q;function tt(){return Q||(Q=Promise.resolve(),Q.then(()=>{Q=null})),Q}function nt(t,n,e){t.dispatchEvent(E(`${n?"intro":"outro"}${e}`))}const et=new Set;let rt;function it(){rt={r:0,c:[],p:rt}}function ot(){rt.r||i(rt.c),rt=rt.p}function ut(t,n){t&&t.i&&(et.delete(t),t.i(n))}function at(t,n,e,r){if(t&&t.o){if(et.has(t))return;et.add(t),rt.c.push(()=>{et.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}const st={duration:0};function lt(e,r,u,a){let s=r(e,u),l=a?0:1,c=null,h=null,d=null;function p(){d&&O(e,d)}function g(t,n){const e=t.b-l;return n*=Math.abs(e),{a:l,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function m(r){const{delay:o=0,duration:u=300,easing:a=n,tick:m=t,css:_}=s||st,y={start:f()+o,b:r};r||(y.group=rt,rt.r+=1),c?h=y:(_&&(p(),d=C(e,l,r,u,o,a,_)),r&&m(0,1),c=g(y,u),K(()=>nt(e,r,"start")),v(t=>{if(h&&t>h.start&&(c=g(h,u),h=null,nt(e,c.b,"start"),_&&(p(),d=C(e,l,c.b,c.duration,0,a,s.css))),c)if(t>=c.end)m(l=c.b,1-l),nt(e,c.b,"end"),h||(c.b?p():--c.group.r||i(c.group.c)),c=null;else if(t>=c.start){const n=t-c.start;l=c.a+c.d*a(n/c.duration),m(l,1-l)}return!(!c&&!h)}))}return{run(t){o(s)?tt().then(()=>{s=s(),m(t)}):m(t)},end(){p(),c=h=null}}}function ct(t,n){t.f(),function(t,n){at(t,1,1,()=>{n.delete(t.key)})}(t,n)}function ft(t,n,e){const r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function ht(t){t&&t.c()}function dt(t,n,r){const{fragment:u,on_mount:a,on_destroy:s,after_update:l}=t.$$;u&&u.m(n,r),K(()=>{const n=a.map(e).filter(o);s?s.push(...n):i(n),t.$$.on_mount=[]}),l.forEach(K)}function pt(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function vt(t,n){-1===t.$$.dirty[0]&&(q.push(t),V||(V=!0,W.then(Z)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function gt(n,e,o,u,a,s,l=[-1]){const c=N;R(n);const f=e.props||{},h=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:r(),dirty:l};let d=!1;if(h.ctx=o?o(n,f,(t,e,...r)=>{const i=r.length?r[0]:e;return h.ctx&&a(h.ctx[t],h.ctx[t]=i)&&(h.bound[t]&&h.bound[t](i),d&&vt(n,t)),e}):[],h.update(),d=!0,i(h.before_update),h.fragment=!!u&&u(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(_)}else h.fragment&&h.fragment.c();e.intro&&ut(n.$$.fragment),dt(n,e.target,e.anchor),Z()}R(c)}class mt{$destroy(){pt(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}var _t={settings:[{name:"stanfordfaces",description:"Description.",paths:["stanfordfaces_size50_call_GRP.csv","stanfordfaces_size50_call_ISM_n15.csv","stanfordfaces_size50_call_ISM_n2.csv","stanfordfaces_size50_call_ISM_n5.csv","stanfordfaces_size50_call_ISM_n7.csv","stanfordfaces_size50_call_MDS.csv","stanfordfaces_size50_call_PCA.csv","stanfordfaces_size50_call_SE_n7.csv","stanfordfaces_size50_call_TSNE_p100.csv","stanfordfaces_size50_call_TSNE_p10.csv","stanfordfaces_size50_call_TSNE_p30.csv","stanfordfaces_size50_call_TSNE_p5.csv","stanfordfaces_size50_call_UMAP_n15_d0.1.csv","stanfordfaces_size50_call_UMAP_n15_d0.5.csv","stanfordfaces_size50_call_UMAP_n15_d0.8.csv","stanfordfaces_size50_call_UMAP_n2_d0.1.csv","stanfordfaces_size50_call_UMAP_n2_d0.5.csv","stanfordfaces_size50_call_UMAP_n2_d0.8.csv","stanfordfaces_size50_call_UMAP_n5_d0.1.csv","stanfordfaces_size50_call_UMAP_n5_d0.5.csv","stanfordfaces_size50_call_UMAP_n5_d0.8.csv","stanfordfaces_size50_call_UMAP_n7_d0.1.csv","stanfordfaces_size50_call_UMAP_n7_d0.5.csv","stanfordfaces_size50_call_UMAP_n7_d0.8.csv"]}]};function yt(t){const n=t-1;return n*n*n+1}function wt(t){return--t*t*t*t*t+1}function bt(t,{delay:e=0,duration:r=400,easing:i=n}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:i,css:t=>"opacity: "+t*o}}function xt(t,{delay:n=0,duration:e=400,easing:r=yt,x:i=0,y:o=0,opacity:u=0}){const a=getComputedStyle(t),s=+a.opacity,l="none"===a.transform?"":a.transform,c=s*(1-u);return{delay:n,duration:e,easing:r,css:(t,n)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*i}px, ${(1-t)*o}px);\n\t\t\topacity: ${s-c*n}`}}function jt(t,{delay:n=0,duration:e=400,easing:r=yt,start:i=0,opacity:o=0}){const u=getComputedStyle(t),a=+u.opacity,s="none"===u.transform?"":u.transform,l=1-i,c=a*(1-o);return{delay:n,duration:e,easing:r,css:(t,n)=>`\n\t\t\ttransform: ${s} scale(${1-l*n});\n\t\t\topacity: ${a-c*n}\n\t\t`}}const At=[];function kt(t,n){return{subscribe:Tt(t,n).subscribe}}function Tt(n,e=t){let r;const i=[];function o(t){if(u(n,t)&&(n=t,r)){const t=!At.length;for(let t=0;t<i.length;t+=1){const e=i[t];e[1](),At.push(e,n)}if(t){for(let t=0;t<At.length;t+=2)At[t][0](At[t+1]);At.length=0}}}return{set:o,update:function(t){o(t(n))},subscribe:function(u,a=t){const s=[u,a];return i.push(s),1===i.length&&(r=e(o)||t),u(n),()=>{const t=i.indexOf(s);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Mt(n,e,r){const u=!Array.isArray(n),s=u?[n]:n,l=e.length<2;return kt(r,n=>{let r=!1;const c=[];let f=0,h=t;const d=()=>{if(f)return;h();const r=e(u?c[0]:c,n);l?n(r):h=o(r)?r:t},p=s.map((t,n)=>a(t,t=>{c[n]=t,f&=~(1<<n),r&&d()},()=>{f|=1<<n}));return r=!0,d(),function(){i(p),h()}})}function Pt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var St,$t,Et=(1===(St=Pt).length&&($t=St,St=function(t,n){return Pt($t(t),n)}),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;St(t[i],n)<0?e=i+1:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;St(t[i],n)>0?r=i:e=i+1}return e}}).right;function zt(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}var Nt=Math.sqrt(50),It=Math.sqrt(10),Ct=Math.sqrt(2);function Ot(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Nt?10:o>=It?5:o>=Ct?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Nt?10:o>=It?5:o>=Ct?2:1)}var Lt={value:function(){}};function Rt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Dt(r)}function Dt(t){this._=t}function Ut(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function qt(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Bt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Lt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Dt.prototype=Rt.prototype={constructor:Dt,on:function(t,n){var e,r=this._,i=Ut(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=Bt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Bt(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=qt(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Dt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Ft="http://www.w3.org/1999/xhtml",Ht={svg:"http://www.w3.org/2000/svg",xhtml:Ft,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ht.hasOwnProperty(n)?{space:Ht[n],local:t}:t}function Vt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Ft&&n.documentElement.namespaceURI===Ft?n.createElement(t):n.createElementNS(e,t)}}function Kt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Yt(t){var n=Wt(t);return(n.local?Kt:Vt)(n)}function Xt(){}function Gt(t){return null==t?Xt:function(){return this.querySelector(t)}}function Zt(){return[]}function Jt(t){return null==t?Zt:function(){return this.querySelectorAll(t)}}function Qt(t){return function(){return this.matches(t)}}function tn(t){return new Array(t.length)}function nn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}nn.prototype={constructor:nn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function en(t,n,e,r,i,o){for(var u,a=0,s=n.length,l=o.length;a<l;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new nn(t,o[a]);for(;a<s;++a)(u=n[a])&&(i[a]=u)}function rn(t,n,e,r,i,o,u){var a,s,l,c={},f=n.length,h=o.length,d=new Array(f);for(a=0;a<f;++a)(s=n[a])&&(d[a]=l="$"+u.call(s,s.__data__,a,n),l in c?i[a]=s:c[l]=s);for(a=0;a<h;++a)(s=c[l="$"+u.call(t,o[a],a,o)])?(r[a]=s,s.__data__=o[a],c[l]=null):e[a]=new nn(t,o[a]);for(a=0;a<f;++a)(s=n[a])&&c[d[a]]===s&&(i[a]=s)}function on(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function un(t){return function(){this.removeAttribute(t)}}function an(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sn(t,n){return function(){this.setAttribute(t,n)}}function ln(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function cn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function fn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function hn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function dn(t){return function(){this.style.removeProperty(t)}}function pn(t,n,e){return function(){this.style.setProperty(t,n,e)}}function vn(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function gn(t,n){return t.style.getPropertyValue(n)||hn(t).getComputedStyle(t,null).getPropertyValue(n)}function mn(t){return function(){delete this[t]}}function _n(t,n){return function(){this[t]=n}}function yn(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function wn(t){return t.trim().split(/^|\s+/)}function bn(t){return t.classList||new xn(t)}function xn(t){this._node=t,this._names=wn(t.getAttribute("class")||"")}function jn(t,n){for(var e=bn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function An(t,n){for(var e=bn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function kn(t){return function(){jn(this,t)}}function Tn(t){return function(){An(this,t)}}function Mn(t,n){return function(){(n.apply(this,arguments)?jn:An)(this,t)}}function Pn(){this.textContent=""}function Sn(t){return function(){this.textContent=t}}function $n(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function En(){this.innerHTML=""}function zn(t){return function(){this.innerHTML=t}}function Nn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function In(){this.nextSibling&&this.parentNode.appendChild(this)}function Cn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function On(){return null}function Ln(){var t=this.parentNode;t&&t.removeChild(this)}function Rn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Dn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}xn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Un={},qn=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Un={mouseenter:"mouseover",mouseleave:"mouseout"}));function Bn(t,n,e){return t=Fn(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Fn(t,n,e){return function(r){var i=qn;qn=r;try{t.call(this,this.__data__,n,e)}finally{qn=i}}}function Hn(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Wn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Vn(t,n,e){var r=Un.hasOwnProperty(t.type)?Bn:Fn;return function(i,o,u){var a,s=this.__on,l=r(n,o,u);if(s)for(var c=0,f=s.length;c<f;++c)if((a=s[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=e),void(a.value=n);this.addEventListener(t.type,l,e),a={type:t.type,name:t.name,value:n,listener:l,capture:e},s?s.push(a):this.__on=[a]}}function Kn(t,n,e){var r=hn(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Yn(t,n){return function(){return Kn(this,t,n)}}function Xn(t,n){return function(){return Kn(this,t,n.apply(this,arguments))}}var Gn=[null];function Zn(t,n){this._groups=t,this._parents=n}function Jn(){return new Zn([[document.documentElement]],Gn)}function Qn(t){return"string"==typeof t?new Zn([[document.querySelector(t)]],[document.documentElement]):new Zn([[t]],Gn)}function te(){for(var t,n=qn;t=n.sourceEvent;)n=t;return n}function ne(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function ee(t){var n=te();return n.changedTouches&&(n=n.changedTouches[0]),ne(t,n)}function re(t,n,e){arguments.length<3&&(e=n,n=te().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return ne(t,r);return null}function ie(){qn.preventDefault(),qn.stopImmediatePropagation()}function oe(t){var n=t.document.documentElement,e=Qn(t).on("dragstart.drag",ie,!0);"onselectstart"in n?e.on("selectstart.drag",ie,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function ue(t,n){var e=t.document.documentElement,r=Qn(t).on("dragstart.drag",null);n&&(r.on("click.drag",ie,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function ae(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function se(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function le(){}Zn.prototype=Jn.prototype={constructor:Zn,select:function(t){"function"!=typeof t&&(t=Gt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],s=a.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=a[c])&&(u=t.call(o,o.__data__,c,a))&&("__data__"in o&&(u.__data__=o.__data__),l[c]=u);return new Zn(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Jt(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],s=a.length,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new Zn(r,i)},filter:function(t){"function"!=typeof t&&(t=Qt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,s=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&s.push(o);return new Zn(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),c=-1,this.each((function(t){p[++c]=t})),p;var e,r=n?rn:en,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var u=o.length,a=new Array(u),s=new Array(u),l=new Array(u),c=0;c<u;++c){var f=i[c],h=o[c],d=h.length,p=t.call(f,f&&f.__data__,c,i),v=p.length,g=s[c]=new Array(v),m=a[c]=new Array(v);r(f,h,g,m,l[c]=new Array(d),p,n);for(var _,y,w=0,b=0;w<v;++w)if(_=g[w]){for(w>=b&&(b=w+1);!(y=m[b])&&++b<v;);_._next=y||null}}return(a=new Zn(a,i))._enter=s,a._exit=l,a},enter:function(){return new Zn(this._enter||this._groups.map(tn),this._parents)},exit:function(){return new Zn(this._exit||this._groups.map(tn),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,l=n[a],c=e[a],f=l.length,h=u[a]=new Array(f),d=0;d<f;++d)(s=l[d]||c[d])&&(h[d]=s);for(;a<r;++a)u[a]=n[a];return new Zn(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=on);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],s=a.length,l=i[o]=new Array(s),c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(n)}return new Zn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=Wt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?an:un:"function"==typeof n?e.local?fn:cn:e.local?ln:sn)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?dn:"function"==typeof n?vn:pn)(t,n,null==e?"":e)):gn(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?mn:"function"==typeof n?yn:_n)(t,n)):this.node()[t]},classed:function(t,n){var e=wn(t+"");if(arguments.length<2){for(var r=bn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Mn:n?kn:Tn)(e,n))},text:function(t){return arguments.length?this.each(null==t?Pn:("function"==typeof t?$n:Sn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?En:("function"==typeof t?Nn:zn)(t)):this.node().innerHTML},raise:function(){return this.each(In)},lower:function(){return this.each(Cn)},append:function(t){var n="function"==typeof t?t:Yt(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Yt(t),r=null==n?On:"function"==typeof n?n:Gt(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ln)},clone:function(t){return this.select(t?Dn:Rn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Hn(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?Vn:Wn,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var s,l=0,c=a.length;l<c;++l)for(r=0,s=a[l];r<u;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?Xn:Yn)(t,n))}};var ce="\\s*([+-]?\\d+)\\s*",fe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",he="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",de=/^#([0-9a-f]{3,8})$/,pe=new RegExp("^rgb\\("+[ce,ce,ce]+"\\)$"),ve=new RegExp("^rgb\\("+[he,he,he]+"\\)$"),ge=new RegExp("^rgba\\("+[ce,ce,ce,fe]+"\\)$"),me=new RegExp("^rgba\\("+[he,he,he,fe]+"\\)$"),_e=new RegExp("^hsl\\("+[fe,he,he]+"\\)$"),ye=new RegExp("^hsla\\("+[fe,he,he,fe]+"\\)$"),we={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function be(){return this.rgb().formatHex()}function xe(){return this.rgb().formatRgb()}function je(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=de.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Ae(n):3===e?new Pe(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?ke(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?ke(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=pe.exec(t))?new Pe(n[1],n[2],n[3],1):(n=ve.exec(t))?new Pe(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=ge.exec(t))?ke(n[1],n[2],n[3],n[4]):(n=me.exec(t))?ke(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=_e.exec(t))?ze(n[1],n[2]/100,n[3]/100,1):(n=ye.exec(t))?ze(n[1],n[2]/100,n[3]/100,n[4]):we.hasOwnProperty(t)?Ae(we[t]):"transparent"===t?new Pe(NaN,NaN,NaN,0):null}function Ae(t){return new Pe(t>>16&255,t>>8&255,255&t,1)}function ke(t,n,e,r){return r<=0&&(t=n=e=NaN),new Pe(t,n,e,r)}function Te(t){return t instanceof le||(t=je(t)),t?new Pe((t=t.rgb()).r,t.g,t.b,t.opacity):new Pe}function Me(t,n,e,r){return 1===arguments.length?Te(t):new Pe(t,n,e,null==r?1:r)}function Pe(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Se(){return"#"+Ee(this.r)+Ee(this.g)+Ee(this.b)}function $e(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ee(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ze(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Ie(t,n,e,r)}function Ne(t){if(t instanceof Ie)return new Ie(t.h,t.s,t.l,t.opacity);if(t instanceof le||(t=je(t)),!t)return new Ie;if(t instanceof Ie)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,s=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=s<.5?o+i:2-o-i,u*=60):a=s>0&&s<1?0:u,new Ie(u,a,s,t.opacity)}function Ie(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ce(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Oe(t){return function(){return t}}function Le(t){return 1==(t=+t)?Re:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Oe(isNaN(n)?e:n)}}function Re(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Oe(isNaN(t)?n:t)}ae(le,je,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:be,formatHex:be,formatHsl:function(){return Ne(this).formatHsl()},formatRgb:xe,toString:xe}),ae(Pe,Me,se(le,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Se,formatHex:Se,formatRgb:$e,toString:$e})),ae(Ie,(function(t,n,e,r){return 1===arguments.length?Ne(t):new Ie(t,n,e,null==r?1:r)}),se(le,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ie(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ie(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Pe(Ce(t>=240?t-240:t+120,i,r),Ce(t,i,r),Ce(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var De=function t(n){var e=Le(n);function r(t,n){var r=e((t=Me(t)).r,(n=Me(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=Re(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function Ue(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function qe(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=Ye(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}function Be(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Fe(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function He(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Ye(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var We=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ve=new RegExp(We.source,"g");function Ke(t,n){var e,r,i,o=We.lastIndex=Ve.lastIndex=0,u=-1,a=[],s=[];for(t+="",n+="";(e=We.exec(t))&&(r=Ve.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,s.push({i:u,x:Fe(e,r)})),o=Ve.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)a[(e=s[r]).i]=e.x(t);return a.join("")})}function Ye(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?Oe(n):("number"===i?Fe:"string"===i?(e=je(n))?(n=e,De):Ke:n instanceof je?De:n instanceof Date?Be:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?qe:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?He:Fe:Ue))(t,n)}function Xe(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Ge,Ze,Je,Qe,tr=180/Math.PI,nr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function er(t,n,e,r,i,o){var u,a,s;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,s/=a),t*r<n*e&&(t=-t,n=-n,s=-s,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*tr,skewX:Math.atan(s)*tr,scaleX:u,scaleY:a}}function rr(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],s=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var s=u.push("translate(",null,n,null,e);a.push({i:s-4,x:Fe(t,i)},{i:s-2,x:Fe(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Fe(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Fe(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,s),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:Fe(t,e)},{i:a-2,x:Fe(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,s),o=u=null,function(t){for(var n,e=-1,r=s.length;++e<r;)a[(n=s[e]).i]=n.x(t);return a.join("")}}}var ir=rr((function(t){return"none"===t?nr:(Ge||(Ge=document.createElement("DIV"),Ze=document.documentElement,Je=document.defaultView),Ge.style.transform=t,t=Je.getComputedStyle(Ze.appendChild(Ge),null).getPropertyValue("transform"),Ze.removeChild(Ge),er(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),or=rr((function(t){return null==t?nr:(Qe||(Qe=document.createElementNS("http://www.w3.org/2000/svg","g")),Qe.setAttribute("transform",t),(t=Qe.transform.baseVal.consolidate())?er((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):nr)}),", ",")",")"),ur=Math.SQRT2;function ar(t){return((t=Math.exp(t))+1/t)/2}function sr(t,n){var e,r,i=t[0],o=t[1],u=t[2],a=n[0],s=n[1],l=n[2],c=a-i,f=s-o,h=c*c+f*f;if(h<1e-12)r=Math.log(l/u)/ur,e=function(t){return[i+t*c,o+t*f,u*Math.exp(ur*t*r)]};else{var d=Math.sqrt(h),p=(l*l-u*u+4*h)/(2*u*2*d),v=(l*l-u*u-4*h)/(2*l*2*d),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(v*v+1)-v);r=(m-g)/ur,e=function(t){var n,e=t*r,a=ar(g),s=u/(2*d)*(a*(n=ur*e+g,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+s*c,o+s*f,u*a/ar(ur*e+g)]}}return e.duration=1e3*r,e}var lr,cr,fr=0,hr=0,dr=0,pr=0,vr=0,gr=0,mr="object"==typeof performance&&performance.now?performance:Date,_r="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function yr(){return vr||(_r(wr),vr=mr.now()+gr)}function wr(){vr=0}function br(){this._call=this._time=this._next=null}function xr(t,n,e){var r=new br;return r.restart(t,n,e),r}function jr(){vr=(pr=mr.now())+gr,fr=hr=0;try{!function(){yr(),++fr;for(var t,n=lr;n;)(t=vr-n._time)>=0&&n._call.call(null,t),n=n._next;--fr}()}finally{fr=0,function(){var t,n,e=lr,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:lr=n);cr=t,kr(r)}(),vr=0}}function Ar(){var t=mr.now(),n=t-pr;n>1e3&&(gr-=n,pr=t)}function kr(t){fr||(hr&&(hr=clearTimeout(hr)),t-vr>24?(t<1/0&&(hr=setTimeout(jr,t-mr.now()-gr)),dr&&(dr=clearInterval(dr))):(dr||(pr=mr.now(),dr=setInterval(Ar,1e3)),fr=1,_r(jr)))}function Tr(t,n,e){var r=new br;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r}br.prototype=xr.prototype={constructor:br,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?yr():+e)+(null==n?0:+n),this._next||cr===this||(cr?cr._next=this:lr=this,cr=this),this._call=t,this._time=e,kr()},stop:function(){this._call&&(this._call=null,this._time=1/0,kr())}};var Mr=Rt("start","end","cancel","interrupt"),Pr=[];function Sr(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var l,c,f,h;if(1!==e.state)return a();for(l in i)if((h=i[l]).name===e.name){if(3===h.state)return Tr(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(Tr((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),l=0,c=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=5,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=xr((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Mr,tween:Pr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function $r(t,n){var e=zr(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Er(t,n){var e=zr(t,n);if(e.state>3)throw new Error("too late; already running");return e}function zr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Nr(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}}function Ir(t,n){var e,r;return function(){var i=Er(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}function Cr(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Er(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=a;break}s===l&&i.push(a)}o.tween=i}}function Or(t,n,e){var r=t._id;return t.each((function(){var t=Er(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return zr(t,r).value[n]}}function Lr(t,n){var e;return("number"==typeof n?Fe:n instanceof je?De:(e=je(n))?(n=e,De):Ke)(t,n)}function Rr(t){return function(){this.removeAttribute(t)}}function Dr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ur(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}}function qr(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}function Br(t,n,e){var r,i,o;return function(){var u,a,s=e(this);if(null!=s)return(u=this.getAttribute(t))===(a=s+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,s));this.removeAttribute(t)}}function Fr(t,n,e){var r,i,o;return function(){var u,a,s=e(this);if(null!=s)return(u=this.getAttributeNS(t.space,t.local))===(a=s+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,s));this.removeAttributeNS(t.space,t.local)}}function Hr(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Wr(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Vr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Wr(t,i)),e}return i._value=n,i}function Kr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Hr(t,i)),e}return i._value=n,i}function Yr(t,n){return function(){$r(this,t).delay=+n.apply(this,arguments)}}function Xr(t,n){return n=+n,function(){$r(this,t).delay=n}}function Gr(t,n){return function(){Er(this,t).duration=+n.apply(this,arguments)}}function Zr(t,n){return n=+n,function(){Er(this,t).duration=n}}function Jr(t,n){if("function"!=typeof n)throw new Error;return function(){Er(this,t).ease=n}}function Qr(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?$r:Er;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}var ti=Jn.prototype.constructor;function ni(t){return function(){this.style.removeProperty(t)}}function ei(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function ri(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&ei(t,o,e)),r}return o._value=n,o}function ii(t){return function(n){this.textContent=t.call(this,n)}}function oi(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&ii(r)),n}return r._value=t,r}var ui=0;function ai(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function si(){return++ui}var li=Jn.prototype;ai.prototype=function(t){return Jn().transition(t)}.prototype={constructor:ai,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Gt(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,s,l=r[u],c=l.length,f=o[u]=new Array(c),h=0;h<c;++h)(a=l[h])&&(s=t.call(a,a.__data__,h,l))&&("__data__"in a&&(s.__data__=a.__data__),f[h]=s,Sr(f[h],n,e,h,f,zr(a,e)));return new ai(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Jt(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var s,l=r[a],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,d=t.call(s,s.__data__,f,l),p=zr(s,e),v=0,g=d.length;v<g;++v)(h=d[v])&&Sr(h,n,e,v,d,p);o.push(d),u.push(s)}return new ai(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=Qt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,s=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&s.push(o);return new ai(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,l=n[a],c=e[a],f=l.length,h=u[a]=new Array(f),d=0;d<f;++d)(s=l[d]||c[d])&&(h[d]=s);for(;a<r;++a)u[a]=n[a];return new ai(u,this._parents,this._name,this._id)},selection:function(){return new ti(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=si(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,l=0;l<s;++l)if(u=a[l]){var c=zr(u,n);Sr(u,t,e,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ai(r,this._parents,t,e)},call:li.call,nodes:li.nodes,node:li.node,size:li.size,empty:li.empty,each:li.each,on:function(t,n){var e=this._id;return arguments.length<2?zr(this.node(),e).on.on(t):this.each(Qr(e,t,n))},attr:function(t,n){var e=Wt(t),r="transform"===e?or:Lr;return this.attrTween(t,"function"==typeof n?(e.local?Fr:Br)(e,r,Or(this,"attr."+t,n)):null==n?(e.local?Dr:Rr)(e):(e.local?qr:Ur)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Wt(t);return this.tween(e,(r.local?Vr:Kr)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?ir:Lr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=gn(this,t),u=(this.style.removeProperty(t),gn(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,ni(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var u=gn(this,t),a=e(this),s=a+"";return null==a&&(this.style.removeProperty(t),s=a=gn(this,t)),u===s?null:u===r&&s===i?o:(i=s,o=n(r=u,a))}}(t,r,Or(this,"style."+t,n))).each(function(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var s=Er(this,t),l=s.on,c=null==s.value[u]?o||(o=ni(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(a,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var u=gn(this,t);return u===o?null:u===r?i:i=n(r=u,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,ri(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Or(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,oi(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=zr(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Ir:Cr)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Yr:Xr)(n,t)):zr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Gr:Zr)(n,t)):zr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Jr(n,t)):zr(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,u){var a={value:u},s={value:function(){0==--i&&o()}};e.each((function(){var e=Er(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(s)),e.on=n}))}))}};var ci={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function fi(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return ci.time=yr(),ci;return e}Jn.prototype.interrupt=function(t){return this.each((function(){Nr(this,t)}))},Jn.prototype.transition=function(t){var n,e;t instanceof ai?(n=t._id,t=t._name):(n=si(),(e=ci).time=yr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,l=0;l<s;++l)(u=a[l])&&Sr(u,t,n,l,a,e||fi(u,n));return new ai(r,this._parents,t,n)};function hi(){}function di(t,n){var e=new hi;if(t instanceof hi)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}function pi(){}hi.prototype=di.prototype={constructor:hi,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var vi=di.prototype;pi.prototype=function(t,n){var e=new pi;if(t instanceof pi)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:pi,has:vi.has,add:function(t){return this["$"+(t+="")]=t,this},remove:vi.remove,clear:vi.clear,values:vi.keys,size:vi.size,empty:vi.empty,each:vi.each};var gi={},mi={};function _i(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function yi(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function wi(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function bi(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+wi(-n,6):n>9999?"+"+wi(n,6):wi(n,4))+"-"+wi(t.getUTCMonth()+1,2)+"-"+wi(t.getUTCDate(),2)+(o?"T"+wi(e,2)+":"+wi(r,2)+":"+wi(i,2)+"."+wi(o,3)+"Z":i?"T"+wi(e,2)+":"+wi(r,2)+":"+wi(i,2)+"Z":r||e?"T"+wi(e,2)+":"+wi(r,2)+"Z":"")}var xi=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,u=0,a=0,s=o<=0,l=!1;function c(){if(s)return mi;if(l)return l=!1,gi;var n,r,i=u;if(34===t.charCodeAt(i)){for(;u++<o&&34!==t.charCodeAt(u)||34===t.charCodeAt(++u););return(n=u)>=o?s=!0:10===(r=t.charCodeAt(u++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(u)&&++u),t.slice(i+1,n-1).replace(/""/g,'"')}for(;u<o;){if(10===(r=t.charCodeAt(n=u++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(u)&&++u;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==mi;){for(var f=[];r!==gi&&r!==mi;)f.push(r),r=c();n&&null==(f=n(f,a++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return u(n[t])})).join(t)}))}function o(n){return n.map(u).join(t)}function u(t){return null==t?"":t instanceof Date?bi(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=_i(t);return function(r,i){return n(e(r),i,t)}}(t,n):_i(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=yi(n)),[e.map(u).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=yi(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:u}}(",").parse;function ji(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Ai(t,n){return fetch(t,n).then(ji)}var ki,Ti=(ki=xi,function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),Ai(t,n).then((function(t){return ki(t,e)}))});function Mi(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Pi(t){return(t=Mi(Math.abs(t)))?t[1]:NaN}var Si,$i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ei(t){if(!(n=$i.exec(t)))throw new Error("invalid format: "+t);var n;return new zi({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function zi(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ni(t,n){var e=Mi(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ei.prototype=zi.prototype,zi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ii={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Ni(100*t,n)},r:Ni,s:function(t,n){var e=Mi(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Si=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Mi(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ci(t){return t}var Oi,Li,Ri,Di=Array.prototype.map,Ui=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qi(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Ci:(n=Di.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=n[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),o.push(t.substring(i-=a,i+a)),!((s+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Ci:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Di.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Ei(t)).fill,e=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,g=t.precision,m=t.trim,_=t.type;"n"===_?(v=!0,_="g"):Ii[_]||(void 0===g&&(g=12),m=!0,_="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var y="$"===h?i:"#"===h&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",w="$"===h?o:/[%p]/.test(_)?s:"",b=Ii[_],x=/[defgprs%]/.test(_);function j(t){var i,o,s,h=y,j=w;if("c"===_)j=b(t)+j,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:b(Math.abs(t),g),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),A&&0==+t&&"+"!==f&&(A=!1),h=(A?"("===f?f:l:"-"===f||"("===f?"":f)+h,j=("s"===_?Ui[8+Si/3]:"")+j+(A&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){j=(46===s?u+t.slice(i+1):t.slice(i))+j,t=t.slice(0,i);break}}v&&!d&&(t=r(t,1/0));var k=h.length+t.length+j.length,T=k<p?new Array(p-k+1).join(n):"";switch(v&&d&&(t=r(T+t,T.length?p-j.length:1/0),T=""),e){case"<":t=h+t+j+T;break;case"=":t=h+T+t+j;break;case"^":t=T.slice(0,k=T.length>>1)+h+t+j+T.slice(k);break;default:t=T+h+t+j}return a(t)}return g=void 0===g?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),j.toString=function(){return t+""},j}return{format:f,formatPrefix:function(t,n){var e=f(((t=Ei(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Pi(n)/3))),i=Math.pow(10,-r),o=Ui[8+r/3];return function(t){return e(i*t)+o}}}}function Bi(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}Oi=qi({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Li=Oi.format,Ri=Oi.formatPrefix;var Fi=Array.prototype,Hi=Fi.map,Wi=Fi.slice,Vi={name:"implicit"};function Ki(t){return+t}var Yi=[0,1];function Xi(t){return t}function Gi(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Zi(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function Ji(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=Gi(i,r),o=e(u,o)):(r=Gi(r,i),o=e(o,u)),function(t){return o(r(t))}}function Qi(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=Gi(t[u],t[u+1]),o[u]=e(n[u],n[u+1]);return function(n){var e=Et(t,n,1,r)-1;return o[e](i[e](n))}}function to(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function no(t,n){return function(){var t,n,e,r,i,o,u=Yi,a=Yi,s=Ye,l=Xi;function c(){return r=Math.min(u.length,a.length)>2?Qi:Ji,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(u.map(t),a,s)))(t(l(n)))}return f.invert=function(e){return l(n((o||(o=r(a,u.map(t),Fe)))(e)))},f.domain=function(t){return arguments.length?(u=Hi.call(t,Ki),l===Xi||(l=Zi(u)),c()):u.slice()},f.range=function(t){return arguments.length?(a=Wi.call(t),c()):a.slice()},f.rangeRound=function(t){return a=Wi.call(t),s=Xe,c()},f.clamp=function(t){return arguments.length?(l=t?Zi(u):Xi,f):l!==Xi},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,c()}}()(t,n)}function eo(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Nt?i*=10:o>=It?i*=5:o>=Ct&&(i*=2),n<t?-i:i}(t,n,e);switch((r=Ei(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Pi(n)/3)))-Pi(Math.abs(t)))}(o,u))||(r.precision=i),Ri(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Pi(n)-Pi(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Pi(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Li(r)}function ro(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,u,a=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=Ot(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return eo(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,u=i.length-1,a=i[o],s=i[u];return s<a&&(r=a,a=s,s=r,r=o,o=u,u=r),(r=Ot(a,s,e))>0?r=Ot(a=Math.floor(a/r)*r,s=Math.ceil(s/r)*r,e):r<0&&(r=Ot(a=Math.ceil(a*r)/r,s=Math.floor(s*r)/r,e)),r>0?(i[o]=Math.floor(a/r)*r,i[u]=Math.ceil(s/r)*r,n(i)):r<0&&(i[o]=Math.ceil(a*r)/r,i[u]=Math.floor(s*r)/r,n(i)),t},t}function io(){var t=no(Xi,Xi);return t.copy=function(){return to(t,io())},Bi.apply(t,arguments),ro(t)}var oo=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");function uo(t){return function(){return t}}function ao(t,n,e){this.target=t,this.type=n,this.transform=e}function so(t,n,e){this.k=t,this.x=n,this.y=e}so.prototype={constructor:so,scale:function(t){return 1===t?this:new so(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new so(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var lo=new so(1,0,0);function co(){qn.stopImmediatePropagation()}function fo(){qn.preventDefault(),qn.stopImmediatePropagation()}function ho(){return!qn.ctrlKey&&!qn.button}function po(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function vo(){return this.__zoom||lo}function go(){return-qn.deltaY*(1===qn.deltaMode?.05:qn.deltaMode?1:.002)}function mo(){return navigator.maxTouchPoints||"ontouchstart"in this}function _o(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function yo(){var t,n,e=ho,r=po,i=_o,o=go,u=mo,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,c=sr,f=Rt("start","zoom","end"),h=0;function d(t){t.property("__zoom",vo).on("wheel.zoom",w).on("mousedown.zoom",b).on("dblclick.zoom",x).filter(u).on("touchstart.zoom",j).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(t,n){return(n=Math.max(a[0],Math.min(a[1],n)))===t.k?t:new so(n,t.x,t.y)}function v(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new so(t.k,r,i)}function g(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function m(t,n,e){t.on("start.zoom",(function(){_(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=_(t,i),u=r.apply(t,i),a=null==e?g(u):"function"==typeof e?e.apply(t,i):e,s=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),l=t.__zoom,f="function"==typeof n?n.apply(t,i):n,h=c(l.invert(a).concat(s/l.k),f.invert(a).concat(s/f.k));return function(t){if(1===t)t=f;else{var n=h(t),e=s/n[2];t=new so(e,a[0]-n[0]*e,a[1]-n[1]*e)}o.zoom(null,t)}}))}function _(t,n,e){return!e&&t.__zooming||new y(t,n)}function y(t,n){this.that=t,this.args=n,this.active=0,this.extent=r.apply(t,n),this.taps=0}function w(){if(e.apply(this,arguments)){var t=_(this,arguments),n=this.__zoom,r=Math.max(a[0],Math.min(a[1],n.k*Math.pow(2,o.apply(this,arguments)))),u=ee(this);if(t.wheel)t.mouse[0][0]===u[0]&&t.mouse[0][1]===u[1]||(t.mouse[1]=n.invert(t.mouse[0]=u)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[u,n.invert(u)],Nr(this),t.start()}fo(),t.wheel=setTimeout(l,150),t.zoom("mouse",i(v(p(n,r),t.mouse[0],t.mouse[1]),t.extent,s))}function l(){t.wheel=null,t.end()}}function b(){if(!n&&e.apply(this,arguments)){var t=_(this,arguments,!0),r=Qn(qn.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",c,!0),o=ee(this),u=qn.clientX,a=qn.clientY;oe(qn.view),co(),t.mouse=[o,this.__zoom.invert(o)],Nr(this),t.start()}function l(){if(fo(),!t.moved){var n=qn.clientX-u,e=qn.clientY-a;t.moved=n*n+e*e>h}t.zoom("mouse",i(v(t.that.__zoom,t.mouse[0]=ee(t.that),t.mouse[1]),t.extent,s))}function c(){r.on("mousemove.zoom mouseup.zoom",null),ue(qn.view,t.moved),fo(),t.end()}}function x(){if(e.apply(this,arguments)){var t=this.__zoom,n=ee(this),o=t.invert(n),u=t.k*(qn.shiftKey?.5:2),a=i(v(p(t,u),n,o),r.apply(this,arguments),s);fo(),l>0?Qn(this).transition().duration(l).call(m,a,n):Qn(this).call(d.transform,a)}}function j(){if(e.apply(this,arguments)){var n,r,i,o,u=qn.touches,a=u.length,s=_(this,arguments,qn.changedTouches.length===a);for(co(),r=0;r<a;++r)o=[o=re(this,u,(i=u[r]).identifier),this.__zoom.invert(o),i.identifier],s.touch0?s.touch1||s.touch0[2]===o[2]||(s.touch1=o,s.taps=0):(s.touch0=o,n=!0,s.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(s.taps<2&&(t=setTimeout((function(){t=null}),500)),Nr(this),s.start())}}function A(){if(this.__zooming){var n,e,r,o,u=_(this,arguments),a=qn.changedTouches,l=a.length;for(fo(),t&&(t=clearTimeout(t)),u.taps=0,n=0;n<l;++n)r=re(this,a,(e=a[n]).identifier),u.touch0&&u.touch0[2]===e.identifier?u.touch0[0]=r:u.touch1&&u.touch1[2]===e.identifier&&(u.touch1[0]=r);if(e=u.that.__zoom,u.touch1){var c=u.touch0[0],f=u.touch0[1],h=u.touch1[0],d=u.touch1[1],g=(g=h[0]-c[0])*g+(g=h[1]-c[1])*g,m=(m=d[0]-f[0])*m+(m=d[1]-f[1])*m;e=p(e,Math.sqrt(g/m)),r=[(c[0]+h[0])/2,(c[1]+h[1])/2],o=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!u.touch0)return;r=u.touch0[0],o=u.touch0[1]}u.zoom("touch",i(v(e,r,o),u.extent,s))}}function k(){if(this.__zooming){var t,e,r=_(this,arguments),i=qn.changedTouches,o=i.length;for(co(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),t=0;t<o;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var u=Qn(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return d.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",vo),t!==r?m(t,n,e):r.interrupt().each((function(){_(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},d.scaleBy=function(t,n,e){d.scaleTo(t,(function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e}),e)},d.scaleTo=function(t,n,e){d.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,u=null==e?g(t):"function"==typeof e?e.apply(this,arguments):e,a=o.invert(u),l="function"==typeof n?n.apply(this,arguments):n;return i(v(p(o,l),u,a),t,s)}),e)},d.translateBy=function(t,n,e){d.transform(t,(function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),s)}))},d.translateTo=function(t,n,e,o){d.transform(t,(function(){var t=r.apply(this,arguments),u=this.__zoom,a=null==o?g(t):"function"==typeof o?o.apply(this,arguments):o;return i(lo.translate(a[0],a[1]).scale(u.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,s)}),o)},y.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,n,e,r){var i=qn;t.sourceEvent=qn,qn=t;try{n.apply(e,r)}finally{qn=i}}(new ao(d,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},d.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:uo(+t),d):o},d.filter=function(t){return arguments.length?(e="function"==typeof t?t:uo(!!t),d):e},d.touchable=function(t){return arguments.length?(u="function"==typeof t?t:uo(!!t),d):u},d.extent=function(t){return arguments.length?(r="function"==typeof t?t:uo([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):r},d.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],d):[a[0],a[1]]},d.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],d):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},d.constrain=function(t){return arguments.length?(i=t,d):i},d.duration=function(t){return arguments.length?(l=+t,d):l},d.interpolate=function(t){return arguments.length?(c=t,d):c},d.on=function(){var t=f.on.apply(f,arguments);return t===f?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}function wo(t){const{subscribe:n,set:e,update:r}=Tt(t);return{subscribe:n,increment:()=>r(t=>t+1),decrement:()=>r(t=>t-1),reset:()=>e(0),set:t=>e(t)}}const bo=wo(10),xo=wo(10),jo=function(t){const{subscribe:n,set:e,update:r}=Tt({projections:[],images:[],hover:null});return{subscribe:n,set_hover:t=>r(n=>(n.hover=t,n)),load:(t,n)=>r(e=>(e.ready=!1,Eo.reset(),Promise.all(n.map(t=>Ti("data/dr/"+t).then(async t=>(Eo.increment(),t)))).then(e=>{e.forEach((t,e)=>t.name=n[e]),t.set_projections(e)}),e)),set_projections:t=>r(n=>(n.projections=t.map((t,n)=>{let e=t.map((n,e)=>({x:+n[t.columns[0]],y:+n[t.columns[1]],class:n.labels,img:n.filename}));return e.name=t.name,e.pos_count=0,e.neg_count=0,e.position=n,e}),n.images=t[0].map(t=>t.filename),n.ready=!0,n)),sort_by_pos:()=>r(t=>{const n=t.projections.sort((t,n)=>function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}(t.pos_count-t.neg_count,n.pos_count-n.neg_count));return t.projections=n,t})}}(),Ao=Mt(jo,t=>t.images),ko=Mt(jo,t=>t.ready),To=Mt(jo,t=>t.projections||[]),Mo=Mt(jo,t=>t.hover);let Po=kt(function t(){var n=di(),e=[],r=[],i=Vi;function o(t){var o=t+"",u=n.get(o);if(!u){if(i!==Vi)return i;n.set(o,u=e.push(t))}return r[(u-1)%r.length]}return o.domain=function(t){if(!arguments.length)return e.slice();e=[],n=di();for(var r,i,u=-1,a=t.length;++u<a;)n.has(i=(r=t[u])+"")||n.set(i,e.push(r));return o},o.range=function(t){return arguments.length?(r=Wi.call(t),o):r.slice()},o.unknown=function(t){return arguments.length?(i=t,o):i},o.copy=function(){return t(e,r).unknown(i)},Bi.apply(o,arguments),o}(oo)),So=kt(io().domain([-10,0,10]).range(["green","white","orangered"]));const $o=Tt("image"),Eo=wo(0),zo=Math.pow(2,-52),No=new Uint32Array(512);class Io{static from(t,n=Bo,e=Fo){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=n(r),i[2*o+1]=e(r)}return new Io(i)}constructor(t){const n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const e=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*e),this._halfedges=new Int32Array(3*e),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:e,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let u=1/0,a=1/0,s=-1/0,l=-1/0;for(let n=0;n<o;n++){const e=t[2*n],r=t[2*n+1];e<u&&(u=e),r<a&&(a=r),e>s&&(s=e),r>l&&(l=r),this._ids[n]=n}const c=(u+s)/2,f=(a+l)/2;let h,d,p,v=1/0;for(let n=0;n<o;n++){const e=Co(c,f,t[2*n],t[2*n+1]);e<v&&(h=n,v=e)}const g=t[2*h],m=t[2*h+1];v=1/0;for(let n=0;n<o;n++){if(n===h)continue;const e=Co(g,m,t[2*n],t[2*n+1]);e<v&&e>0&&(d=n,v=e)}let _=t[2*d],y=t[2*d+1],w=1/0;for(let n=0;n<o;n++){if(n===h||n===d)continue;const e=Do(g,m,_,y,t[2*n],t[2*n+1]);e<w&&(p=n,w=e)}let b=t[2*p],x=t[2*p+1];if(w===1/0){for(let n=0;n<o;n++)this._dists[n]=t[2*n]-t[0]||t[2*n+1]-t[1];Uo(this._ids,this._dists,0,o-1);const n=new Uint32Array(o);let e=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(n[e++]=i,r=this._dists[i])}return this.hull=n.subarray(0,e),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Lo(g,m,_,y,b,x)){const t=d,n=_,e=y;d=p,_=b,y=x,p=t,b=n,x=e}const j=function(t,n,e,r,i,o){const u=e-t,a=r-n,s=i-t,l=o-n,c=u*u+a*a,f=s*s+l*l,h=.5/(u*l-a*s);return{x:t+(l*c-a*f)*h,y:n+(u*f-s*c)*h}}(g,m,_,y,b,x);this._cx=j.x,this._cy=j.y;for(let n=0;n<o;n++)this._dists[n]=Co(t[2*n],t[2*n+1],j.x,j.y);Uo(this._ids,this._dists,0,o-1),this._hullStart=h;let A=3;e[h]=n[p]=d,e[d]=n[h]=p,e[p]=n[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(g,m)]=h,i[this._hashKey(_,y)]=d,i[this._hashKey(b,x)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let o,u,a=0;a<this._ids.length;a++){const s=this._ids[a],l=t[2*s],c=t[2*s+1];if(a>0&&Math.abs(l-o)<=zo&&Math.abs(c-u)<=zo)continue;if(o=l,u=c,s===h||s===d||s===p)continue;let f=0;for(let t=0,n=this._hashKey(l,c);t<this._hashSize&&(f=i[(n+t)%this._hashSize],-1===f||f===e[f]);t++);f=n[f];let v,g=f;for(;v=e[g],!Lo(l,c,t[2*g],t[2*g+1],t[2*v],t[2*v+1]);)if(g=v,g===f){g=-1;break}if(-1===g)continue;let m=this._addTriangle(g,s,e[g],-1,-1,r[g]);r[s]=this._legalize(m+2),r[g]=m,A++;let _=e[g];for(;v=e[_],Lo(l,c,t[2*_],t[2*_+1],t[2*v],t[2*v+1]);)m=this._addTriangle(_,s,v,r[s],-1,r[_]),r[s]=this._legalize(m+2),e[_]=_,A--,_=v;if(g===f)for(;v=n[g],Lo(l,c,t[2*v],t[2*v+1],t[2*g],t[2*g+1]);)m=this._addTriangle(v,s,g,-1,r[g],r[v]),this._legalize(m+2),r[v]=m,e[g]=g,A--,g=v;this._hullStart=n[s]=g,e[g]=n[_]=s,e[s]=_,i[this._hashKey(l,c)]=s,i[this._hashKey(t[2*g],t[2*g+1])]=g}this.hull=new Uint32Array(A);for(let t=0,n=this._hullStart;t<A;t++)this.hull[t]=n,n=e[n];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:e,coords:r}=this;let i=0,o=0;for(;;){const u=e[t],a=t-t%3;if(o=a+(t+2)%3,-1===u){if(0===i)break;t=No[--i];continue}const s=u-u%3,l=a+(t+1)%3,c=s+(u+2)%3,f=n[o],h=n[t],d=n[l],p=n[c];if(Ro(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){n[t]=p,n[u]=f;const r=e[c];if(-1===r){let n=this._hullStart;do{if(this._hullTri[n]===c){this._hullTri[n]=t;break}n=this._hullPrev[n]}while(n!==this._hullStart)}this._link(t,r),this._link(u,e[o]),this._link(o,c);const a=s+(u+1)%3;i<No.length&&(No[i++]=a)}else{if(0===i)break;t=No[--i]}}return o}_link(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}_addTriangle(t,n,e,r,i,o){const u=this.trianglesLen;return this._triangles[u]=t,this._triangles[u+1]=n,this._triangles[u+2]=e,this._link(u,r),this._link(u+1,i),this._link(u+2,o),this.trianglesLen+=3,u}}function Co(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}function Oo(t,n,e,r,i,o){const u=(r-n)*(i-t),a=(e-t)*(o-n);return Math.abs(u-a)>=33306690738754716e-32*Math.abs(u+a)?u-a:0}function Lo(t,n,e,r,i,o){return(Oo(i,o,t,n,e,r)||Oo(t,n,e,r,i,o)||Oo(e,r,i,o,t,n))<0}function Ro(t,n,e,r,i,o,u,a){const s=t-u,l=n-a,c=e-u,f=r-a,h=i-u,d=o-a,p=c*c+f*f,v=h*h+d*d;return s*(f*v-p*d)-l*(c*v-p*h)+(s*s+l*l)*(c*d-f*h)<0}function Do(t,n,e,r,i,o){const u=e-t,a=r-n,s=i-t,l=o-n,c=u*u+a*a,f=s*s+l*l,h=.5/(u*l-a*s),d=(l*c-a*f)*h,p=(u*f-s*c)*h;return d*d+p*p}function Uo(t,n,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const r=t[i],o=n[r];let u=i-1;for(;u>=e&&n[t[u]]>o;)t[u+1]=t[u--];t[u+1]=r}else{let i=e+1,o=r;qo(t,e+r>>1,i),n[t[e]]>n[t[r]]&&qo(t,e,r),n[t[i]]>n[t[r]]&&qo(t,i,r),n[t[e]]>n[t[i]]&&qo(t,e,i);const u=t[i],a=n[u];for(;;){do{i++}while(n[t[i]]<a);do{o--}while(n[t[o]]>a);if(o<i)break;qo(t,i,o)}t[e+1]=t[o],t[o]=u,r-i+1>=o-e?(Uo(t,n,i,r),Uo(t,n,e,o-1)):(Uo(t,n,e,o-1),Uo(t,n,i,r))}}function qo(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Bo(t){return t[0]}function Fo(t){return t[1]}class Ho{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,e){const r=(t=+t)+(e=+e),i=n=+n;if(e<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),e&&(this._+=`A${e},${e},0,1,1,${t-e},${n}A${e},${e},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,n,e,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+e}v${+r}h${-e}Z`}value(){return this._||null}}class Wo{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class Vo{constructor(t,[n,e,r,i]=[0,0,960,500]){if(!((r=+r)>=(n=+n)&&(i=+i)>=(e=+e)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=n,this.ymax=i,this.ymin=e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:e},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,e.length/3*2);for(let n,r,o=0,u=0,a=e.length;o<a;o+=3,u+=2){const a=2*e[o],s=2*e[o+1],l=2*e[o+2],c=t[a],f=t[a+1],h=t[s],d=t[s+1],p=t[l],v=t[l+1],g=h-c,m=d-f,_=p-c,y=v-f,w=g*g+m*m,b=_*_+y*y,x=2*(g*y-m*_);if(x)if(Math.abs(x)<1e-8)n=(c+p)/2,r=(f+v)/2;else{const t=1/x;n=c+(y*w-m*b)*t,r=f+(g*b-_*w)*t}else n=(c+p)/2-1e8*y,r=(f+v)/2+1e8*_;i[u]=n,i[u+1]=r}let o,u,a,s=n[n.length-1],l=4*s,c=t[2*s],f=t[2*s+1];r.fill(0);for(let e=0;e<n.length;++e)s=n[e],o=l,u=c,a=f,l=4*s,c=t[2*s],f=t[2*s+1],r[o+2]=r[l]=a-f,r[o+3]=r[l+1]=c-u}render(t){const n=null==t?t=new Ho:void 0,{delaunay:{halfedges:e,inedges:r,hull:i},circumcenters:o,vectors:u}=this;if(i.length<=1)return null;for(let n=0,r=e.length;n<r;++n){const r=e[n];if(r<n)continue;const i=2*Math.floor(n/3),u=2*Math.floor(r/3),a=o[i],s=o[i+1],l=o[u],c=o[u+1];this._renderSegment(a,s,l,c,t)}let a,s=i[i.length-1];for(let n=0;n<i.length;++n){a=s,s=i[n];const e=2*Math.floor(r[s]/3),l=o[e],c=o[e+1],f=4*a,h=this._project(l,c,u[f+2],u[f+3]);h&&this._renderSegment(l,c,h[0],h[1],t)}return n&&n.value()}renderBounds(t){const n=null==t?t=new Ho:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const e=null==n?n=new Ho:void 0,r=this._clip(t);if(null===r||!r.length)return;n.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||n.lineTo(r[t],r[t+1]);return n.closePath(),e&&e.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,e=t.length/2;n<e;++n){const t=this.cellPolygon(n);t&&(t.index=n,yield t)}}cellPolygon(t){const n=new Wo;return this.renderCell(t,n),n.value()}_renderSegment(t,n,e,r,i){let o;const u=this._regioncode(t,n),a=this._regioncode(e,r);0===u&&0===a?(i.moveTo(t,n),i.lineTo(e,r)):(o=this._clipSegment(t,n,e,r,u,a))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,n,e){return(n=+n)==n&&(e=+e)==e&&this.delaunay._step(t,n,e)===t}*neighbors(t){const n=this._clip(t);if(n)for(const e of this.delaunay.neighbors(t)){const t=this._clip(e);if(t)t:for(let r=0,i=n.length;r<i;r+=2)for(let o=0,u=t.length;o<u;o+=2)if(n[r]==t[o]&&n[r+1]==t[o+1]&&n[(r+2)%i]==t[(o+u-2)%u]&&n[(r+3)%i]==t[(o+u-1)%u]){yield e;break t}}}_cell(t){const{circumcenters:n,delaunay:{inedges:e,halfedges:r,triangles:i}}=this,o=e[t];if(-1===o)return null;const u=[];let a=o;do{const e=Math.floor(a/3);if(u.push(n[2*e],n[2*e+1]),a=a%3==2?a-2:a+1,i[a]!==t)break;a=r[a]}while(a!==o&&-1!==a);return u}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(null===n)return null;const{vectors:e}=this,r=4*t;return e[r]||e[r+1]?this._clipInfinite(t,n,e[r],e[r+1],e[r+2],e[r+3]):this._clipFinite(t,n)}_clipFinite(t,n){const e=n.length;let r,i,o,u,a,s=null,l=n[e-2],c=n[e-1],f=this._regioncode(l,c);for(let h=0;h<e;h+=2)if(r=l,i=c,l=n[h],c=n[h+1],o=f,f=this._regioncode(l,c),0===o&&0===f)u=a,a=0,s?s.push(l,c):s=[l,c];else{let n,e,h,d,p;if(0===o){if(null===(n=this._clipSegment(r,i,l,c,o,f)))continue;[e,h,d,p]=n}else{if(null===(n=this._clipSegment(l,c,r,i,f,o)))continue;[d,p,e,h]=n,u=a,a=this._edgecode(e,h),u&&a&&this._edge(t,u,a,s,s.length),s?s.push(e,h):s=[e,h]}u=a,a=this._edgecode(d,p),u&&a&&this._edge(t,u,a,s,s.length),s?s.push(d,p):s=[d,p]}if(s)u=a,a=this._edgecode(s[0],s[1]),u&&a&&this._edge(t,u,a,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,n,e,r,i,o){for(;;){if(0===i&&0===o)return[t,n,e,r];if(i&o)return null;let u,a,s=i||o;8&s?(u=t+(e-t)*(this.ymax-n)/(r-n),a=this.ymax):4&s?(u=t+(e-t)*(this.ymin-n)/(r-n),a=this.ymin):2&s?(a=n+(r-n)*(this.xmax-t)/(e-t),u=this.xmax):(a=n+(r-n)*(this.xmin-t)/(e-t),u=this.xmin),i?(t=u,n=a,i=this._regioncode(t,n)):(e=u,r=a,o=this._regioncode(e,r))}}_clipInfinite(t,n,e,r,i,o){let u,a=Array.from(n);if((u=this._project(a[0],a[1],e,r))&&a.unshift(u[0],u[1]),(u=this._project(a[a.length-2],a[a.length-1],i,o))&&a.push(u[0],u[1]),a=this._clipFinite(t,a))for(let n,e=0,r=a.length,i=this._edgecode(a[r-2],a[r-1]);e<r;e+=2)n=i,i=this._edgecode(a[e],a[e+1]),n&&i&&(e=this._edge(t,n,i,a,e),r=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,e,r,i){for(;n!==e;){let e,o;switch(n){case 5:n=4;continue;case 4:n=6,e=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,e=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,e=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,e=this.xmin,o=this.ymin}r[i]===e&&r[i+1]===o||!this.contains(t,e,o)||(r.splice(i,0,e,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const n=(t+2)%r.length,e=(t+4)%r.length;(r[t]===r[n]&&r[n]===r[e]||r[t+1]===r[n+1]&&r[n+1]===r[e+1])&&(r.splice(n,2),t-=2)}return i}_project(t,n,e,r){let i,o,u,a=1/0;if(r<0){if(n<=this.ymin)return null;(i=(this.ymin-n)/r)<a&&(u=this.ymin,o=t+(a=i)*e)}else if(r>0){if(n>=this.ymax)return null;(i=(this.ymax-n)/r)<a&&(u=this.ymax,o=t+(a=i)*e)}if(e>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/e)<a&&(o=this.xmax,u=n+(a=i)*r)}else if(e<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/e)<a&&(o=this.xmin,u=n+(a=i)*r)}return[o,u]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}const Ko=2*Math.PI,Yo=Math.pow;function Xo(t){return t[0]}function Go(t){return t[1]}function Zo(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class Jo{static from(t,n=Xo,e=Go,r){return new Jo("length"in t?function(t,n,e,r){const i=t.length,o=new Float64Array(2*i);for(let u=0;u<i;++u){const i=t[u];o[2*u]=n.call(r,i,u,t),o[2*u+1]=e.call(r,i,u,t)}return o}(t,n,e,r):Float64Array.from(function*(t,n,e,r){let i=0;for(const o of t)yield n.call(r,o,i,t),yield e.call(r,o,i,t),++i}(t,n,e,r)))}constructor(t){this._delaunator=new Io(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:n,coords:e}=t;for(let t=0;t<n.length;t+=3){const r=2*n[t],i=2*n[t+1],o=2*n[t+2];if((e[o]-e[r])*(e[i+1]-e[r+1])-(e[i]-e[r])*(e[o+1]-e[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},(t,n)=>n).sort((t,e)=>n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]);const t=this.collinear[0],e=this.collinear[this.collinear.length-1],r=[n[2*t],n[2*t+1],n[2*e],n[2*e+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,e=n.length/2;t<e;++t){const e=Zo(n[2*t],n[2*t+1],i);n[2*t]=e[0],n[2*t+1]=e[1]}this._delaunator=new Io(n)}else delete this.collinear;const e=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let t=0,n=e.length;t<n;++t){const n=i[t%3==2?t-2:t+1];-1!==e[t]&&-1!==o[n]||(o[n]=t)}for(let t=0,n=r.length;t<n;++t)u[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(t){return new Vo(this,t)}*neighbors(t){const{inedges:n,hull:e,_hullIndex:r,halfedges:i,triangles:o,collinear:u}=this;if(u){const n=u.indexOf(t);return n>0&&(yield u[n-1]),void(n<u.length-1&&(yield u[n+1]))}const a=n[t];if(-1===a)return;let s=a,l=-1;do{if(yield l=o[s],s=s%3==2?s-2:s+1,o[s]!==t)return;if(s=i[s],-1===s){const n=e[(r[t]+1)%e.length];return void(n!==l&&(yield n))}}while(s!==a)}find(t,n,e=0){if((t=+t)!=t||(n=+n)!=n)return-1;const r=e;let i;for(;(i=this._step(e,t,n))>=0&&i!==e&&i!==r;)e=i;return i}_step(t,n,e){const{inedges:r,hull:i,_hullIndex:o,halfedges:u,triangles:a,points:s}=this;if(-1===r[t]||!s.length)return(t+1)%(s.length>>1);let l=t,c=Yo(n-s[2*t],2)+Yo(e-s[2*t+1],2);const f=r[t];let h=f;do{let r=a[h];const f=Yo(n-s[2*r],2)+Yo(e-s[2*r+1],2);if(f<c&&(c=f,l=r),h=h%3==2?h-2:h+1,a[h]!==t)break;if(h=u[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&Yo(n-s[2*h],2)+Yo(e-s[2*h+1],2)<c)return h;break}}while(h!==f);return l}render(t){const n=null==t?t=new Ho:void 0,{points:e,halfedges:r,triangles:i}=this;for(let n=0,o=r.length;n<o;++n){const o=r[n];if(o<n)continue;const u=2*i[n],a=2*i[o];t.moveTo(e[u],e[u+1]),t.lineTo(e[a],e[a+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n=2){const e=null==t?t=new Ho:void 0,{points:r}=this;for(let e=0,i=r.length;e<i;e+=2){const i=r[e],o=r[e+1];t.moveTo(i+n,o),t.arc(i,o,n,0,Ko)}return e&&e.value()}renderHull(t){const n=null==t?t=new Ho:void 0,{hull:e,points:r}=this,i=2*e[0],o=e.length;t.moveTo(r[i],r[i+1]);for(let n=1;n<o;++n){const i=2*e[n];t.lineTo(r[i],r[i+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Wo;return this.renderHull(t),t.value()}renderTriangle(t,n){const e=null==n?n=new Ho:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],u=2*i[t+1],a=2*i[t+2];return n.moveTo(r[o],r[o+1]),n.lineTo(r[u],r[u+1]),n.lineTo(r[a],r[a+1]),n.closePath(),e&&e.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,e=t.length/3;n<e;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Wo;return this.renderTriangle(t,n),n.value()}}function Qo(t,n,e){const r=t.slice();return r[17]=n[e],r[19]=e,r}function tu(t){let n,e,r,o,u;return{c(){n=w("span"),T(n,"class",e=l("mdi "+(t[1]||"neg"==t[8]?t[5]:t[6]))+" svelte-4l6kc5"),T(n,"title",r="bad projection"),$(n,"hover","neg"==t[8])},m(e,r){m(e,n,r),o||(u=[k(n,"click",t[11]),k(n,"mouseenter",t[12]),k(n,"mouseleave",t[13])],o=!0)},p(t,r){354&r&&e!==(e=l("mdi "+(t[1]||"neg"==t[8]?t[5]:t[6]))+" svelte-4l6kc5")&&T(n,"class",e),354&r&&$(n,"hover","neg"==t[8])},d(t){t&&_(n),o=!1,i(u)}}}function nu(t){let n,e,r,o,u;function a(...n){return t[14](t[19],t[17],...n)}function s(...n){return t[15](t[19],...n)}return{c(){n=w("span"),T(n,"class",e=l("mdi "+(t[17]||t[8]>t[19]?t[3]:t[4]))+" svelte-4l6kc5"),T(n,"title",r=`give ${t[19]+1} points`),$(n,"disabled",t[19]-t[0]>=t[9]&&!t[17]),$(n,"hover",t[8]>t[19])},m(e,r){m(e,n,r),o||(u=[k(n,"click",a),k(n,"mouseenter",s),k(n,"mouseleave",t[16])],o=!0)},p(r,i){t=r,408&i&&e!==(e=l("mdi "+(t[17]||t[8]>t[19]?t[3]:t[4]))+" svelte-4l6kc5")&&T(n,"class",e),921&i&&$(n,"disabled",t[19]-t[0]>=t[9]&&!t[17]),408&i&&$(n,"hover",t[8]>t[19])},d(t){t&&_(n),o=!1,i(u)}}}function eu(n){let e,r,i=n[2]&&tu(n),o=n[7],u=[];for(let t=0;t<o.length;t+=1)u[t]=nu(Qo(n,o,t));return{c(){i&&i.c(),e=j();for(let t=0;t<u.length;t+=1)u[t].c();r=A()},m(t,n){i&&i.m(t,n),m(t,e,n);for(let e=0;e<u.length;e+=1)u[e].m(t,n);m(t,r,n)},p(t,[n]){if(t[2]?i?i.p(t,n):(i=tu(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),923&n){let e;for(o=t[7],e=0;e<o.length;e+=1){const i=Qo(t,o,e);u[e]?u[e].p(i,n):(u[e]=nu(i),u[e].c(),u[e].m(r.parentNode,r))}for(;e<u.length;e+=1)u[e].d(1);u.length=o.length}},i:t,o:t,d(t){i&&i.d(t),t&&_(e),y(u,t),t&&_(r)}}}function ru(t,n,e){let r;s(t,bo,t=>e(9,r=t));let{count:i}=n,{max:o=5}=n,{neg:u=!0}=n,{bad:a=!1}=n,l=new Array(o).fill(!1),{symbol_filled:c="mdi-heart"}=n,{symbol_unfilled:f="mdi-heart-outline"}=n,{symbol_neg:h="mdi-heart-off"}=n,{symbol_neg_unfilled:d="mdi-heart-off-outline"}=n,p=null;return t.$set=t=>{"count"in t&&e(0,i=t.count),"max"in t&&e(10,o=t.max),"neg"in t&&e(2,u=t.neg),"bad"in t&&e(1,a=t.bad),"symbol_filled"in t&&e(3,c=t.symbol_filled),"symbol_unfilled"in t&&e(4,f=t.symbol_unfilled),"symbol_neg"in t&&e(5,h=t.symbol_neg),"symbol_neg_unfilled"in t&&e(6,d=t.symbol_neg_unfilled)},[i,a,u,c,f,h,d,l,p,r,o,()=>{bo.set(r+i),e(0,i=0),e(7,l=l.map((t,n)=>!1)),e(1,a=!a)},()=>e(8,p="neg"),()=>e(8,p=null),(t,n)=>{if(t-i>=r&&!n)return;const o=t+1;bo.set(r+i-o),e(0,i=o),e(1,a=!1),e(7,l=l.map((t,n)=>n<o))},t=>e(8,p=t+1),()=>e(8,p=null)]}class iu extends mt{constructor(t){super(),gt(this,t,ru,eu,u,{count:0,max:10,neg:2,bad:1,symbol_filled:3,symbol_unfilled:4,symbol_neg:5,symbol_neg_unfilled:6})}}function ou(t,n,e){const r=t.slice();return r[40]=n[e],r[42]=e,r}function uu(t,n,e){const r=t.slice();return r[40]=n[e],r[42]=e,r}function au(e){let r,u,a,s;return{c(){r=w("div"),u=w("div"),T(u,"id","bar"),S(u,"width",100*e[10]+"%"),T(u,"class","svelte-1r4ade5"),T(r,"id","progressbar"),S(r,"width",e[2]-10+"px"),T(r,"class","svelte-1r4ade5")},m(t,n){m(t,r,n),g(r,u),s=!0},p(t,n){(!s||1024&n[0])&&S(u,"width",100*t[10]+"%"),(!s||4&n[0])&&S(r,"width",t[2]-10+"px")},i(t){s||(a&&a.end(1),s=!0)},o(e){a=function(e,r,u){let a,s=r(e,u),l=!0;const c=rt;function h(){const{delay:r=0,duration:o=300,easing:u=n,tick:h=t,css:d}=s||st;d&&(a=C(e,1,0,o,r,u,d));const p=f()+r,g=p+o;K(()=>nt(e,!1,"start")),v(t=>{if(l){if(t>=g)return h(0,1),nt(e,!1,"end"),--c.r||i(c.c),!1;if(t>=p){const n=u((t-p)/o);h(1-n,n)}}return l})}return c.r+=1,o(s)?tt().then(()=>{s=s(),h()}):h(),{end(t){t&&s.tick&&s.tick(1,0),l&&(a&&O(e,a),l=!1)}}}(r,xt,{}),s=!1},d(t){t&&_(r),t&&a&&a.end()}}}function su(n){let e,r,i;return{c(){e=w("button"),e.innerHTML='<span class="mdi mdi-close"></span> Close'},m(t,o){m(t,e,o),r||(i=k(e,"click",n[24]),r=!0)},p:t,d(t){t&&_(e),r=!1,i()}}}function lu(t){let n,e,r,i;return{c(){n=w("button"),e=w("span"),T(e,"class","mdi"),$(e,"mdi-arrow-expand",!t[8]),$(e,"mdi-arrow-collapse",t[8]),T(n,"title","expand")},m(o,u){m(o,n,u),g(n,e),r||(i=k(n,"click",t[23]),r=!0)},p(t,n){256&n[0]&&$(e,"mdi-arrow-expand",!t[8]),256&n[0]&&$(e,"mdi-arrow-collapse",t[8])},d(t){t&&_(n),r=!1,i()}}}function cu(t){let n,e,r,o,u;function a(...n){return t[25](t[42],...n)}return{c(){n=b("path"),T(n,"d",e=`M${t[13].cellPolygon(t[42]).join("L")}Z`),T(n,"fill","transparent"),T(n,"title",r=t[40].class)},m(e,r){m(e,n,r),o||(u=[k(n,"mouseenter",a),k(n,"mousemove",t[26])],o=!0)},p(i,o){t=i,8192&o[0]&&e!==(e=`M${t[13].cellPolygon(t[42]).join("L")}Z`)&&T(n,"d",e),1&o[0]&&r!==(r=t[40].class)&&T(n,"title",r)},d(t){t&&_(n),o=!1,i(u)}}}function fu(t){let n,e,r,i;return{c(){n=b("circle"),T(n,"cx","10"),T(n,"cy","10"),T(n,"r",e=t[16]==t[42]?5:3),T(n,"fill",r=t[16]==t[42]?t[17](t[40].class):"none"),T(n,"stroke",i=t[17](t[40].class))},m(t,e){m(t,n,e)},p(t,o){65536&o[0]&&e!==(e=t[16]==t[42]?5:3)&&T(n,"r",e),196609&o[0]&&r!==(r=t[16]==t[42]?t[17](t[40].class):"none")&&T(n,"fill",r),131073&o[0]&&i!==(i=t[17](t[40].class))&&T(n,"stroke",i)},d(t){t&&_(n)}}}function hu(t){let n,e,r,i,o=t[42];const u=()=>t[27](n,o),a=()=>t[27](null,o);return{c(){n=b("image"),S(n,"pointer-events","none"),T(n,"href",e=`data/thumbnails/size50/${t[40].img}.png`),T(n,"width","20"),T(n,"height","20"),T(n,"filter",r=t[42]==t[16]?"url(#matrix)":null),T(n,"title",i=t[40].class)},m(t,e){m(t,n,e),u()},p(s,l){t=s,1&l[0]&&e!==(e=`data/thumbnails/size50/${t[40].img}.png`)&&T(n,"href",e),65536&l[0]&&r!==(r=t[42]==t[16]?"url(#matrix)":null)&&T(n,"filter",r),1&l[0]&&i!==(i=t[40].class)&&T(n,"title",i),o!==t[42]&&(a(),o=t[42],u())},d(t){t&&_(n),a()}}}function du(t){let n,e,r=t[13].cellPolygon(t[42]),i=r&&cu(t);function o(t,n){return"image"==t[15]?hu:"circle"==t[15]?fu:void 0}let u=o(t),a=u&&u(t);return{c(){i&&i.c(),n=b("g"),a&&a.c(),T(n,"transform",e=`translate(${t[11](t[40].x)-10}, ${t[12](t[40].y)-10})`)},m(t,e){i&&i.m(t,e),m(t,n,e),a&&a.m(n,null)},p(t,s){8192&s[0]&&(r=t[13].cellPolygon(t[42])),r?i?i.p(t,s):(i=cu(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),u===(u=o(t))&&a?a.p(t,s):(a&&a.d(1),a=u&&u(t),a&&(a.c(),a.m(n,null))),6145&s[0]&&e!==(e=`translate(${t[11](t[40].x)-10}, ${t[12](t[40].y)-10})`)&&T(n,"transform",e)},d(t){i&&i.d(t),t&&_(n),a&&a.d()}}}function pu(t){let n,e=t[0].filter(t[28]),r=[];for(let n=0;n<e.length;n+=1)r[n]=vu(ou(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=A()},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);m(t,n,e)},p(t,i){if(71681&i[0]){let o;for(e=t[0].filter(t[28]),o=0;o<e.length;o+=1){const u=ou(t,e,o);r[o]?r[o].p(u,i):(r[o]=vu(u),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=e.length}},d(t){y(r,t),t&&_(n)}}}function vu(t){let n,e,r,i,o;return{c(){n=b("g"),e=b("image"),S(e,"pointer-events","none"),M(e,"xlink:href",r=`data/thumbnails/size50/${t[40].img}.png`),T(e,"width","20"),T(e,"height","20"),T(e,"filter","url(#matrix)"),T(e,"title",i=t[40].class),T(n,"transform",o=`translate(${t[11](t[40].x)-10}, ${t[12](t[40].y)-10})`)},m(t,r){m(t,n,r),g(n,e)},p(t,u){65537&u[0]&&r!==(r=`data/thumbnails/size50/${t[40].img}.png`)&&M(e,"xlink:href",r),65537&u[0]&&i!==(i=t[40].class)&&T(e,"title",i),71681&u[0]&&o!==(o=`translate(${t[11](t[40].x)-10}, ${t[12](t[40].y)-10})`)&&T(n,"transform",o)},d(t){t&&_(n)}}}function gu(t){let n,e,r,i;return r=new yu({props:{data:t[0],width:3*t[2],height:3*t[3],margin:3*t[4],tooltip:t[1],modal:!1,button:!1}}),r.$on("close",t[20]),{c(){n=w("div"),e=w("div"),ht(r.$$.fragment),T(e,"class","modal-content svelte-1r4ade5"),T(n,"id","modal"),T(n,"class","modal svelte-1r4ade5")},m(t,o){m(t,n,o),g(n,e),dt(r,e,null),i=!0},p(t,n){const e={};1&n[0]&&(e.data=t[0]),4&n[0]&&(e.width=3*t[2]),8&n[0]&&(e.height=3*t[3]),16&n[0]&&(e.margin=3*t[4]),2&n[0]&&(e.tooltip=t[1]),r.$set(e)},i(t){i||(ut(r.$$.fragment,t),i=!0)},o(t){at(r.$$.fragment,t),i=!1},d(t){t&&_(n),pt(r)}}}function mu(t){let n,e,r,o,u,a,s,l,c,f,h,d,p,v,M,P,$,E,z,N,I,C,O,L,R,D,U,q=1!=t[10]&&au(t);function F(t,n){return t[5]?lu:su}let H=F(t),W=H(t),V=t[0],K=[];for(let n=0;n<V.length;n+=1)K[n]=du(uu(t,V,n));let X="image"==t[15]&&pu(t);function G(n){t[31].call(null,n)}function Z(n){t[32].call(null,n)}let J={max:6};void 0!==t[0].pos_count&&(J.count=t[0].pos_count),void 0!==t[0].neg_count&&(J.bad=t[0].neg_count),z=new iu({props:J}),B.push(()=>ft(z,"count",G)),B.push(()=>ft(z,"bad",Z));let Q=t[8]&&gu(t);return{c(){n=w("div"),q&&q.c(),e=j(),r=w("small"),o=w("button"),u=w("span"),s=j(),W.c(),l=j(),c=b("svg"),f=b("defs"),h=b("filter"),d=b("feColorMatrix"),p=b("g");for(let t=0;t<K.length;t+=1)K[t].c();v=A(),X&&X.c(),M=j(),P=w("div"),$=w("div"),E=x("Rate:\n            "),ht(z.$$.fragment),C=j(),O=w("small"),O.innerHTML='<button><span class="mdi mdi-comment-text-outline"></span></button>',L=j(),Q&&Q.c(),T(u,"class","mdi mdi-magnify-scan"),o.disabled=a=!t[7],T(o,"title","reset zoom"),S(r,"position","absolute"),S(r,"top","5px"),S(r,"right","5px"),T(d,"type","matrix"),T(d,"in","SourceGraphic"),T(d,"values","0.1 0 0 0 0\n                            0 0.8 0 0 0\n                            0 0 1.7 0 0\n                            0 0 0 1 0 "),T(h,"id","matrix"),T(c,"width",t[2]),T(c,"height",t[3]),T(c,"class","svelte-1r4ade5"),S($,"text-align","left"),T($,"class","svelte-1r4ade5"),S(P,"text-align","center"),T(P,"class","svelte-1r4ade5"),S(O,"position","absolute"),S(O,"bottom","0px"),S(O,"right","5px"),T(n,"class","card svelte-1r4ade5"),S(n,"background-color",t[14](-t[0].pos_count+t[0].neg_count))},m(i,a){m(i,n,a),q&&q.m(n,null),g(n,e),g(n,r),g(r,o),g(o,u),g(r,s),W.m(r,null),g(n,l),g(n,c),g(c,f),g(f,h),g(h,d),g(c,p);for(let t=0;t<K.length;t+=1)K[t].m(p,null);g(p,v),X&&X.m(p,null),t[29](p),g(n,M),g(n,P),g(P,$),g($,E),dt(z,$,null),g(n,C),g(n,O),g(n,L),Q&&Q.m(n,null),R=!0,D||(U=[k(o,"click",t[22]),k(c,"mouseleave",t[30])],D=!0)},p(t,i){if(1!=t[10]?q?(q.p(t,i),1024&i[0]&&ut(q,1)):(q=au(t),q.c(),ut(q,1),q.m(n,e)):q&&(it(),at(q,1,1,()=>{q=null}),ot()),(!R||128&i[0]&&a!==(a=!t[7]))&&(o.disabled=a),H===(H=F(t))&&W?W.p(t,i):(W.d(1),W=H(t),W&&(W.c(),W.m(r,null))),244225&i[0]){let n;for(V=t[0],n=0;n<V.length;n+=1){const e=uu(t,V,n);K[n]?K[n].p(e,i):(K[n]=du(e),K[n].c(),K[n].m(p,v))}for(;n<K.length;n+=1)K[n].d(1);K.length=V.length}"image"==t[15]?X?X.p(t,i):(X=pu(t),X.c(),X.m(p,null)):X&&(X.d(1),X=null),(!R||4&i[0])&&T(c,"width",t[2]),(!R||8&i[0])&&T(c,"height",t[3]);const u={};!N&&1&i[0]&&(N=!0,u.count=t[0].pos_count,Y(()=>N=!1)),!I&&1&i[0]&&(I=!0,u.bad=t[0].neg_count,Y(()=>I=!1)),z.$set(u),t[8]?Q?(Q.p(t,i),256&i[0]&&ut(Q,1)):(Q=gu(t),Q.c(),ut(Q,1),Q.m(n,null)):Q&&(it(),at(Q,1,1,()=>{Q=null}),ot()),(!R||16385&i[0])&&S(n,"background-color",t[14](-t[0].pos_count+t[0].neg_count))},i(t){R||(ut(q),ut(z.$$.fragment,t),ut(Q),R=!0)},o(t){at(q),at(z.$$.fragment,t),at(Q),R=!1},d(e){e&&_(n),q&&q.d(),W.d(),y(K,e),X&&X.d(),t[29](null),pt(z),Q&&Q.d(),D=!1,i(U)}}}function _u(t,n,e){let r,i,o,u;s(t,So,t=>e(14,r=t)),s(t,$o,t=>e(15,i=t)),s(t,Mo,t=>e(16,o=t)),s(t,Po,t=>e(17,u=t));const a=function(){const t=D();return(n,e)=>{const r=t.$$.callbacks[n];if(r){const i=E(n,e);r.slice().forEach(n=>{n.call(t,i)})}}}();let l,{data:c}=n,{width:f}=n,{height:h}=n,{margin:d}=n,{tooltip:p}=n,{modal:v=!1}=n,{button:g=!0}=n;let m=yo();function _(){let{k:t,x:n,y:r}=qn.transform;e(7,y=!(1==t&&0==n&&0==r)),Qn(this).attr("transform",qn.transform)}U(()=>{Qn(l).call(m.extent([[0,0],[f,h]]).scaleExtent([1,8]).on("zoom",_)),Qn(void 0).call(m.extent([[0,0],[3*f,3*h]]).scaleExtent([1,8]).on("zoom",_))});let y=!1,w=!1;let b,x,j,A,k,T,M,P;return t.$set=t=>{"data"in t&&e(0,c=t.data),"width"in t&&e(2,f=t.width),"height"in t&&e(3,h=t.height),"margin"in t&&e(4,d=t.margin),"tooltip"in t&&e(1,p=t.tooltip),"modal"in t&&e(21,v=t.modal),"button"in t&&e(5,g=t.button)},t.$$.update=()=>{512&t.$$.dirty[0]&&e(33,x=b.map((t,n)=>t?t.decode().then(()=>e(33,x[n]="done",x)).catch(()=>e(33,x[n]="done",x)):"done")),4&t.$$.dirty[1]&&e(10,j=x.reduce((t,n)=>t+("done"==n?1:0),0)/x.length),6157&t.$$.dirty[0]&&e(13,T=Jo.from(c,t=>A(t.x),t=>k(t.y)).voronoi([0,0,Math.max(1,f||1),Math.max(1,h||1)])),2068&t.$$.dirty[0]&&A.range([d,f-d]),4120&t.$$.dirty[0]&&k.range([h-d,d]),1&t.$$.dirty[0]&&e(34,[M,P]=function(t){let[n,e]=zt(t,t=>t.x),[r,i]=zt(t,t=>t.y);const o=e-n,u=i-r,a=Math.abs(o-u)/2;return o>u?(r-=a,i+=a):(n-=a,e+=a),[[n,e],[r,i]]}(c),M,(e(35,P),e(0,c))),2048&t.$$.dirty[0]|8&t.$$.dirty[1]&&A.domain(M),4096&t.$$.dirty[0]|16&t.$$.dirty[1]&&k.domain(P)},e(9,b=[]),e(11,[A,k]=[io(),io()],A,e(12,k)),[c,p,f,h,d,g,l,y,w,b,j,A,k,T,r,i,o,u,a,m,function(t){e(8,w=!1)},v,()=>{Qn(l).transition().duration(350).call(m.transform,lo)},()=>{console.log(w),e(8,w=!w)},()=>a("close"),(t,n)=>{jo.set_hover(t)},t=>{const n=document.getElementById("tooltip");n&&(n.style.left=t.pageX+"px",n.style.top=t.pageY+"px")},function(t,n){b[n]!==t&&B[t?"unshift":"push"](()=>{b[n]=t,e(9,b)})},(t,n)=>o==n,function(t){B[t?"unshift":"push"](()=>{l=t,e(6,l)})},()=>jo.set_hover(null),function(t){c.pos_count=t,e(0,c)},function(t){c.neg_count=t,e(0,c)}]}class yu extends mt{constructor(t){super(),gt(this,t,_u,mu,u,{data:0,width:2,height:3,margin:4,tooltip:1,modal:21,button:5},[-1,-1])}}var wu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(t,n,e){t(e={path:n,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&e.path)}},e.exports),e.exports}((function(t,n){(function(){var e="Expected a function",r="__lodash_placeholder__",i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],o="[object Arguments]",u="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object GeneratorFunction]",h="[object Map]",d="[object Number]",p="[object Object]",v="[object RegExp]",g="[object Set]",m="[object String]",_="[object Symbol]",y="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",j="[object Float64Array]",A="[object Int8Array]",k="[object Int16Array]",T="[object Int32Array]",M="[object Uint8Array]",P="[object Uint16Array]",S="[object Uint32Array]",$=/\b__p \+= '';/g,E=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,N=/&(?:amp|lt|gt|quot|#39);/g,I=/[&<>"']/g,C=RegExp(N.source),O=RegExp(I.source),L=/<%-([\s\S]+?)%>/g,R=/<%([\s\S]+?)%>/g,D=/<%=([\s\S]+?)%>/g,U=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,F=/[\\^$.*+?()[\]{}|]/g,H=RegExp(F.source),W=/^\s+|\s+$/g,V=/^\s+/,K=/\s+$/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,G=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,J=/\\(\\)?/g,Q=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tt=/\w*$/,nt=/^[-+]0x[0-9a-f]+$/i,et=/^0b[01]+$/i,rt=/^\[object .+?Constructor\]$/,it=/^0o[0-7]+$/i,ot=/^(?:0|[1-9]\d*)$/,ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,at=/($^)/,st=/['\n\r\u2028\u2029\\]/g,lt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ct="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ft="[\\ud800-\\udfff]",ht="["+ct+"]",dt="["+lt+"]",pt="\\d+",vt="[\\u2700-\\u27bf]",gt="[a-z\\xdf-\\xf6\\xf8-\\xff]",mt="[^\\ud800-\\udfff"+ct+pt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_t="\\ud83c[\\udffb-\\udfff]",yt="[^\\ud800-\\udfff]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",bt="[\\ud800-\\udbff][\\udc00-\\udfff]",xt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",jt="(?:"+gt+"|"+mt+")",At="(?:"+xt+"|"+mt+")",kt="(?:"+dt+"|"+_t+")"+"?",Tt="[\\ufe0e\\ufe0f]?"+kt+("(?:\\u200d(?:"+[yt,wt,bt].join("|")+")[\\ufe0e\\ufe0f]?"+kt+")*"),Mt="(?:"+[vt,wt,bt].join("|")+")"+Tt,Pt="(?:"+[yt+dt+"?",dt,wt,bt,ft].join("|")+")",St=RegExp("[']","g"),$t=RegExp(dt,"g"),Et=RegExp(_t+"(?="+_t+")|"+Pt+Tt,"g"),zt=RegExp([xt+"?"+gt+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[ht,xt,"$"].join("|")+")",At+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[ht,xt+jt,"$"].join("|")+")",xt+"?"+jt+"+(?:['](?:d|ll|m|re|s|t|ve))?",xt+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pt,Mt].join("|"),"g"),Nt=RegExp("[\\u200d\\ud800-\\udfff"+lt+"\\ufe0e\\ufe0f]"),It=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ct=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ot=-1,Lt={};Lt[x]=Lt[j]=Lt[A]=Lt[k]=Lt[T]=Lt[M]=Lt["[object Uint8ClampedArray]"]=Lt[P]=Lt[S]=!0,Lt[o]=Lt[u]=Lt[w]=Lt[a]=Lt[b]=Lt[s]=Lt[l]=Lt[c]=Lt[h]=Lt[d]=Lt[p]=Lt[v]=Lt[g]=Lt[m]=Lt[y]=!1;var Rt={};Rt[o]=Rt[u]=Rt[w]=Rt[b]=Rt[a]=Rt[s]=Rt[x]=Rt[j]=Rt[A]=Rt[k]=Rt[T]=Rt[h]=Rt[d]=Rt[p]=Rt[v]=Rt[g]=Rt[m]=Rt[_]=Rt[M]=Rt["[object Uint8ClampedArray]"]=Rt[P]=Rt[S]=!0,Rt[l]=Rt[c]=Rt[y]=!1;var Dt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ut=parseFloat,qt=parseInt,Bt="object"==typeof wu&&wu&&wu.Object===Object&&wu,Ft="object"==typeof self&&self&&self.Object===Object&&self,Ht=Bt||Ft||Function("return this")(),Wt=n&&!n.nodeType&&n,Vt=Wt&&t&&!t.nodeType&&t,Kt=Vt&&Vt.exports===Wt,Yt=Kt&&Bt.process,Xt=function(){try{var t=Vt&&Vt.require&&Vt.require("util").types;return t||Yt&&Yt.binding&&Yt.binding("util")}catch(t){}}(),Gt=Xt&&Xt.isArrayBuffer,Zt=Xt&&Xt.isDate,Jt=Xt&&Xt.isMap,Qt=Xt&&Xt.isRegExp,tn=Xt&&Xt.isSet,nn=Xt&&Xt.isTypedArray;function en(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function rn(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var u=t[i];n(r,u,e(u),t)}return r}function on(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function un(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function an(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function sn(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var u=t[e];n(u,e,t)&&(o[i++]=u)}return o}function ln(t,n){return!!(null==t?0:t.length)&&yn(t,n,0)>-1}function cn(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function fn(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function hn(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function dn(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function pn(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function vn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var gn=jn("length");function mn(t,n,e){var r;return e(t,(function(t,e,i){if(n(t,e,i))return r=e,!1})),r}function _n(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}function yn(t,n,e){return n==n?function(t,n,e){var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):_n(t,bn,e)}function wn(t,n,e,r){for(var i=e-1,o=t.length;++i<o;)if(r(t[i],n))return i;return-1}function bn(t){return t!=t}function xn(t,n){var e=null==t?0:t.length;return e?Tn(t,n)/e:NaN}function jn(t){return function(n){return null==n?void 0:n[t]}}function An(t){return function(n){return null==t?void 0:t[n]}}function kn(t,n,e,r,i){return i(t,(function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)})),e}function Tn(t,n){for(var e,r=-1,i=t.length;++r<i;){var o=n(t[r]);void 0!==o&&(e=void 0===e?o:e+o)}return e}function Mn(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function Pn(t){return function(n){return t(n)}}function Sn(t,n){return fn(n,(function(n){return t[n]}))}function $n(t,n){return t.has(n)}function En(t,n){for(var e=-1,r=t.length;++e<r&&yn(n,t[e],0)>-1;);return e}function zn(t,n){for(var e=t.length;e--&&yn(n,t[e],0)>-1;);return e}function Nn(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}var In=An({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Cn=An({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function On(t){return"\\"+Dt[t]}function Ln(t){return Nt.test(t)}function Rn(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}function Dn(t,n){return function(e){return t(n(e))}}function Un(t,n){for(var e=-1,i=t.length,o=0,u=[];++e<i;){var a=t[e];a!==n&&a!==r||(t[e]=r,u[o++]=e)}return u}function qn(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}function Bn(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=[t,t]})),e}function Fn(t){return Ln(t)?function(t){var n=Et.lastIndex=0;for(;Et.test(t);)++n;return n}(t):gn(t)}function Hn(t){return Ln(t)?function(t){return t.match(Et)||[]}(t):function(t){return t.split("")}(t)}var Wn=An({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Vn=function t(n){var lt,ct=(n=null==n?Ht:Vn.defaults(Ht.Object(),n,Vn.pick(Ht,Ct))).Array,ft=n.Date,ht=n.Error,dt=n.Function,pt=n.Math,vt=n.Object,gt=n.RegExp,mt=n.String,_t=n.TypeError,yt=ct.prototype,wt=dt.prototype,bt=vt.prototype,xt=n["__core-js_shared__"],jt=wt.toString,At=bt.hasOwnProperty,kt=0,Tt=(lt=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+lt:"",Mt=bt.toString,Pt=jt.call(vt),Et=Ht._,Nt=gt("^"+jt.call(At).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=Kt?n.Buffer:void 0,Bt=n.Symbol,Ft=n.Uint8Array,Wt=Dt?Dt.allocUnsafe:void 0,Vt=Dn(vt.getPrototypeOf,vt),Yt=vt.create,Xt=bt.propertyIsEnumerable,gn=yt.splice,An=Bt?Bt.isConcatSpreadable:void 0,Kn=Bt?Bt.iterator:void 0,Yn=Bt?Bt.toStringTag:void 0,Xn=function(){try{var t=Qi(vt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Gn=n.clearTimeout!==Ht.clearTimeout&&n.clearTimeout,Zn=ft&&ft.now!==Ht.Date.now&&ft.now,Jn=n.setTimeout!==Ht.setTimeout&&n.setTimeout,Qn=pt.ceil,te=pt.floor,ne=vt.getOwnPropertySymbols,ee=Dt?Dt.isBuffer:void 0,re=n.isFinite,ie=yt.join,oe=Dn(vt.keys,vt),ue=pt.max,ae=pt.min,se=ft.now,le=n.parseInt,ce=pt.random,fe=yt.reverse,he=Qi(n,"DataView"),de=Qi(n,"Map"),pe=Qi(n,"Promise"),ve=Qi(n,"Set"),ge=Qi(n,"WeakMap"),me=Qi(vt,"create"),_e=ge&&new ge,ye={},we=Mo(he),be=Mo(de),xe=Mo(pe),je=Mo(ve),Ae=Mo(ge),ke=Bt?Bt.prototype:void 0,Te=ke?ke.valueOf:void 0,Me=ke?ke.toString:void 0;function Pe(t){if(Hu(t)&&!Nu(t)&&!(t instanceof ze)){if(t instanceof Ee)return t;if(At.call(t,"__wrapped__"))return Po(t)}return new Ee(t)}var Se=function(){function t(){}return function(n){if(!Fu(n))return{};if(Yt)return Yt(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();function $e(){}function Ee(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=void 0}function ze(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ne(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ie(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ce(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Oe(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new Ce;++n<e;)this.add(t[n])}function Le(t){var n=this.__data__=new Ie(t);this.size=n.size}function Re(t,n){var e=Nu(t),r=!e&&zu(t),i=!e&&!r&&Lu(t),o=!e&&!r&&!i&&Ju(t),u=e||r||i||o,a=u?Mn(t.length,mt):[],s=a.length;for(var l in t)!n&&!At.call(t,l)||u&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||uo(l,s))||a.push(l);return a}function De(t){var n=t.length;return n?t[Or(0,n-1)]:void 0}function Ue(t,n){return Ao(mi(t),Xe(n,0,t.length))}function qe(t){return Ao(mi(t))}function Be(t,n,e){(void 0!==e&&!Su(t[n],e)||void 0===e&&!(n in t))&&Ke(t,n,e)}function Fe(t,n,e){var r=t[n];At.call(t,n)&&Su(r,e)&&(void 0!==e||n in t)||Ke(t,n,e)}function He(t,n){for(var e=t.length;e--;)if(Su(t[e][0],n))return e;return-1}function We(t,n,e,r){return tr(t,(function(t,i,o){n(r,t,e(t),o)})),r}function Ve(t,n){return t&&_i(n,wa(n),t)}function Ke(t,n,e){"__proto__"==n&&Xn?Xn(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Ye(t,n){for(var e=-1,r=n.length,i=ct(r),o=null==t;++e<r;)i[e]=o?void 0:va(t,n[e]);return i}function Xe(t,n,e){return t==t&&(void 0!==e&&(t=t<=e?t:e),void 0!==n&&(t=t>=n?t:n)),t}function Ge(t,n,e,r,i,u){var l,y=1&n,$=2&n,E=4&n;if(e&&(l=i?e(t,r,i,u):e(t)),void 0!==l)return l;if(!Fu(t))return t;var z=Nu(t);if(z){if(l=function(t){var n=t.length,e=new t.constructor(n);n&&"string"==typeof t[0]&&At.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(t),!y)return mi(t,l)}else{var N=eo(t),I=N==c||N==f;if(Lu(t))return fi(t,y);if(N==p||N==o||I&&!i){if(l=$||I?{}:io(t),!y)return $?function(t,n){return _i(t,no(t),n)}(t,function(t,n){return t&&_i(n,ba(n),t)}(l,t)):function(t,n){return _i(t,to(t),n)}(t,Ve(l,t))}else{if(!Rt[N])return i?t:{};l=function(t,n,e){var r=t.constructor;switch(n){case w:return hi(t);case a:case s:return new r(+t);case b:return function(t,n){var e=n?hi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case x:case j:case A:case k:case T:case M:case"[object Uint8ClampedArray]":case P:case S:return di(t,e);case h:return new r;case d:case m:return new r(t);case v:return function(t){var n=new t.constructor(t.source,tt.exec(t));return n.lastIndex=t.lastIndex,n}(t);case g:return new r;case _:return i=t,Te?vt(Te.call(i)):{}}var i}(t,N,y)}}u||(u=new Le);var C=u.get(t);if(C)return C;u.set(t,l),Xu(t)?t.forEach((function(r){l.add(Ge(r,n,e,r,t,u))})):Wu(t)&&t.forEach((function(r,i){l.set(i,Ge(r,n,e,i,t,u))}));var O=z?void 0:(E?$?Vi:Wi:$?ba:wa)(t);return on(O||t,(function(r,i){O&&(r=t[i=r]),Fe(l,i,Ge(r,n,e,i,t,u))})),l}function Ze(t,n,e){var r=e.length;if(null==t)return!r;for(t=vt(t);r--;){var i=e[r],o=n[i],u=t[i];if(void 0===u&&!(i in t)||!o(u))return!1}return!0}function Je(t,n,r){if("function"!=typeof t)throw new _t(e);return wo((function(){t.apply(void 0,r)}),n)}function Qe(t,n,e,r){var i=-1,o=ln,u=!0,a=t.length,s=[],l=n.length;if(!a)return s;e&&(n=fn(n,Pn(e))),r?(o=cn,u=!1):n.length>=200&&(o=$n,u=!1,n=new Oe(n));t:for(;++i<a;){var c=t[i],f=null==e?c:e(c);if(c=r||0!==c?c:0,u&&f==f){for(var h=l;h--;)if(n[h]===f)continue t;s.push(c)}else o(n,f,r)||s.push(c)}return s}Pe.templateSettings={escape:L,evaluate:R,interpolate:D,variable:"",imports:{_:Pe}},Pe.prototype=$e.prototype,Pe.prototype.constructor=Pe,Ee.prototype=Se($e.prototype),Ee.prototype.constructor=Ee,ze.prototype=Se($e.prototype),ze.prototype.constructor=ze,Ne.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},Ne.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Ne.prototype.get=function(t){var n=this.__data__;if(me){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return At.call(n,t)?n[t]:void 0},Ne.prototype.has=function(t){var n=this.__data__;return me?void 0!==n[t]:At.call(n,t)},Ne.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=me&&void 0===n?"__lodash_hash_undefined__":n,this},Ie.prototype.clear=function(){this.__data__=[],this.size=0},Ie.prototype.delete=function(t){var n=this.__data__,e=He(n,t);return!(e<0)&&(e==n.length-1?n.pop():gn.call(n,e,1),--this.size,!0)},Ie.prototype.get=function(t){var n=this.__data__,e=He(n,t);return e<0?void 0:n[e][1]},Ie.prototype.has=function(t){return He(this.__data__,t)>-1},Ie.prototype.set=function(t,n){var e=this.__data__,r=He(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},Ce.prototype.clear=function(){this.size=0,this.__data__={hash:new Ne,map:new(de||Ie),string:new Ne}},Ce.prototype.delete=function(t){var n=Zi(this,t).delete(t);return this.size-=n?1:0,n},Ce.prototype.get=function(t){return Zi(this,t).get(t)},Ce.prototype.has=function(t){return Zi(this,t).has(t)},Ce.prototype.set=function(t,n){var e=Zi(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},Oe.prototype.add=Oe.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Oe.prototype.has=function(t){return this.__data__.has(t)},Le.prototype.clear=function(){this.__data__=new Ie,this.size=0},Le.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},Le.prototype.get=function(t){return this.__data__.get(t)},Le.prototype.has=function(t){return this.__data__.has(t)},Le.prototype.set=function(t,n){var e=this.__data__;if(e instanceof Ie){var r=e.__data__;if(!de||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new Ce(r)}return e.set(t,n),this.size=e.size,this};var tr=bi(sr),nr=bi(lr,!0);function er(t,n){var e=!0;return tr(t,(function(t,r,i){return e=!!n(t,r,i)})),e}function rr(t,n,e){for(var r=-1,i=t.length;++r<i;){var o=t[r],u=n(o);if(null!=u&&(void 0===a?u==u&&!Zu(u):e(u,a)))var a=u,s=o}return s}function ir(t,n){var e=[];return tr(t,(function(t,r,i){n(t,r,i)&&e.push(t)})),e}function or(t,n,e,r,i){var o=-1,u=t.length;for(e||(e=oo),i||(i=[]);++o<u;){var a=t[o];n>0&&e(a)?n>1?or(a,n-1,e,r,i):hn(i,a):r||(i[i.length]=a)}return i}var ur=xi(),ar=xi(!0);function sr(t,n){return t&&ur(t,n,wa)}function lr(t,n){return t&&ar(t,n,wa)}function cr(t,n){return sn(n,(function(n){return Uu(t[n])}))}function fr(t,n){for(var e=0,r=(n=ai(n,t)).length;null!=t&&e<r;)t=t[To(n[e++])];return e&&e==r?t:void 0}function hr(t,n,e){var r=n(t);return Nu(t)?r:hn(r,e(t))}function dr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Yn&&Yn in vt(t)?function(t){var n=At.call(t,Yn),e=t[Yn];try{t[Yn]=void 0;var r=!0}catch(t){}var i=Mt.call(t);r&&(n?t[Yn]=e:delete t[Yn]);return i}(t):function(t){return Mt.call(t)}(t)}function pr(t,n){return t>n}function vr(t,n){return null!=t&&At.call(t,n)}function gr(t,n){return null!=t&&n in vt(t)}function mr(t,n,e){for(var r=e?cn:ln,i=t[0].length,o=t.length,u=o,a=ct(o),s=1/0,l=[];u--;){var c=t[u];u&&n&&(c=fn(c,Pn(n))),s=ae(c.length,s),a[u]=!e&&(n||i>=120&&c.length>=120)?new Oe(u&&c):void 0}c=t[0];var f=-1,h=a[0];t:for(;++f<i&&l.length<s;){var d=c[f],p=n?n(d):d;if(d=e||0!==d?d:0,!(h?$n(h,p):r(l,p,e))){for(u=o;--u;){var v=a[u];if(!(v?$n(v,p):r(t[u],p,e)))continue t}h&&h.push(p),l.push(d)}}return l}function _r(t,n,e){var r=null==(t=go(t,n=ai(n,t)))?t:t[To(Do(n))];return null==r?void 0:en(r,t,e)}function yr(t){return Hu(t)&&dr(t)==o}function wr(t,n,e,r,i){return t===n||(null==t||null==n||!Hu(t)&&!Hu(n)?t!=t&&n!=n:function(t,n,e,r,i,c){var f=Nu(t),y=Nu(n),x=f?u:eo(t),j=y?u:eo(n),A=(x=x==o?p:x)==p,k=(j=j==o?p:j)==p,T=x==j;if(T&&Lu(t)){if(!Lu(n))return!1;f=!0,A=!1}if(T&&!A)return c||(c=new Le),f||Ju(t)?Fi(t,n,e,r,i,c):function(t,n,e,r,i,o,u){switch(e){case b:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case w:return!(t.byteLength!=n.byteLength||!o(new Ft(t),new Ft(n)));case a:case s:case d:return Su(+t,+n);case l:return t.name==n.name&&t.message==n.message;case v:case m:return t==n+"";case h:var c=Rn;case g:var f=1&r;if(c||(c=qn),t.size!=n.size&&!f)return!1;var p=u.get(t);if(p)return p==n;r|=2,u.set(t,n);var y=Fi(c(t),c(n),r,i,o,u);return u.delete(t),y;case _:if(Te)return Te.call(t)==Te.call(n)}return!1}(t,n,x,e,r,i,c);if(!(1&e)){var M=A&&At.call(t,"__wrapped__"),P=k&&At.call(n,"__wrapped__");if(M||P){var S=M?t.value():t,$=P?n.value():n;return c||(c=new Le),i(S,$,e,r,c)}}if(!T)return!1;return c||(c=new Le),function(t,n,e,r,i,o){var u=1&e,a=Wi(t),s=a.length,l=Wi(n).length;if(s!=l&&!u)return!1;var c=s;for(;c--;){var f=a[c];if(!(u?f in n:At.call(n,f)))return!1}var h=o.get(t);if(h&&o.get(n))return h==n;var d=!0;o.set(t,n),o.set(n,t);var p=u;for(;++c<s;){f=a[c];var v=t[f],g=n[f];if(r)var m=u?r(g,v,f,n,t,o):r(v,g,f,t,n,o);if(!(void 0===m?v===g||i(v,g,e,r,o):m)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var _=t.constructor,y=n.constructor;_==y||!("constructor"in t)||!("constructor"in n)||"function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y||(d=!1)}return o.delete(t),o.delete(n),d}(t,n,e,r,i,c)}(t,n,e,r,wr,i))}function br(t,n,e,r){var i=e.length,o=i,u=!r;if(null==t)return!o;for(t=vt(t);i--;){var a=e[i];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var s=(a=e[i])[0],l=t[s],c=a[1];if(u&&a[2]){if(void 0===l&&!(s in t))return!1}else{var f=new Le;if(r)var h=r(l,c,s,t,n,f);if(!(void 0===h?wr(c,l,3,r,f):h))return!1}}return!0}function xr(t){return!(!Fu(t)||(n=t,Tt&&Tt in n))&&(Uu(t)?Nt:rt).test(Mo(t));var n}function jr(t){return"function"==typeof t?t:null==t?Va:"object"==typeof t?Nu(t)?Sr(t[0],t[1]):Pr(t):ns(t)}function Ar(t){if(!fo(t))return oe(t);var n=[];for(var e in vt(t))At.call(t,e)&&"constructor"!=e&&n.push(e);return n}function kr(t){if(!Fu(t))return function(t){var n=[];if(null!=t)for(var e in vt(t))n.push(e);return n}(t);var n=fo(t),e=[];for(var r in t)("constructor"!=r||!n&&At.call(t,r))&&e.push(r);return e}function Tr(t,n){return t<n}function Mr(t,n){var e=-1,r=Cu(t)?ct(t.length):[];return tr(t,(function(t,i,o){r[++e]=n(t,i,o)})),r}function Pr(t){var n=Ji(t);return 1==n.length&&n[0][2]?po(n[0][0],n[0][1]):function(e){return e===t||br(e,t,n)}}function Sr(t,n){return so(t)&&ho(n)?po(To(t),n):function(e){var r=va(e,t);return void 0===r&&r===n?ga(e,t):wr(n,r,3)}}function $r(t,n,e,r,i){t!==n&&ur(n,(function(o,u){if(i||(i=new Le),Fu(o))!function(t,n,e,r,i,o,u){var a=_o(t,e),s=_o(n,e),l=u.get(s);if(l)return void Be(t,e,l);var c=o?o(a,s,e+"",t,n,u):void 0,f=void 0===c;if(f){var h=Nu(s),d=!h&&Lu(s),p=!h&&!d&&Ju(s);c=s,h||d||p?Nu(a)?c=a:Ou(a)?c=mi(a):d?(f=!1,c=fi(s,!0)):p?(f=!1,c=di(s,!0)):c=[]:Ku(s)||zu(s)?(c=a,zu(a)?c=ua(a):Fu(a)&&!Uu(a)||(c=io(s))):f=!1}f&&(u.set(s,c),i(c,s,r,o,u),u.delete(s));Be(t,e,c)}(t,n,u,e,$r,r,i);else{var a=r?r(_o(t,u),o,u+"",t,n,i):void 0;void 0===a&&(a=o),Be(t,u,a)}}),ba)}function Er(t,n){var e=t.length;if(e)return uo(n+=n<0?e:0,e)?t[n]:void 0}function zr(t,n,e){var r=-1;return n=fn(n.length?n:[Va],Pn(Gi())),function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(Mr(t,(function(t,e,i){return{criteria:fn(n,(function(n){return n(t)})),index:++r,value:t}})),(function(t,n){return function(t,n,e){var r=-1,i=t.criteria,o=n.criteria,u=i.length,a=e.length;for(;++r<u;){var s=pi(i[r],o[r]);if(s){if(r>=a)return s;var l=e[r];return s*("desc"==l?-1:1)}}return t.index-n.index}(t,n,e)}))}function Nr(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var u=n[r],a=fr(t,u);e(a,u)&&qr(o,ai(u,t),a)}return o}function Ir(t,n,e,r){var i=r?wn:yn,o=-1,u=n.length,a=t;for(t===n&&(n=mi(n)),e&&(a=fn(t,Pn(e)));++o<u;)for(var s=0,l=n[o],c=e?e(l):l;(s=i(a,c,s,r))>-1;)a!==t&&gn.call(a,s,1),gn.call(t,s,1);return t}function Cr(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(e==r||i!==o){var o=i;uo(i)?gn.call(t,i,1):Qr(t,i)}}return t}function Or(t,n){return t+te(ce()*(n-t+1))}function Lr(t,n){var e="";if(!t||n<1||n>9007199254740991)return e;do{n%2&&(e+=t),(n=te(n/2))&&(t+=t)}while(n);return e}function Rr(t,n){return bo(vo(t,n,Va),t+"")}function Dr(t){return De(Sa(t))}function Ur(t,n){var e=Sa(t);return Ao(e,Xe(n,0,e.length))}function qr(t,n,e,r){if(!Fu(t))return t;for(var i=-1,o=(n=ai(n,t)).length,u=o-1,a=t;null!=a&&++i<o;){var s=To(n[i]),l=e;if(i!=u){var c=a[s];void 0===(l=r?r(c,s,a):void 0)&&(l=Fu(c)?c:uo(n[i+1])?[]:{})}Fe(a,s,l),a=a[s]}return t}var Br=_e?function(t,n){return _e.set(t,n),t}:Va,Fr=Xn?function(t,n){return Xn(t,"toString",{configurable:!0,enumerable:!1,value:Fa(n),writable:!0})}:Va;function Hr(t){return Ao(Sa(t))}function Wr(t,n,e){var r=-1,i=t.length;n<0&&(n=-n>i?0:i+n),(e=e>i?i:e)<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=ct(i);++r<i;)o[r]=t[r+n];return o}function Vr(t,n){var e;return tr(t,(function(t,r,i){return!(e=n(t,r,i))})),!!e}function Kr(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=2147483647){for(;r<i;){var o=r+i>>>1,u=t[o];null!==u&&!Zu(u)&&(e?u<=n:u<n)?r=o+1:i=o}return i}return Yr(t,n,Va,e)}function Yr(t,n,e,r){n=e(n);for(var i=0,o=null==t?0:t.length,u=n!=n,a=null===n,s=Zu(n),l=void 0===n;i<o;){var c=te((i+o)/2),f=e(t[c]),h=void 0!==f,d=null===f,p=f==f,v=Zu(f);if(u)var g=r||p;else g=l?p&&(r||h):a?p&&h&&(r||!d):s?p&&h&&!d&&(r||!v):!d&&!v&&(r?f<=n:f<n);g?i=c+1:o=c}return ae(o,4294967294)}function Xr(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var u=t[e],a=n?n(u):u;if(!e||!Su(a,s)){var s=a;o[i++]=0===u?0:u}}return o}function Gr(t){return"number"==typeof t?t:Zu(t)?NaN:+t}function Zr(t){if("string"==typeof t)return t;if(Nu(t))return fn(t,Zr)+"";if(Zu(t))return Me?Me.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Jr(t,n,e){var r=-1,i=ln,o=t.length,u=!0,a=[],s=a;if(e)u=!1,i=cn;else if(o>=200){var l=n?null:Li(t);if(l)return qn(l);u=!1,i=$n,s=new Oe}else s=n?[]:a;t:for(;++r<o;){var c=t[r],f=n?n(c):c;if(c=e||0!==c?c:0,u&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue t;n&&s.push(f),a.push(c)}else i(s,f,e)||(s!==a&&s.push(f),a.push(c))}return a}function Qr(t,n){return null==(t=go(t,n=ai(n,t)))||delete t[To(Do(n))]}function ti(t,n,e,r){return qr(t,n,e(fr(t,n)),r)}function ni(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?Wr(t,r?0:o,r?o+1:i):Wr(t,r?o+1:0,r?i:o)}function ei(t,n){var e=t;return e instanceof ze&&(e=e.value()),dn(n,(function(t,n){return n.func.apply(n.thisArg,hn([t],n.args))}),e)}function ri(t,n,e){var r=t.length;if(r<2)return r?Jr(t[0]):[];for(var i=-1,o=ct(r);++i<r;)for(var u=t[i],a=-1;++a<r;)a!=i&&(o[i]=Qe(o[i]||u,t[a],n,e));return Jr(or(o,1),n,e)}function ii(t,n,e){for(var r=-1,i=t.length,o=n.length,u={};++r<i;){var a=r<o?n[r]:void 0;e(u,t[r],a)}return u}function oi(t){return Ou(t)?t:[]}function ui(t){return"function"==typeof t?t:Va}function ai(t,n){return Nu(t)?t:so(t,n)?[t]:ko(aa(t))}var si=Rr;function li(t,n,e){var r=t.length;return e=void 0===e?r:e,!n&&e>=r?t:Wr(t,n,e)}var ci=Gn||function(t){return Ht.clearTimeout(t)};function fi(t,n){if(n)return t.slice();var e=t.length,r=Wt?Wt(e):new t.constructor(e);return t.copy(r),r}function hi(t){var n=new t.constructor(t.byteLength);return new Ft(n).set(new Ft(t)),n}function di(t,n){var e=n?hi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function pi(t,n){if(t!==n){var e=void 0!==t,r=null===t,i=t==t,o=Zu(t),u=void 0!==n,a=null===n,s=n==n,l=Zu(n);if(!a&&!l&&!o&&t>n||o&&u&&s&&!a&&!l||r&&u&&s||!e&&s||!i)return 1;if(!r&&!o&&!l&&t<n||l&&e&&i&&!r&&!o||a&&e&&i||!u&&i||!s)return-1}return 0}function vi(t,n,e,r){for(var i=-1,o=t.length,u=e.length,a=-1,s=n.length,l=ue(o-u,0),c=ct(s+l),f=!r;++a<s;)c[a]=n[a];for(;++i<u;)(f||i<o)&&(c[e[i]]=t[i]);for(;l--;)c[a++]=t[i++];return c}function gi(t,n,e,r){for(var i=-1,o=t.length,u=-1,a=e.length,s=-1,l=n.length,c=ue(o-a,0),f=ct(c+l),h=!r;++i<c;)f[i]=t[i];for(var d=i;++s<l;)f[d+s]=n[s];for(;++u<a;)(h||i<o)&&(f[d+e[u]]=t[i++]);return f}function mi(t,n){var e=-1,r=t.length;for(n||(n=ct(r));++e<r;)n[e]=t[e];return n}function _i(t,n,e,r){var i=!e;e||(e={});for(var o=-1,u=n.length;++o<u;){var a=n[o],s=r?r(e[a],t[a],a,e,t):void 0;void 0===s&&(s=t[a]),i?Ke(e,a,s):Fe(e,a,s)}return e}function yi(t,n){return function(e,r){var i=Nu(e)?rn:We,o=n?n():{};return i(e,t,Gi(r,2),o)}}function wi(t){return Rr((function(n,e){var r=-1,i=e.length,o=i>1?e[i-1]:void 0,u=i>2?e[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,u&&ao(e[0],e[1],u)&&(o=i<3?void 0:o,i=1),n=vt(n);++r<i;){var a=e[r];a&&t(n,a,r,o)}return n}))}function bi(t,n){return function(e,r){if(null==e)return e;if(!Cu(e))return t(e,r);for(var i=e.length,o=n?i:-1,u=vt(e);(n?o--:++o<i)&&!1!==r(u[o],o,u););return e}}function xi(t){return function(n,e,r){for(var i=-1,o=vt(n),u=r(n),a=u.length;a--;){var s=u[t?a:++i];if(!1===e(o[s],s,o))break}return n}}function ji(t){return function(n){var e=Ln(n=aa(n))?Hn(n):void 0,r=e?e[0]:n.charAt(0),i=e?li(e,1).join(""):n.slice(1);return r[t]()+i}}function Ai(t){return function(n){return dn(Ua(za(n).replace(St,"")),t,"")}}function ki(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Se(t.prototype),r=t.apply(e,n);return Fu(r)?r:e}}function Ti(t){return function(n,e,r){var i=vt(n);if(!Cu(n)){var o=Gi(e,3);n=wa(n),e=function(t){return o(i[t],t,i)}}var u=t(n,e,r);return u>-1?i[o?n[u]:u]:void 0}}function Mi(t){return Hi((function(n){var r=n.length,i=r,o=Ee.prototype.thru;for(t&&n.reverse();i--;){var u=n[i];if("function"!=typeof u)throw new _t(e);if(o&&!a&&"wrapper"==Yi(u))var a=new Ee([],!0)}for(i=a?i:r;++i<r;){var s=Yi(u=n[i]),l="wrapper"==s?Ki(u):void 0;a=l&&lo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Yi(l[0])].apply(a,l[3]):1==u.length&&lo(u)?a[s]():a.thru(u)}return function(){var t=arguments,e=t[0];if(a&&1==t.length&&Nu(e))return a.plant(e).value();for(var i=0,o=r?n[i].apply(this,t):e;++i<r;)o=n[i].call(this,o);return o}}))}function Pi(t,n,e,r,i,o,u,a,s,l){var c=128&n,f=1&n,h=2&n,d=24&n,p=512&n,v=h?void 0:ki(t);return function g(){for(var m=arguments.length,_=ct(m),y=m;y--;)_[y]=arguments[y];if(d)var w=Xi(g),b=Nn(_,w);if(r&&(_=vi(_,r,i,d)),o&&(_=gi(_,o,u,d)),m-=b,d&&m<l){var x=Un(_,w);return Ci(t,n,Pi,g.placeholder,e,_,x,a,s,l-m)}var j=f?e:this,A=h?j[t]:t;return m=_.length,a?_=mo(_,a):p&&m>1&&_.reverse(),c&&s<m&&(_.length=s),this&&this!==Ht&&this instanceof g&&(A=v||ki(A)),A.apply(j,_)}}function Si(t,n){return function(e,r){return function(t,n,e,r){return sr(t,(function(t,i,o){n(r,e(t),i,o)})),r}(e,t,n(r),{})}}function $i(t,n){return function(e,r){var i;if(void 0===e&&void 0===r)return n;if(void 0!==e&&(i=e),void 0!==r){if(void 0===i)return r;"string"==typeof e||"string"==typeof r?(e=Zr(e),r=Zr(r)):(e=Gr(e),r=Gr(r)),i=t(e,r)}return i}}function Ei(t){return Hi((function(n){return n=fn(n,Pn(Gi())),Rr((function(e){var r=this;return t(n,(function(t){return en(t,r,e)}))}))}))}function zi(t,n){var e=(n=void 0===n?" ":Zr(n)).length;if(e<2)return e?Lr(n,t):n;var r=Lr(n,Qn(t/Fn(n)));return Ln(n)?li(Hn(r),0,t).join(""):r.slice(0,t)}function Ni(t){return function(n,e,r){return r&&"number"!=typeof r&&ao(n,e,r)&&(e=r=void 0),n=ea(n),void 0===e?(e=n,n=0):e=ea(e),function(t,n,e,r){for(var i=-1,o=ue(Qn((n-t)/(e||1)),0),u=ct(o);o--;)u[r?o:++i]=t,t+=e;return u}(n,e,r=void 0===r?n<e?1:-1:ea(r),t)}}function Ii(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=oa(n),e=oa(e)),t(n,e)}}function Ci(t,n,e,r,i,o,u,a,s,l){var c=8&n;n|=c?32:64,4&(n&=~(c?64:32))||(n&=-4);var f=[t,n,i,c?o:void 0,c?u:void 0,c?void 0:o,c?void 0:u,a,s,l],h=e.apply(void 0,f);return lo(t)&&yo(h,f),h.placeholder=r,xo(h,t,n)}function Oi(t){var n=pt[t];return function(t,e){if(t=oa(t),(e=null==e?0:ae(ra(e),292))&&re(t)){var r=(aa(t)+"e").split("e");return+((r=(aa(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var Li=ve&&1/qn(new ve([,-0]))[1]==1/0?function(t){return new ve(t)}:Za;function Ri(t){return function(n){var e=eo(n);return e==h?Rn(n):e==g?Bn(n):function(t,n){return fn(n,(function(n){return[n,t[n]]}))}(n,t(n))}}function Di(t,n,i,o,u,a,s,l){var c=2&n;if(!c&&"function"!=typeof t)throw new _t(e);var f=o?o.length:0;if(f||(n&=-97,o=u=void 0),s=void 0===s?s:ue(ra(s),0),l=void 0===l?l:ra(l),f-=u?u.length:0,64&n){var h=o,d=u;o=u=void 0}var p=c?void 0:Ki(t),v=[t,n,i,o,u,h,d,a,s,l];if(p&&function(t,n){var e=t[1],i=n[1],o=e|i,u=o<131,a=128==i&&8==e||128==i&&256==e&&t[7].length<=n[8]||384==i&&n[7].length<=n[8]&&8==e;if(!u&&!a)return t;1&i&&(t[2]=n[2],o|=1&e?0:4);var s=n[3];if(s){var l=t[3];t[3]=l?vi(l,s,n[4]):s,t[4]=l?Un(t[3],r):n[4]}(s=n[5])&&(l=t[5],t[5]=l?gi(l,s,n[6]):s,t[6]=l?Un(t[5],r):n[6]);(s=n[7])&&(t[7]=s);128&i&&(t[8]=null==t[8]?n[8]:ae(t[8],n[8]));null==t[9]&&(t[9]=n[9]);t[0]=n[0],t[1]=o}(v,p),t=v[0],n=v[1],i=v[2],o=v[3],u=v[4],!(l=v[9]=void 0===v[9]?c?0:t.length:ue(v[9]-f,0))&&24&n&&(n&=-25),n&&1!=n)g=8==n||16==n?function(t,n,e){var r=ki(t);return function i(){for(var o=arguments.length,u=ct(o),a=o,s=Xi(i);a--;)u[a]=arguments[a];var l=o<3&&u[0]!==s&&u[o-1]!==s?[]:Un(u,s);if((o-=l.length)<e)return Ci(t,n,Pi,i.placeholder,void 0,u,l,void 0,void 0,e-o);var c=this&&this!==Ht&&this instanceof i?r:t;return en(c,this,u)}}(t,n,l):32!=n&&33!=n||u.length?Pi.apply(void 0,v):function(t,n,e,r){var i=1&n,o=ki(t);return function n(){for(var u=-1,a=arguments.length,s=-1,l=r.length,c=ct(l+a),f=this&&this!==Ht&&this instanceof n?o:t;++s<l;)c[s]=r[s];for(;a--;)c[s++]=arguments[++u];return en(f,i?e:this,c)}}(t,n,i,o);else var g=function(t,n,e){var r=1&n,i=ki(t);return function n(){var o=this&&this!==Ht&&this instanceof n?i:t;return o.apply(r?e:this,arguments)}}(t,n,i);return xo((p?Br:yo)(g,v),t,n)}function Ui(t,n,e,r){return void 0===t||Su(t,bt[e])&&!At.call(r,e)?n:t}function qi(t,n,e,r,i,o){return Fu(t)&&Fu(n)&&(o.set(n,t),$r(t,n,void 0,qi,o),o.delete(n)),t}function Bi(t){return Ku(t)?void 0:t}function Fi(t,n,e,r,i,o){var u=1&e,a=t.length,s=n.length;if(a!=s&&!(u&&s>a))return!1;var l=o.get(t);if(l&&o.get(n))return l==n;var c=-1,f=!0,h=2&e?new Oe:void 0;for(o.set(t,n),o.set(n,t);++c<a;){var d=t[c],p=n[c];if(r)var v=u?r(p,d,c,n,t,o):r(d,p,c,t,n,o);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!vn(n,(function(t,n){if(!$n(h,n)&&(d===t||i(d,t,e,r,o)))return h.push(n)}))){f=!1;break}}else if(d!==p&&!i(d,p,e,r,o)){f=!1;break}}return o.delete(t),o.delete(n),f}function Hi(t){return bo(vo(t,void 0,Io),t+"")}function Wi(t){return hr(t,wa,to)}function Vi(t){return hr(t,ba,no)}var Ki=_e?function(t){return _e.get(t)}:Za;function Yi(t){for(var n=t.name+"",e=ye[n],r=At.call(ye,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function Xi(t){return(At.call(Pe,"placeholder")?Pe:t).placeholder}function Gi(){var t=Pe.iteratee||Ka;return t=t===Ka?jr:t,arguments.length?t(arguments[0],arguments[1]):t}function Zi(t,n){var e,r,i=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?i["string"==typeof n?"string":"hash"]:i.map}function Ji(t){for(var n=wa(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,ho(i)]}return n}function Qi(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return xr(e)?e:void 0}var to=ne?function(t){return null==t?[]:(t=vt(t),sn(ne(t),(function(n){return Xt.call(t,n)})))}:is,no=ne?function(t){for(var n=[];t;)hn(n,to(t)),t=Vt(t);return n}:is,eo=dr;function ro(t,n,e){for(var r=-1,i=(n=ai(n,t)).length,o=!1;++r<i;){var u=To(n[r]);if(!(o=null!=t&&e(t,u)))break;t=t[u]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Bu(i)&&uo(u,i)&&(Nu(t)||zu(t))}function io(t){return"function"!=typeof t.constructor||fo(t)?{}:Se(Vt(t))}function oo(t){return Nu(t)||zu(t)||!!(An&&t&&t[An])}function uo(t,n){var e=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&ot.test(t))&&t>-1&&t%1==0&&t<n}function ao(t,n,e){if(!Fu(e))return!1;var r=typeof n;return!!("number"==r?Cu(e)&&uo(n,e.length):"string"==r&&n in e)&&Su(e[n],t)}function so(t,n){if(Nu(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Zu(t))||(q.test(t)||!U.test(t)||null!=n&&t in vt(n))}function lo(t){var n=Yi(t),e=Pe[n];if("function"!=typeof e||!(n in ze.prototype))return!1;if(t===e)return!0;var r=Ki(e);return!!r&&t===r[0]}(he&&eo(new he(new ArrayBuffer(1)))!=b||de&&eo(new de)!=h||pe&&"[object Promise]"!=eo(pe.resolve())||ve&&eo(new ve)!=g||ge&&eo(new ge)!=y)&&(eo=function(t){var n=dr(t),e=n==p?t.constructor:void 0,r=e?Mo(e):"";if(r)switch(r){case we:return b;case be:return h;case xe:return"[object Promise]";case je:return g;case Ae:return y}return n});var co=xt?Uu:os;function fo(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||bt)}function ho(t){return t==t&&!Fu(t)}function po(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in vt(e)))}}function vo(t,n,e){return n=ue(void 0===n?t.length-1:n,0),function(){for(var r=arguments,i=-1,o=ue(r.length-n,0),u=ct(o);++i<o;)u[i]=r[n+i];i=-1;for(var a=ct(n+1);++i<n;)a[i]=r[i];return a[n]=e(u),en(t,this,a)}}function go(t,n){return n.length<2?t:fr(t,Wr(n,0,-1))}function mo(t,n){for(var e=t.length,r=ae(n.length,e),i=mi(t);r--;){var o=n[r];t[r]=uo(o,e)?i[o]:void 0}return t}function _o(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var yo=jo(Br),wo=Jn||function(t,n){return Ht.setTimeout(t,n)},bo=jo(Fr);function xo(t,n,e){var r=n+"";return bo(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(Y,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return on(i,(function(e){var r="_."+e[0];n&e[1]&&!ln(t,r)&&t.push(r)})),t.sort()}(function(t){var n=t.match(X);return n?n[1].split(G):[]}(r),e)))}function jo(t){var n=0,e=0;return function(){var r=se(),i=16-(r-e);if(e=r,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function Ao(t,n){var e=-1,r=t.length,i=r-1;for(n=void 0===n?r:n;++e<n;){var o=Or(e,i),u=t[o];t[o]=t[e],t[e]=u}return t.length=n,t}var ko=function(t){var n=ju(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(B,(function(t,e,r,i){n.push(r?i.replace(J,"$1"):e||t)})),n}));function To(t){if("string"==typeof t||Zu(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Mo(t){if(null!=t){try{return jt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Po(t){if(t instanceof ze)return t.clone();var n=new Ee(t.__wrapped__,t.__chain__);return n.__actions__=mi(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var So=Rr((function(t,n){return Ou(t)?Qe(t,or(n,1,Ou,!0)):[]})),$o=Rr((function(t,n){var e=Do(n);return Ou(e)&&(e=void 0),Ou(t)?Qe(t,or(n,1,Ou,!0),Gi(e,2)):[]})),Eo=Rr((function(t,n){var e=Do(n);return Ou(e)&&(e=void 0),Ou(t)?Qe(t,or(n,1,Ou,!0),void 0,e):[]}));function zo(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ra(e);return i<0&&(i=ue(r+i,0)),_n(t,Gi(n,3),i)}function No(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==e&&(i=ra(e),i=e<0?ue(r+i,0):ae(i,r-1)),_n(t,Gi(n,3),i,!0)}function Io(t){return(null==t?0:t.length)?or(t,1):[]}function Co(t){return t&&t.length?t[0]:void 0}var Oo=Rr((function(t){var n=fn(t,oi);return n.length&&n[0]===t[0]?mr(n):[]})),Lo=Rr((function(t){var n=Do(t),e=fn(t,oi);return n===Do(e)?n=void 0:e.pop(),e.length&&e[0]===t[0]?mr(e,Gi(n,2)):[]})),Ro=Rr((function(t){var n=Do(t),e=fn(t,oi);return(n="function"==typeof n?n:void 0)&&e.pop(),e.length&&e[0]===t[0]?mr(e,void 0,n):[]}));function Do(t){var n=null==t?0:t.length;return n?t[n-1]:void 0}var Uo=Rr(qo);function qo(t,n){return t&&t.length&&n&&n.length?Ir(t,n):t}var Bo=Hi((function(t,n){var e=null==t?0:t.length,r=Ye(t,n);return Cr(t,fn(n,(function(t){return uo(t,e)?+t:t})).sort(pi)),r}));function Fo(t){return null==t?t:fe.call(t)}var Ho=Rr((function(t){return Jr(or(t,1,Ou,!0))})),Wo=Rr((function(t){var n=Do(t);return Ou(n)&&(n=void 0),Jr(or(t,1,Ou,!0),Gi(n,2))})),Vo=Rr((function(t){var n=Do(t);return n="function"==typeof n?n:void 0,Jr(or(t,1,Ou,!0),void 0,n)}));function Ko(t){if(!t||!t.length)return[];var n=0;return t=sn(t,(function(t){if(Ou(t))return n=ue(t.length,n),!0})),Mn(n,(function(n){return fn(t,jn(n))}))}function Yo(t,n){if(!t||!t.length)return[];var e=Ko(t);return null==n?e:fn(e,(function(t){return en(n,void 0,t)}))}var Xo=Rr((function(t,n){return Ou(t)?Qe(t,n):[]})),Go=Rr((function(t){return ri(sn(t,Ou))})),Zo=Rr((function(t){var n=Do(t);return Ou(n)&&(n=void 0),ri(sn(t,Ou),Gi(n,2))})),Jo=Rr((function(t){var n=Do(t);return n="function"==typeof n?n:void 0,ri(sn(t,Ou),void 0,n)})),Qo=Rr(Ko);var tu=Rr((function(t){var n=t.length,e=n>1?t[n-1]:void 0;return e="function"==typeof e?(t.pop(),e):void 0,Yo(t,e)}));function nu(t){var n=Pe(t);return n.__chain__=!0,n}function eu(t,n){return n(t)}var ru=Hi((function(t){var n=t.length,e=n?t[0]:0,r=this.__wrapped__,i=function(n){return Ye(n,t)};return!(n>1||this.__actions__.length)&&r instanceof ze&&uo(e)?((r=r.slice(e,+e+(n?1:0))).__actions__.push({func:eu,args:[i],thisArg:void 0}),new Ee(r,this.__chain__).thru((function(t){return n&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var iu=yi((function(t,n,e){At.call(t,e)?++t[e]:Ke(t,e,1)}));var ou=Ti(zo),uu=Ti(No);function au(t,n){return(Nu(t)?on:tr)(t,Gi(n,3))}function su(t,n){return(Nu(t)?un:nr)(t,Gi(n,3))}var lu=yi((function(t,n,e){At.call(t,e)?t[e].push(n):Ke(t,e,[n])}));var cu=Rr((function(t,n,e){var r=-1,i="function"==typeof n,o=Cu(t)?ct(t.length):[];return tr(t,(function(t){o[++r]=i?en(n,t,e):_r(t,n,e)})),o})),fu=yi((function(t,n,e){Ke(t,e,n)}));function hu(t,n){return(Nu(t)?fn:Mr)(t,Gi(n,3))}var du=yi((function(t,n,e){t[e?0:1].push(n)}),(function(){return[[],[]]}));var pu=Rr((function(t,n){if(null==t)return[];var e=n.length;return e>1&&ao(t,n[0],n[1])?n=[]:e>2&&ao(n[0],n[1],n[2])&&(n=[n[0]]),zr(t,or(n,1),[])})),vu=Zn||function(){return Ht.Date.now()};function gu(t,n,e){return n=e?void 0:n,Di(t,128,void 0,void 0,void 0,void 0,n=t&&null==n?t.length:n)}function mu(t,n){var r;if("function"!=typeof n)throw new _t(e);return t=ra(t),function(){return--t>0&&(r=n.apply(this,arguments)),t<=1&&(n=void 0),r}}var _u=Rr((function(t,n,e){var r=1;if(e.length){var i=Un(e,Xi(_u));r|=32}return Di(t,r,n,e,i)})),yu=Rr((function(t,n,e){var r=3;if(e.length){var i=Un(e,Xi(yu));r|=32}return Di(n,r,t,e,i)}));function wu(t,n,r){var i,o,u,a,s,l,c=0,f=!1,h=!1,d=!0;if("function"!=typeof t)throw new _t(e);function p(n){var e=i,r=o;return i=o=void 0,c=n,a=t.apply(r,e)}function v(t){return c=t,s=wo(m,n),f?p(t):a}function g(t){var e=t-l;return void 0===l||e>=n||e<0||h&&t-c>=u}function m(){var t=vu();if(g(t))return _(t);s=wo(m,function(t){var e=n-(t-l);return h?ae(e,u-(t-c)):e}(t))}function _(t){return s=void 0,d&&i?p(t):(i=o=void 0,a)}function y(){var t=vu(),e=g(t);if(i=arguments,o=this,l=t,e){if(void 0===s)return v(l);if(h)return ci(s),s=wo(m,n),p(l)}return void 0===s&&(s=wo(m,n)),a}return n=oa(n)||0,Fu(r)&&(f=!!r.leading,u=(h="maxWait"in r)?ue(oa(r.maxWait)||0,n):u,d="trailing"in r?!!r.trailing:d),y.cancel=function(){void 0!==s&&ci(s),c=0,i=l=o=s=void 0},y.flush=function(){return void 0===s?a:_(vu())},y}var bu=Rr((function(t,n){return Je(t,1,n)})),xu=Rr((function(t,n,e){return Je(t,oa(n)||0,e)}));function ju(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new _t(e);var r=function(){var e=arguments,i=n?n.apply(this,e):e[0],o=r.cache;if(o.has(i))return o.get(i);var u=t.apply(this,e);return r.cache=o.set(i,u)||o,u};return r.cache=new(ju.Cache||Ce),r}function Au(t){if("function"!=typeof t)throw new _t(e);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}ju.Cache=Ce;var ku=si((function(t,n){var e=(n=1==n.length&&Nu(n[0])?fn(n[0],Pn(Gi())):fn(or(n,1),Pn(Gi()))).length;return Rr((function(r){for(var i=-1,o=ae(r.length,e);++i<o;)r[i]=n[i].call(this,r[i]);return en(t,this,r)}))})),Tu=Rr((function(t,n){return Di(t,32,void 0,n,Un(n,Xi(Tu)))})),Mu=Rr((function(t,n){return Di(t,64,void 0,n,Un(n,Xi(Mu)))})),Pu=Hi((function(t,n){return Di(t,256,void 0,void 0,void 0,n)}));function Su(t,n){return t===n||t!=t&&n!=n}var $u=Ii(pr),Eu=Ii((function(t,n){return t>=n})),zu=yr(function(){return arguments}())?yr:function(t){return Hu(t)&&At.call(t,"callee")&&!Xt.call(t,"callee")},Nu=ct.isArray,Iu=Gt?Pn(Gt):function(t){return Hu(t)&&dr(t)==w};function Cu(t){return null!=t&&Bu(t.length)&&!Uu(t)}function Ou(t){return Hu(t)&&Cu(t)}var Lu=ee||os,Ru=Zt?Pn(Zt):function(t){return Hu(t)&&dr(t)==s};function Du(t){if(!Hu(t))return!1;var n=dr(t);return n==l||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!Ku(t)}function Uu(t){if(!Fu(t))return!1;var n=dr(t);return n==c||n==f||"[object AsyncFunction]"==n||"[object Proxy]"==n}function qu(t){return"number"==typeof t&&t==ra(t)}function Bu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Fu(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Hu(t){return null!=t&&"object"==typeof t}var Wu=Jt?Pn(Jt):function(t){return Hu(t)&&eo(t)==h};function Vu(t){return"number"==typeof t||Hu(t)&&dr(t)==d}function Ku(t){if(!Hu(t)||dr(t)!=p)return!1;var n=Vt(t);if(null===n)return!0;var e=At.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&jt.call(e)==Pt}var Yu=Qt?Pn(Qt):function(t){return Hu(t)&&dr(t)==v};var Xu=tn?Pn(tn):function(t){return Hu(t)&&eo(t)==g};function Gu(t){return"string"==typeof t||!Nu(t)&&Hu(t)&&dr(t)==m}function Zu(t){return"symbol"==typeof t||Hu(t)&&dr(t)==_}var Ju=nn?Pn(nn):function(t){return Hu(t)&&Bu(t.length)&&!!Lt[dr(t)]};var Qu=Ii(Tr),ta=Ii((function(t,n){return t<=n}));function na(t){if(!t)return[];if(Cu(t))return Gu(t)?Hn(t):mi(t);if(Kn&&t[Kn])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[Kn]());var n=eo(t);return(n==h?Rn:n==g?qn:Sa)(t)}function ea(t){return t?(t=oa(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ra(t){var n=ea(t),e=n%1;return n==n?e?n-e:n:0}function ia(t){return t?Xe(ra(t),0,4294967295):0}function oa(t){if("number"==typeof t)return t;if(Zu(t))return NaN;if(Fu(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Fu(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(W,"");var e=et.test(t);return e||it.test(t)?qt(t.slice(2),e?2:8):nt.test(t)?NaN:+t}function ua(t){return _i(t,ba(t))}function aa(t){return null==t?"":Zr(t)}var sa=wi((function(t,n){if(fo(n)||Cu(n))_i(n,wa(n),t);else for(var e in n)At.call(n,e)&&Fe(t,e,n[e])})),la=wi((function(t,n){_i(n,ba(n),t)})),ca=wi((function(t,n,e,r){_i(n,ba(n),t,r)})),fa=wi((function(t,n,e,r){_i(n,wa(n),t,r)})),ha=Hi(Ye);var da=Rr((function(t,n){t=vt(t);var e=-1,r=n.length,i=r>2?n[2]:void 0;for(i&&ao(n[0],n[1],i)&&(r=1);++e<r;)for(var o=n[e],u=ba(o),a=-1,s=u.length;++a<s;){var l=u[a],c=t[l];(void 0===c||Su(c,bt[l])&&!At.call(t,l))&&(t[l]=o[l])}return t})),pa=Rr((function(t){return t.push(void 0,qi),en(ja,void 0,t)}));function va(t,n,e){var r=null==t?void 0:fr(t,n);return void 0===r?e:r}function ga(t,n){return null!=t&&ro(t,n,gr)}var ma=Si((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Mt.call(n)),t[n]=e}),Fa(Va)),_a=Si((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Mt.call(n)),At.call(t,n)?t[n].push(e):t[n]=[e]}),Gi),ya=Rr(_r);function wa(t){return Cu(t)?Re(t):Ar(t)}function ba(t){return Cu(t)?Re(t,!0):kr(t)}var xa=wi((function(t,n,e){$r(t,n,e)})),ja=wi((function(t,n,e,r){$r(t,n,e,r)})),Aa=Hi((function(t,n){var e={};if(null==t)return e;var r=!1;n=fn(n,(function(n){return n=ai(n,t),r||(r=n.length>1),n})),_i(t,Vi(t),e),r&&(e=Ge(e,7,Bi));for(var i=n.length;i--;)Qr(e,n[i]);return e}));var ka=Hi((function(t,n){return null==t?{}:function(t,n){return Nr(t,n,(function(n,e){return ga(t,e)}))}(t,n)}));function Ta(t,n){if(null==t)return{};var e=fn(Vi(t),(function(t){return[t]}));return n=Gi(n),Nr(t,e,(function(t,e){return n(t,e[0])}))}var Ma=Ri(wa),Pa=Ri(ba);function Sa(t){return null==t?[]:Sn(t,wa(t))}var $a=Ai((function(t,n,e){return n=n.toLowerCase(),t+(e?Ea(n):n)}));function Ea(t){return Da(aa(t).toLowerCase())}function za(t){return(t=aa(t))&&t.replace(ut,In).replace($t,"")}var Na=Ai((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()})),Ia=Ai((function(t,n,e){return t+(e?" ":"")+n.toLowerCase()})),Ca=ji("toLowerCase");var Oa=Ai((function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}));var La=Ai((function(t,n,e){return t+(e?" ":"")+Da(n)}));var Ra=Ai((function(t,n,e){return t+(e?" ":"")+n.toUpperCase()})),Da=ji("toUpperCase");function Ua(t,n,e){return t=aa(t),void 0===(n=e?void 0:n)?function(t){return It.test(t)}(t)?function(t){return t.match(zt)||[]}(t):function(t){return t.match(Z)||[]}(t):t.match(n)||[]}var qa=Rr((function(t,n){try{return en(t,void 0,n)}catch(t){return Du(t)?t:new ht(t)}})),Ba=Hi((function(t,n){return on(n,(function(n){n=To(n),Ke(t,n,_u(t[n],t))})),t}));function Fa(t){return function(){return t}}var Ha=Mi(),Wa=Mi(!0);function Va(t){return t}function Ka(t){return jr("function"==typeof t?t:Ge(t,1))}var Ya=Rr((function(t,n){return function(e){return _r(e,t,n)}})),Xa=Rr((function(t,n){return function(e){return _r(t,e,n)}}));function Ga(t,n,e){var r=wa(n),i=cr(n,r);null!=e||Fu(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=cr(n,wa(n)));var o=!(Fu(e)&&"chain"in e&&!e.chain),u=Uu(t);return on(i,(function(e){var r=n[e];t[e]=r,u&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__),i=e.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,hn([this.value()],arguments))})})),t}function Za(){}var Ja=Ei(fn),Qa=Ei(an),ts=Ei(vn);function ns(t){return so(t)?jn(To(t)):function(t){return function(n){return fr(n,t)}}(t)}var es=Ni(),rs=Ni(!0);function is(){return[]}function os(){return!1}var us=$i((function(t,n){return t+n}),0),as=Oi("ceil"),ss=$i((function(t,n){return t/n}),1),ls=Oi("floor");var cs,fs=$i((function(t,n){return t*n}),1),hs=Oi("round"),ds=$i((function(t,n){return t-n}),0);return Pe.after=function(t,n){if("function"!=typeof n)throw new _t(e);return t=ra(t),function(){if(--t<1)return n.apply(this,arguments)}},Pe.ary=gu,Pe.assign=sa,Pe.assignIn=la,Pe.assignInWith=ca,Pe.assignWith=fa,Pe.at=ha,Pe.before=mu,Pe.bind=_u,Pe.bindAll=Ba,Pe.bindKey=yu,Pe.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Nu(t)?t:[t]},Pe.chain=nu,Pe.chunk=function(t,n,e){n=(e?ao(t,n,e):void 0===n)?1:ue(ra(n),0);var r=null==t?0:t.length;if(!r||n<1)return[];for(var i=0,o=0,u=ct(Qn(r/n));i<r;)u[o++]=Wr(t,i,i+=n);return u},Pe.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var o=t[n];o&&(i[r++]=o)}return i},Pe.concat=function(){var t=arguments.length;if(!t)return[];for(var n=ct(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return hn(Nu(e)?mi(e):[e],or(n,1))},Pe.cond=function(t){var n=null==t?0:t.length,r=Gi();return t=n?fn(t,(function(t){if("function"!=typeof t[1])throw new _t(e);return[r(t[0]),t[1]]})):[],Rr((function(e){for(var r=-1;++r<n;){var i=t[r];if(en(i[0],this,e))return en(i[1],this,e)}}))},Pe.conforms=function(t){return function(t){var n=wa(t);return function(e){return Ze(e,t,n)}}(Ge(t,1))},Pe.constant=Fa,Pe.countBy=iu,Pe.create=function(t,n){var e=Se(t);return null==n?e:Ve(e,n)},Pe.curry=function t(n,e,r){var i=Di(n,8,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return i.placeholder=t.placeholder,i},Pe.curryRight=function t(n,e,r){var i=Di(n,16,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return i.placeholder=t.placeholder,i},Pe.debounce=wu,Pe.defaults=da,Pe.defaultsDeep=pa,Pe.defer=bu,Pe.delay=xu,Pe.difference=So,Pe.differenceBy=$o,Pe.differenceWith=Eo,Pe.drop=function(t,n,e){var r=null==t?0:t.length;return r?Wr(t,(n=e||void 0===n?1:ra(n))<0?0:n,r):[]},Pe.dropRight=function(t,n,e){var r=null==t?0:t.length;return r?Wr(t,0,(n=r-(n=e||void 0===n?1:ra(n)))<0?0:n):[]},Pe.dropRightWhile=function(t,n){return t&&t.length?ni(t,Gi(n,3),!0,!0):[]},Pe.dropWhile=function(t,n){return t&&t.length?ni(t,Gi(n,3),!0):[]},Pe.fill=function(t,n,e,r){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&ao(t,n,e)&&(e=0,r=i),function(t,n,e,r){var i=t.length;for((e=ra(e))<0&&(e=-e>i?0:i+e),(r=void 0===r||r>i?i:ra(r))<0&&(r+=i),r=e>r?0:ia(r);e<r;)t[e++]=n;return t}(t,n,e,r)):[]},Pe.filter=function(t,n){return(Nu(t)?sn:ir)(t,Gi(n,3))},Pe.flatMap=function(t,n){return or(hu(t,n),1)},Pe.flatMapDeep=function(t,n){return or(hu(t,n),1/0)},Pe.flatMapDepth=function(t,n,e){return e=void 0===e?1:ra(e),or(hu(t,n),e)},Pe.flatten=Io,Pe.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},Pe.flattenDepth=function(t,n){return(null==t?0:t.length)?or(t,n=void 0===n?1:ra(n)):[]},Pe.flip=function(t){return Di(t,512)},Pe.flow=Ha,Pe.flowRight=Wa,Pe.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},Pe.functions=function(t){return null==t?[]:cr(t,wa(t))},Pe.functionsIn=function(t){return null==t?[]:cr(t,ba(t))},Pe.groupBy=lu,Pe.initial=function(t){return(null==t?0:t.length)?Wr(t,0,-1):[]},Pe.intersection=Oo,Pe.intersectionBy=Lo,Pe.intersectionWith=Ro,Pe.invert=ma,Pe.invertBy=_a,Pe.invokeMap=cu,Pe.iteratee=Ka,Pe.keyBy=fu,Pe.keys=wa,Pe.keysIn=ba,Pe.map=hu,Pe.mapKeys=function(t,n){var e={};return n=Gi(n,3),sr(t,(function(t,r,i){Ke(e,n(t,r,i),t)})),e},Pe.mapValues=function(t,n){var e={};return n=Gi(n,3),sr(t,(function(t,r,i){Ke(e,r,n(t,r,i))})),e},Pe.matches=function(t){return Pr(Ge(t,1))},Pe.matchesProperty=function(t,n){return Sr(t,Ge(n,1))},Pe.memoize=ju,Pe.merge=xa,Pe.mergeWith=ja,Pe.method=Ya,Pe.methodOf=Xa,Pe.mixin=Ga,Pe.negate=Au,Pe.nthArg=function(t){return t=ra(t),Rr((function(n){return Er(n,t)}))},Pe.omit=Aa,Pe.omitBy=function(t,n){return Ta(t,Au(Gi(n)))},Pe.once=function(t){return mu(2,t)},Pe.orderBy=function(t,n,e,r){return null==t?[]:(Nu(n)||(n=null==n?[]:[n]),Nu(e=r?void 0:e)||(e=null==e?[]:[e]),zr(t,n,e))},Pe.over=Ja,Pe.overArgs=ku,Pe.overEvery=Qa,Pe.overSome=ts,Pe.partial=Tu,Pe.partialRight=Mu,Pe.partition=du,Pe.pick=ka,Pe.pickBy=Ta,Pe.property=ns,Pe.propertyOf=function(t){return function(n){return null==t?void 0:fr(t,n)}},Pe.pull=Uo,Pe.pullAll=qo,Pe.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?Ir(t,n,Gi(e,2)):t},Pe.pullAllWith=function(t,n,e){return t&&t.length&&n&&n.length?Ir(t,n,void 0,e):t},Pe.pullAt=Bo,Pe.range=es,Pe.rangeRight=rs,Pe.rearg=Pu,Pe.reject=function(t,n){return(Nu(t)?sn:ir)(t,Au(Gi(n,3)))},Pe.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=Gi(n,3);++r<o;){var u=t[r];n(u,r,t)&&(e.push(u),i.push(r))}return Cr(t,i),e},Pe.rest=function(t,n){if("function"!=typeof t)throw new _t(e);return Rr(t,n=void 0===n?n:ra(n))},Pe.reverse=Fo,Pe.sampleSize=function(t,n,e){return n=(e?ao(t,n,e):void 0===n)?1:ra(n),(Nu(t)?Ue:Ur)(t,n)},Pe.set=function(t,n,e){return null==t?t:qr(t,n,e)},Pe.setWith=function(t,n,e,r){return r="function"==typeof r?r:void 0,null==t?t:qr(t,n,e,r)},Pe.shuffle=function(t){return(Nu(t)?qe:Hr)(t)},Pe.slice=function(t,n,e){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&ao(t,n,e)?(n=0,e=r):(n=null==n?0:ra(n),e=void 0===e?r:ra(e)),Wr(t,n,e)):[]},Pe.sortBy=pu,Pe.sortedUniq=function(t){return t&&t.length?Xr(t):[]},Pe.sortedUniqBy=function(t,n){return t&&t.length?Xr(t,Gi(n,2)):[]},Pe.split=function(t,n,e){return e&&"number"!=typeof e&&ao(t,n,e)&&(n=e=void 0),(e=void 0===e?4294967295:e>>>0)?(t=aa(t))&&("string"==typeof n||null!=n&&!Yu(n))&&!(n=Zr(n))&&Ln(t)?li(Hn(t),0,e):t.split(n,e):[]},Pe.spread=function(t,n){if("function"!=typeof t)throw new _t(e);return n=null==n?0:ue(ra(n),0),Rr((function(e){var r=e[n],i=li(e,0,n);return r&&hn(i,r),en(t,this,i)}))},Pe.tail=function(t){var n=null==t?0:t.length;return n?Wr(t,1,n):[]},Pe.take=function(t,n,e){return t&&t.length?Wr(t,0,(n=e||void 0===n?1:ra(n))<0?0:n):[]},Pe.takeRight=function(t,n,e){var r=null==t?0:t.length;return r?Wr(t,(n=r-(n=e||void 0===n?1:ra(n)))<0?0:n,r):[]},Pe.takeRightWhile=function(t,n){return t&&t.length?ni(t,Gi(n,3),!1,!0):[]},Pe.takeWhile=function(t,n){return t&&t.length?ni(t,Gi(n,3)):[]},Pe.tap=function(t,n){return n(t),t},Pe.throttle=function(t,n,r){var i=!0,o=!0;if("function"!=typeof t)throw new _t(e);return Fu(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),wu(t,n,{leading:i,maxWait:n,trailing:o})},Pe.thru=eu,Pe.toArray=na,Pe.toPairs=Ma,Pe.toPairsIn=Pa,Pe.toPath=function(t){return Nu(t)?fn(t,To):Zu(t)?[t]:mi(ko(aa(t)))},Pe.toPlainObject=ua,Pe.transform=function(t,n,e){var r=Nu(t),i=r||Lu(t)||Ju(t);if(n=Gi(n,4),null==e){var o=t&&t.constructor;e=i?r?new o:[]:Fu(t)&&Uu(o)?Se(Vt(t)):{}}return(i?on:sr)(t,(function(t,r,i){return n(e,t,r,i)})),e},Pe.unary=function(t){return gu(t,1)},Pe.union=Ho,Pe.unionBy=Wo,Pe.unionWith=Vo,Pe.uniq=function(t){return t&&t.length?Jr(t):[]},Pe.uniqBy=function(t,n){return t&&t.length?Jr(t,Gi(n,2)):[]},Pe.uniqWith=function(t,n){return n="function"==typeof n?n:void 0,t&&t.length?Jr(t,void 0,n):[]},Pe.unset=function(t,n){return null==t||Qr(t,n)},Pe.unzip=Ko,Pe.unzipWith=Yo,Pe.update=function(t,n,e){return null==t?t:ti(t,n,ui(e))},Pe.updateWith=function(t,n,e,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,n,ui(e),r)},Pe.values=Sa,Pe.valuesIn=function(t){return null==t?[]:Sn(t,ba(t))},Pe.without=Xo,Pe.words=Ua,Pe.wrap=function(t,n){return Tu(ui(n),t)},Pe.xor=Go,Pe.xorBy=Zo,Pe.xorWith=Jo,Pe.zip=Qo,Pe.zipObject=function(t,n){return ii(t||[],n||[],Fe)},Pe.zipObjectDeep=function(t,n){return ii(t||[],n||[],qr)},Pe.zipWith=tu,Pe.entries=Ma,Pe.entriesIn=Pa,Pe.extend=la,Pe.extendWith=ca,Ga(Pe,Pe),Pe.add=us,Pe.attempt=qa,Pe.camelCase=$a,Pe.capitalize=Ea,Pe.ceil=as,Pe.clamp=function(t,n,e){return void 0===e&&(e=n,n=void 0),void 0!==e&&(e=(e=oa(e))==e?e:0),void 0!==n&&(n=(n=oa(n))==n?n:0),Xe(oa(t),n,e)},Pe.clone=function(t){return Ge(t,4)},Pe.cloneDeep=function(t){return Ge(t,5)},Pe.cloneDeepWith=function(t,n){return Ge(t,5,n="function"==typeof n?n:void 0)},Pe.cloneWith=function(t,n){return Ge(t,4,n="function"==typeof n?n:void 0)},Pe.conformsTo=function(t,n){return null==n||Ze(t,n,wa(n))},Pe.deburr=za,Pe.defaultTo=function(t,n){return null==t||t!=t?n:t},Pe.divide=ss,Pe.endsWith=function(t,n,e){t=aa(t),n=Zr(n);var r=t.length,i=e=void 0===e?r:Xe(ra(e),0,r);return(e-=n.length)>=0&&t.slice(e,i)==n},Pe.eq=Su,Pe.escape=function(t){return(t=aa(t))&&O.test(t)?t.replace(I,Cn):t},Pe.escapeRegExp=function(t){return(t=aa(t))&&H.test(t)?t.replace(F,"\\$&"):t},Pe.every=function(t,n,e){var r=Nu(t)?an:er;return e&&ao(t,n,e)&&(n=void 0),r(t,Gi(n,3))},Pe.find=ou,Pe.findIndex=zo,Pe.findKey=function(t,n){return mn(t,Gi(n,3),sr)},Pe.findLast=uu,Pe.findLastIndex=No,Pe.findLastKey=function(t,n){return mn(t,Gi(n,3),lr)},Pe.floor=ls,Pe.forEach=au,Pe.forEachRight=su,Pe.forIn=function(t,n){return null==t?t:ur(t,Gi(n,3),ba)},Pe.forInRight=function(t,n){return null==t?t:ar(t,Gi(n,3),ba)},Pe.forOwn=function(t,n){return t&&sr(t,Gi(n,3))},Pe.forOwnRight=function(t,n){return t&&lr(t,Gi(n,3))},Pe.get=va,Pe.gt=$u,Pe.gte=Eu,Pe.has=function(t,n){return null!=t&&ro(t,n,vr)},Pe.hasIn=ga,Pe.head=Co,Pe.identity=Va,Pe.includes=function(t,n,e,r){t=Cu(t)?t:Sa(t),e=e&&!r?ra(e):0;var i=t.length;return e<0&&(e=ue(i+e,0)),Gu(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&yn(t,n,e)>-1},Pe.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ra(e);return i<0&&(i=ue(r+i,0)),yn(t,n,i)},Pe.inRange=function(t,n,e){return n=ea(n),void 0===e?(e=n,n=0):e=ea(e),function(t,n,e){return t>=ae(n,e)&&t<ue(n,e)}(t=oa(t),n,e)},Pe.invoke=ya,Pe.isArguments=zu,Pe.isArray=Nu,Pe.isArrayBuffer=Iu,Pe.isArrayLike=Cu,Pe.isArrayLikeObject=Ou,Pe.isBoolean=function(t){return!0===t||!1===t||Hu(t)&&dr(t)==a},Pe.isBuffer=Lu,Pe.isDate=Ru,Pe.isElement=function(t){return Hu(t)&&1===t.nodeType&&!Ku(t)},Pe.isEmpty=function(t){if(null==t)return!0;if(Cu(t)&&(Nu(t)||"string"==typeof t||"function"==typeof t.splice||Lu(t)||Ju(t)||zu(t)))return!t.length;var n=eo(t);if(n==h||n==g)return!t.size;if(fo(t))return!Ar(t).length;for(var e in t)if(At.call(t,e))return!1;return!0},Pe.isEqual=function(t,n){return wr(t,n)},Pe.isEqualWith=function(t,n,e){var r=(e="function"==typeof e?e:void 0)?e(t,n):void 0;return void 0===r?wr(t,n,void 0,e):!!r},Pe.isError=Du,Pe.isFinite=function(t){return"number"==typeof t&&re(t)},Pe.isFunction=Uu,Pe.isInteger=qu,Pe.isLength=Bu,Pe.isMap=Wu,Pe.isMatch=function(t,n){return t===n||br(t,n,Ji(n))},Pe.isMatchWith=function(t,n,e){return e="function"==typeof e?e:void 0,br(t,n,Ji(n),e)},Pe.isNaN=function(t){return Vu(t)&&t!=+t},Pe.isNative=function(t){if(co(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(t)},Pe.isNil=function(t){return null==t},Pe.isNull=function(t){return null===t},Pe.isNumber=Vu,Pe.isObject=Fu,Pe.isObjectLike=Hu,Pe.isPlainObject=Ku,Pe.isRegExp=Yu,Pe.isSafeInteger=function(t){return qu(t)&&t>=-9007199254740991&&t<=9007199254740991},Pe.isSet=Xu,Pe.isString=Gu,Pe.isSymbol=Zu,Pe.isTypedArray=Ju,Pe.isUndefined=function(t){return void 0===t},Pe.isWeakMap=function(t){return Hu(t)&&eo(t)==y},Pe.isWeakSet=function(t){return Hu(t)&&"[object WeakSet]"==dr(t)},Pe.join=function(t,n){return null==t?"":ie.call(t,n)},Pe.kebabCase=Na,Pe.last=Do,Pe.lastIndexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==e&&(i=(i=ra(e))<0?ue(r+i,0):ae(i,r-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,i):_n(t,bn,i,!0)},Pe.lowerCase=Ia,Pe.lowerFirst=Ca,Pe.lt=Qu,Pe.lte=ta,Pe.max=function(t){return t&&t.length?rr(t,Va,pr):void 0},Pe.maxBy=function(t,n){return t&&t.length?rr(t,Gi(n,2),pr):void 0},Pe.mean=function(t){return xn(t,Va)},Pe.meanBy=function(t,n){return xn(t,Gi(n,2))},Pe.min=function(t){return t&&t.length?rr(t,Va,Tr):void 0},Pe.minBy=function(t,n){return t&&t.length?rr(t,Gi(n,2),Tr):void 0},Pe.stubArray=is,Pe.stubFalse=os,Pe.stubObject=function(){return{}},Pe.stubString=function(){return""},Pe.stubTrue=function(){return!0},Pe.multiply=fs,Pe.nth=function(t,n){return t&&t.length?Er(t,ra(n)):void 0},Pe.noConflict=function(){return Ht._===this&&(Ht._=Et),this},Pe.noop=Za,Pe.now=vu,Pe.pad=function(t,n,e){t=aa(t);var r=(n=ra(n))?Fn(t):0;if(!n||r>=n)return t;var i=(n-r)/2;return zi(te(i),e)+t+zi(Qn(i),e)},Pe.padEnd=function(t,n,e){t=aa(t);var r=(n=ra(n))?Fn(t):0;return n&&r<n?t+zi(n-r,e):t},Pe.padStart=function(t,n,e){t=aa(t);var r=(n=ra(n))?Fn(t):0;return n&&r<n?zi(n-r,e)+t:t},Pe.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),le(aa(t).replace(V,""),n||0)},Pe.random=function(t,n,e){if(e&&"boolean"!=typeof e&&ao(t,n,e)&&(n=e=void 0),void 0===e&&("boolean"==typeof n?(e=n,n=void 0):"boolean"==typeof t&&(e=t,t=void 0)),void 0===t&&void 0===n?(t=0,n=1):(t=ea(t),void 0===n?(n=t,t=0):n=ea(n)),t>n){var r=t;t=n,n=r}if(e||t%1||n%1){var i=ce();return ae(t+i*(n-t+Ut("1e-"+((i+"").length-1))),n)}return Or(t,n)},Pe.reduce=function(t,n,e){var r=Nu(t)?dn:kn,i=arguments.length<3;return r(t,Gi(n,4),e,i,tr)},Pe.reduceRight=function(t,n,e){var r=Nu(t)?pn:kn,i=arguments.length<3;return r(t,Gi(n,4),e,i,nr)},Pe.repeat=function(t,n,e){return n=(e?ao(t,n,e):void 0===n)?1:ra(n),Lr(aa(t),n)},Pe.replace=function(){var t=arguments,n=aa(t[0]);return t.length<3?n:n.replace(t[1],t[2])},Pe.result=function(t,n,e){var r=-1,i=(n=ai(n,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[To(n[r])];void 0===o&&(r=i,o=e),t=Uu(o)?o.call(t):o}return t},Pe.round=hs,Pe.runInContext=t,Pe.sample=function(t){return(Nu(t)?De:Dr)(t)},Pe.size=function(t){if(null==t)return 0;if(Cu(t))return Gu(t)?Fn(t):t.length;var n=eo(t);return n==h||n==g?t.size:Ar(t).length},Pe.snakeCase=Oa,Pe.some=function(t,n,e){var r=Nu(t)?vn:Vr;return e&&ao(t,n,e)&&(n=void 0),r(t,Gi(n,3))},Pe.sortedIndex=function(t,n){return Kr(t,n)},Pe.sortedIndexBy=function(t,n,e){return Yr(t,n,Gi(e,2))},Pe.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=Kr(t,n);if(r<e&&Su(t[r],n))return r}return-1},Pe.sortedLastIndex=function(t,n){return Kr(t,n,!0)},Pe.sortedLastIndexBy=function(t,n,e){return Yr(t,n,Gi(e,2),!0)},Pe.sortedLastIndexOf=function(t,n){if(null==t?0:t.length){var e=Kr(t,n,!0)-1;if(Su(t[e],n))return e}return-1},Pe.startCase=La,Pe.startsWith=function(t,n,e){return t=aa(t),e=null==e?0:Xe(ra(e),0,t.length),n=Zr(n),t.slice(e,e+n.length)==n},Pe.subtract=ds,Pe.sum=function(t){return t&&t.length?Tn(t,Va):0},Pe.sumBy=function(t,n){return t&&t.length?Tn(t,Gi(n,2)):0},Pe.template=function(t,n,e){var r=Pe.templateSettings;e&&ao(t,n,e)&&(n=void 0),t=aa(t),n=ca({},n,r,Ui);var i,o,u=ca({},n.imports,r.imports,Ui),a=wa(u),s=Sn(u,a),l=0,c=n.interpolate||at,f="__p += '",h=gt((n.escape||at).source+"|"+c.source+"|"+(c===D?Q:at).source+"|"+(n.evaluate||at).source+"|$","g"),d="//# sourceURL="+(At.call(n,"sourceURL")?(n.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ot+"]")+"\n";t.replace(h,(function(n,e,r,u,a,s){return r||(r=u),f+=t.slice(l,s).replace(st,On),e&&(i=!0,f+="' +\n__e("+e+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+n.length,n})),f+="';\n";var p=At.call(n,"variable")&&n.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace($,""):f).replace(E,"$1").replace(z,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=qa((function(){return dt(a,d+"return "+f).apply(void 0,s)}));if(v.source=f,Du(v))throw v;return v},Pe.times=function(t,n){if((t=ra(t))<1||t>9007199254740991)return[];var e=4294967295,r=ae(t,4294967295);t-=4294967295;for(var i=Mn(r,n=Gi(n));++e<t;)n(e);return i},Pe.toFinite=ea,Pe.toInteger=ra,Pe.toLength=ia,Pe.toLower=function(t){return aa(t).toLowerCase()},Pe.toNumber=oa,Pe.toSafeInteger=function(t){return t?Xe(ra(t),-9007199254740991,9007199254740991):0===t?t:0},Pe.toString=aa,Pe.toUpper=function(t){return aa(t).toUpperCase()},Pe.trim=function(t,n,e){if((t=aa(t))&&(e||void 0===n))return t.replace(W,"");if(!t||!(n=Zr(n)))return t;var r=Hn(t),i=Hn(n);return li(r,En(r,i),zn(r,i)+1).join("")},Pe.trimEnd=function(t,n,e){if((t=aa(t))&&(e||void 0===n))return t.replace(K,"");if(!t||!(n=Zr(n)))return t;var r=Hn(t);return li(r,0,zn(r,Hn(n))+1).join("")},Pe.trimStart=function(t,n,e){if((t=aa(t))&&(e||void 0===n))return t.replace(V,"");if(!t||!(n=Zr(n)))return t;var r=Hn(t);return li(r,En(r,Hn(n))).join("")},Pe.truncate=function(t,n){var e=30,r="...";if(Fu(n)){var i="separator"in n?n.separator:i;e="length"in n?ra(n.length):e,r="omission"in n?Zr(n.omission):r}var o=(t=aa(t)).length;if(Ln(t)){var u=Hn(t);o=u.length}if(e>=o)return t;var a=e-Fn(r);if(a<1)return r;var s=u?li(u,0,a).join(""):t.slice(0,a);if(void 0===i)return s+r;if(u&&(a+=s.length-a),Yu(i)){if(t.slice(a).search(i)){var l,c=s;for(i.global||(i=gt(i.source,aa(tt.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var f=l.index;s=s.slice(0,void 0===f?a:f)}}else if(t.indexOf(Zr(i),a)!=a){var h=s.lastIndexOf(i);h>-1&&(s=s.slice(0,h))}return s+r},Pe.unescape=function(t){return(t=aa(t))&&C.test(t)?t.replace(N,Wn):t},Pe.uniqueId=function(t){var n=++kt;return aa(t)+n},Pe.upperCase=Ra,Pe.upperFirst=Da,Pe.each=au,Pe.eachRight=su,Pe.first=Co,Ga(Pe,(cs={},sr(Pe,(function(t,n){At.call(Pe.prototype,n)||(cs[n]=t)})),cs),{chain:!1}),Pe.VERSION="4.17.15",on(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Pe[t].placeholder=Pe})),on(["drop","take"],(function(t,n){ze.prototype[t]=function(e){e=void 0===e?1:ue(ra(e),0);var r=this.__filtered__&&!n?new ze(this):this.clone();return r.__filtered__?r.__takeCount__=ae(e,r.__takeCount__):r.__views__.push({size:ae(e,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},ze.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}})),on(["filter","map","takeWhile"],(function(t,n){var e=n+1,r=1==e||3==e;ze.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Gi(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}})),on(["head","last"],(function(t,n){var e="take"+(n?"Right":"");ze.prototype[t]=function(){return this[e](1).value()[0]}})),on(["initial","tail"],(function(t,n){var e="drop"+(n?"":"Right");ze.prototype[t]=function(){return this.__filtered__?new ze(this):this[e](1)}})),ze.prototype.compact=function(){return this.filter(Va)},ze.prototype.find=function(t){return this.filter(t).head()},ze.prototype.findLast=function(t){return this.reverse().find(t)},ze.prototype.invokeMap=Rr((function(t,n){return"function"==typeof t?new ze(this):this.map((function(e){return _r(e,t,n)}))})),ze.prototype.reject=function(t){return this.filter(Au(Gi(t)))},ze.prototype.slice=function(t,n){t=ra(t);var e=this;return e.__filtered__&&(t>0||n<0)?new ze(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),void 0!==n&&(e=(n=ra(n))<0?e.dropRight(-n):e.take(n-t)),e)},ze.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ze.prototype.toArray=function(){return this.take(4294967295)},sr(ze.prototype,(function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=Pe[r?"take"+("last"==n?"Right":""):n],o=r||/^find/.test(n);i&&(Pe.prototype[n]=function(){var n=this.__wrapped__,u=r?[1]:arguments,a=n instanceof ze,s=u[0],l=a||Nu(n),c=function(t){var n=i.apply(Pe,hn([t],u));return r&&f?n[0]:n};l&&e&&"function"==typeof s&&1!=s.length&&(a=l=!1);var f=this.__chain__,h=!!this.__actions__.length,d=o&&!f,p=a&&!h;if(!o&&l){n=p?n:new ze(this);var v=t.apply(n,u);return v.__actions__.push({func:eu,args:[c],thisArg:void 0}),new Ee(v,f)}return d&&p?t.apply(this,u):(v=this.thru(c),d?r?v.value()[0]:v.value():v)})})),on(["pop","push","shift","sort","splice","unshift"],(function(t){var n=yt[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Pe.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return n.apply(Nu(i)?i:[],t)}return this[e]((function(e){return n.apply(Nu(e)?e:[],t)}))}})),sr(ze.prototype,(function(t,n){var e=Pe[n];if(e){var r=e.name+"";At.call(ye,r)||(ye[r]=[]),ye[r].push({name:n,func:e})}})),ye[Pi(void 0,2).name]=[{name:"wrapper",func:void 0}],ze.prototype.clone=function(){var t=new ze(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},ze.prototype.reverse=function(){if(this.__filtered__){var t=new ze(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},ze.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=Nu(t),r=n<0,i=e?t.length:0,o=function(t,n,e){var r=-1,i=e.length;for(;++r<i;){var o=e[r],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":n-=u;break;case"take":n=ae(n,t+u);break;case"takeRight":t=ue(t,n-u)}}return{start:t,end:n}}(0,i,this.__views__),u=o.start,a=o.end,s=a-u,l=r?a:u-1,c=this.__iteratees__,f=c.length,h=0,d=ae(s,this.__takeCount__);if(!e||!r&&i==s&&d==s)return ei(t,this.__actions__);var p=[];t:for(;s--&&h<d;){for(var v=-1,g=t[l+=n];++v<f;){var m=c[v],_=m.iteratee,y=m.type,w=_(g);if(2==y)g=w;else if(!w){if(1==y)continue t;break t}}p[h++]=g}return p},Pe.prototype.at=ru,Pe.prototype.chain=function(){return nu(this)},Pe.prototype.commit=function(){return new Ee(this.value(),this.__chain__)},Pe.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Pe.prototype.plant=function(t){for(var n,e=this;e instanceof $e;){var r=Po(e);r.__index__=0,r.__values__=void 0,n?i.__wrapped__=r:n=r;var i=r;e=e.__wrapped__}return i.__wrapped__=t,n},Pe.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof ze){var n=t;return this.__actions__.length&&(n=new ze(this)),(n=n.reverse()).__actions__.push({func:eu,args:[Fo],thisArg:void 0}),new Ee(n,this.__chain__)}return this.thru(Fo)},Pe.prototype.toJSON=Pe.prototype.valueOf=Pe.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},Pe.prototype.first=Pe.prototype.head,Kn&&(Pe.prototype[Kn]=function(){return this}),Pe}();Vt?((Vt.exports=Vn)._=Vn,Wt._=Vn):Ht._=Vn}).call(wu)}));function bu(t,n,e){const r=getComputedStyle(t),i="none"===r.transform?"":r.transform,u=n.from.width/t.clientWidth,a=n.from.height/t.clientHeight,s=(n.from.left-n.to.left)/u,l=(n.from.top-n.to.top)/a,c=Math.sqrt(s*s+l*l),{delay:f=0,duration:h=(t=>120*Math.sqrt(t)),easing:d=yt}=e;return{delay:f,duration:o(h)?h(c):h,easing:d,css:(t,n)=>`transform: ${i} translate(${n*s}px, ${n*l}px);`}}function xu(t,n,e){const r=t.slice();return r[12]=n[e],r[14]=e,r}function ju(t,n,e){const r=t.slice();return r[15]=n[e],r}function Au(t){let n,e,r=t[1],i=[];for(let n=0;n<r.length;n+=1)i[n]=ku(ju(t,r,n));const o=t=>at(i[t],1,1,()=>{i[t]=null});return{c(){n=w("small");for(let t=0;t<i.length;t+=1)i[t].c()},m(t,r){m(t,n,r);for(let t=0;t<i.length;t+=1)i[t].m(n,null);e=!0},p(t,e){if(66&e){let u;for(r=t[1],u=0;u<r.length;u+=1){const o=ju(t,r,u);i[u]?(i[u].p(o,e),ut(i[u],1)):(i[u]=ku(o),i[u].c(),ut(i[u],1),i[u].m(n,null))}for(it(),u=r.length;u<i.length;u+=1)o(u);ot()}},i(t){if(!e){for(let t=0;t<r.length;t+=1)ut(i[t]);e=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)at(i[t]);e=!1},d(t){t&&_(n),y(i,t)}}}function ku(t){let n,e,r,i,o,u,a,s=t[15]+"";return{c(){n=w("div"),e=w("span"),r=x(""),i=j(),o=x(s),S(e,"color",t[6](t[15]))},m(t,u){m(t,n,u),g(n,e),g(e,r),g(n,i),g(n,o),a=!0},p(t,n){(!a||66&n)&&S(e,"color",t[6](t[15])),(!a||2&n)&&s!==(s=t[15]+"")&&P(o,s)},i(t){a||(K(()=>{u||(u=lt(n,bt,{},!0)),u.run(1)}),a=!0)},o(t){u||(u=lt(n,bt,{},!1)),u.run(0),a=!1},d(t){t&&_(n),t&&u&&u.end()}}}function Tu(t){let n,e,r=[],i=new Map,o=t[2];const u=t=>t[12];for(let n=0;n<o.length;n+=1){let e=xu(t,o,n),a=u(e);i.set(a,r[n]=Mu(a,e))}return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=A()},m(t,i){for(let n=0;n<r.length;n+=1)r[n].m(t,i);m(t,n,i),e=!0},p(t,e){if(5&e){const o=t[2];it();for(let t=0;t<r.length;t+=1)r[t].r();r=function(t,n,e,r,i,o,u,a,s,l,c,f){let h=t.length,d=o.length,p=h;const v={};for(;p--;)v[t[p].key]=p;const g=[],m=new Map,_=new Map;for(p=d;p--;){const t=f(i,o,p),a=e(t);let s=u.get(a);s?r&&s.p(t,n):(s=l(a,t),s.c()),m.set(a,g[p]=s),a in v&&_.set(a,Math.abs(p-v[a]))}const y=new Set,w=new Set;function b(t){ut(t,1),t.m(a,c),u.set(t.key,t),c=t.first,d--}for(;h&&d;){const n=g[d-1],e=t[h-1],r=n.key,i=e.key;n===e?(c=n.first,h--,d--):m.has(i)?!u.has(r)||y.has(r)?b(n):w.has(i)?h--:_.get(r)>_.get(i)?(w.add(r),b(n)):(y.add(i),h--):(s(e,u),h--)}for(;h--;){const n=t[h];m.has(n.key)||s(n,u)}for(;d;)b(g[d-1]);return g}(r,e,u,1,t,o,i,n.parentNode,ct,Mu,n,xu);for(let t=0;t<r.length;t+=1)r[t].a();ot()}},i(t){if(!e){for(let t=0;t<o.length;t+=1)ut(r[t]);e=!0}},o(t){for(let t=0;t<r.length;t+=1)at(r[t]);e=!1},d(t){for(let n=0;n<r.length;n+=1)r[n].d(t);t&&_(n)}}}function Mu(e,r){let i,o,u,a,s,l=t;return o=new yu({props:{tooltip:r[0],data:r[12],width:Su,height:$u,margin:Eu}}),{key:e,first:null,c(){i=w("div"),ht(o.$$.fragment),u=j(),S(i,"margin","0px"),this.first=i},m(t,n){m(t,i,n),dt(o,i,null),g(i,u),s=!0},p(t,n){const e={};1&n&&(e.tooltip=t[0]),4&n&&(e.data=t[12]),262144&n&&(e.$$scope={dirty:n,ctx:t}),o.$set(e)},r(){a=i.getBoundingClientRect()},f(){L(i),l()},a(){l(),l=function(e,r,i,o){if(!r)return t;const u=e.getBoundingClientRect();if(r.left===u.left&&r.right===u.right&&r.top===u.top&&r.bottom===u.bottom)return t;const{delay:a=0,duration:s=300,easing:l=n,start:c=f()+a,end:h=c+s,tick:d=t,css:p}=i(e,{from:r,to:u},o);let g,m=!0,_=!1;function y(){p&&O(e,g),m=!1}return v(t=>{if(!_&&t>=c&&(_=!0),_&&t>=h&&(d(1,0),y()),!m)return!1;if(_){const n=0+1*l((t-c)/s);d(n,1-n)}return!0}),p&&(g=C(e,0,1,s,a,l,p)),a||(_=!0),d(0,1),y}(i,a,bu,{duration:650,easing:wt})},i(t){s||(ut(o.$$.fragment,t),s=!0)},o(t){at(o.$$.fragment,t),s=!1},d(t){t&&_(i),pt(o)}}}function Pu(t){let n,e,r,o,u,a,s,l,c,f,h,d,p,v,y,b,A,M,$,E,z,N,I,C,O,L,R,D="circle"==t[3]&&Au(t),U=t[7]&&Tu(t);return{c(){n=w("section"),e=w("header"),r=w("span"),r.textContent="show datapoints as:",o=j(),u=w("input"),a=x(" Image\n        "),s=w("input"),l=x(" Circles"),c=w("br"),f=j(),h=w("span"),h.textContent="available points: ",d=w("span"),p=w("span"),v=x(t[4]),y=j(),b=w("span"),A=w("span"),M=x(t[5]),$=w("br"),E=j(),z=w("button"),z.innerHTML='<span class="mdi mdi-sort"></span> Sort',N=j(),D&&D.c(),I=j(),C=w("div"),U&&U.c(),T(u,"type","radio"),u.__value="image",u.value=u.__value,t[9][0].push(u),T(s,"type","radio"),s.__value="circle",s.value=s.__value,t[9][0].push(s),T(d,"class","mdi mdi-thumb-up"),S(p,"color","green"),T(b,"class","mdi mdi-thumb-down"),S(A,"color","orangered"),T(e,"class","svelte-1kxnwxo"),T(C,"class","vis_list svelte-1kxnwxo")},m(i,_){m(i,n,_),g(n,e),g(e,r),g(e,o),g(e,u),u.checked=u.__value===t[3],g(e,a),g(e,s),s.checked=s.__value===t[3],g(e,l),g(e,c),g(e,f),g(e,h),g(e,d),g(e,p),g(p,v),g(e,y),g(e,b),g(e,A),g(A,M),g(e,$),g(e,E),g(e,z),g(e,N),D&&D.m(e,null),g(n,I),g(n,C),U&&U.m(C,null),O=!0,L||(R=[k(u,"change",t[8]),k(s,"change",t[10]),k(z,"click",t[11])],L=!0)},p(t,[n]){8&n&&(u.checked=u.__value===t[3]),8&n&&(s.checked=s.__value===t[3]),(!O||16&n)&&P(v,t[4]),(!O||32&n)&&P(M,t[5]),"circle"==t[3]?D?(D.p(t,n),8&n&&ut(D,1)):(D=Au(t),D.c(),ut(D,1),D.m(e,null)):D&&(it(),at(D,1,1,()=>{D=null}),ot()),t[7]?U?(U.p(t,n),128&n&&ut(U,1)):(U=Tu(t),U.c(),ut(U,1),U.m(C,null)):U&&(it(),at(U,1,1,()=>{U=null}),ot())},i(t){O||(ut(D),ut(U),O=!0)},o(t){at(D),at(U),O=!1},d(e){e&&_(n),t[9][0].splice(t[9][0].indexOf(u),1),t[9][0].splice(t[9][0].indexOf(s),1),D&&D.d(),U&&U.d(),L=!1,i(R)}}}let Su=250,$u=250,Eu=20;function zu(t,n,e){let r,i,o,u,a,l;s(t,To,t=>e(2,r=t)),s(t,$o,t=>e(3,i=t)),s(t,bo,t=>e(4,o=t)),s(t,xo,t=>e(5,u=t)),s(t,Po,t=>e(6,a=t)),s(t,ko,t=>e(7,l=t));let{tooltip:c}=n;let f;return t.$set=t=>{"tooltip"in t&&e(0,c=t.tooltip)},t.$$.update=()=>{4&t.$$.dirty&&e(1,f=Array.from(new Set(r[0].map(t=>t.class))))},[c,f,r,i,o,u,a,l,function(){i=this.__value,$o.set(i)},[[]],function(){i=this.__value,$o.set(i)},()=>jo.sort_by_pos()]}class Nu extends mt{constructor(t){super(),gt(this,t,zu,Pu,u,{tooltip:0})}}var Iu,Cu;function Ou(t){let n,e,r,i,o,u;return{c(){n=w("div"),e=w("div"),r=w("img"),r.src!==(i=`data/thumbnails/size50/${t[3][t[2]]}.png`)&&T(r,"src",i),T(r,"alt",t[2]),T(r,"width","60px"),T(r,"height","60px"),T(r,"class","svelte-16mmxpf"),T(e,"class","tooltiptext svelte-16mmxpf"),T(n,"id","tooltip"),T(n,"class","tooltip svelte-16mmxpf"),S(n,"position","absolute"),S(n,"z-index","10000"),S(n,"visibility",t[2]?null:"hidden"),S(n,"pointer-events","none")},m(i,o){m(i,n,o),g(n,e),g(e,r),t[5](n),u=!0},p(t,e){(!u||12&e&&r.src!==(i=`data/thumbnails/size50/${t[3][t[2]]}.png`))&&T(r,"src",i),(!u||4&e)&&T(r,"alt",t[2]),(!u||4&e)&&S(n,"visibility",t[2]?null:"hidden")},i(t){u||(K(()=>{o||(o=lt(n,jt,{duration:350},!0)),o.run(1)}),u=!0)},o(t){o||(o=lt(n,jt,{duration:350},!1)),o.run(0),u=!1},d(e){e&&_(n),t[5](null),e&&o&&o.end()}}}function Lu(n){let e;return{c(){e=w("div"),e.innerHTML='<h1><span class="mdi mdi-spin mdi-arm-flex"></span>THX!!<span class="mdi mdi-spin mdi-heart"></span></h1>',T(e,"class","jspsych-display-element")},m(t,n){m(t,e,n)},p:t,i:t,o:t,d(t){t&&_(e)}}}function Ru(t){let n,e,r,i;const o=[Uu,Du],u=[];function a(t,n){return t[4]?0:1}return e=a(t),r=u[e]=o[e](t),{c(){n=w("div"),r.c(),T(n,"class","jspsych-display-element")},m(t,r){m(t,n,r),u[e].m(n,null),i=!0},p(t,i){let s=e;e=a(t),e===s?u[e].p(t,i):(it(),at(u[s],1,1,()=>{u[s]=null}),ot(),r=u[e],r||(r=u[e]=o[e](t),r.c()),ut(r,1),r.m(n,null))},i(t){i||(ut(r),i=!0)},o(t){at(r),i=!1},d(t){t&&_(n),u[e].d()}}}function Du(n){let e,r,i;return{c(){e=w("div"),r=j(),i=w("center"),i.textContent="Loading...",T(e,"class","loader svelte-16mmxpf")},m(t,n){m(t,e,n),m(t,r,n),m(t,i,n)},p:t,i:t,o:t,d(t){t&&_(e),t&&_(r),t&&_(i)}}}function Uu(t){let n,e,r,i,o;return e=new Nu({props:{tooltip:t[1]}}),{c(){n=w("div"),ht(e.$$.fragment),r=j(),i=w("p"),i.textContent="Press any key to continue."},m(t,u){m(t,n,u),dt(e,n,null),m(t,r,u),m(t,i,u),o=!0},p(t,n){const r={};2&n&&(r.tooltip=t[1]),e.$set(r)},i(t){o||(ut(e.$$.fragment,t),o=!0)},o(t){at(e.$$.fragment,t),o=!1},d(t){t&&_(n),pt(e),t&&_(r),t&&_(i)}}}function qu(t){let n,e,r,i,o,u,a,s,l,c=t[2]&&Ou(t);const f=[Ru,Lu],h=[];function d(t,n){return"dr_grid"==t[0]?0:"finish"==t[0]?1:-1}return~(a=d(t))&&(s=h[a]=f[a](t)),{c(){n=w("link"),e=j(),r=w("nav"),r.innerHTML='<h2 class="svelte-16mmxpf">DumbleDR</h2>',i=j(),c&&c.c(),o=j(),u=w("main"),s&&s.c(),T(n,"href","https://cdn.jsdelivr.net/gh/jspsych/jsPsych@6.1.0/css/jspsych.min.css"),T(n,"rel","stylesheet"),T(n,"type","text/css"),T(r,"class","svelte-16mmxpf"),T(u,"id","task"),S(u,"max-width",250*Bu+10*(Bu+1)+"px"),T(u,"class","svelte-16mmxpf")},m(t,s){g(document.head,n),m(t,e,s),m(t,r,s),m(t,i,s),c&&c.m(t,s),m(t,o,s),m(t,u,s),~a&&h[a].m(u,null),l=!0},p(t,[n]){t[2]?c?(c.p(t,n),4&n&&ut(c,1)):(c=Ou(t),c.c(),ut(c,1),c.m(o.parentNode,o)):c&&(it(),at(c,1,1,()=>{c=null}),ot());let e=a;a=d(t),a===e?~a&&h[a].p(t,n):(s&&(it(),at(h[e],1,1,()=>{h[e]=null}),ot()),~a?(s=h[a],s||(s=h[a]=f[a](t),s.c()),ut(s,1),s.m(u,null)):s=null)},i(t){l||(ut(c),ut(s),l=!0)},o(t){at(c),at(s),l=!1},d(t){_(n),t&&_(e),t&&_(r),t&&_(i),c&&c.d(t),t&&_(o),t&&_(u),~a&&h[a].d()}}}window.jsPsych=function(){var t,n,e,r,i={},o={},u=0,a={},s=!1,l=!1,c=!1,f=!1,h=!1;function d(t,n,e){var r,i,o,u,a,s={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},l=this;this.trial=function(){return void 0===u?jsPsych.utils.deepCopy(o):s.current_location>=u.timeline.length?null:u.timeline[s.current_location].trial()},this.markCurrentTrialComplete=function(){void 0===u?s.done=!0:u.timeline[s.current_location].markCurrentTrialComplete()},this.nextRepetiton=function(){this.setTimelineVariablesOrder(),s.current_location=-1,s.current_variable_set=0,s.current_repetition++;for(var t=0;t<u.timeline.length;t++)u.timeline[t].reset()},this.setTimelineVariablesOrder=function(){if(void 0!==u&&void 0!==u.timeline_variables){for(var t=[],n=0;n<u.timeline_variables.length;n++)t.push(n);void 0!==u.sample&&("custom"==u.sample.type?t=u.sample.fn(t):"with-replacement"==u.sample.type?t=jsPsych.randomization.sampleWithReplacement(t,u.sample.size,u.sample.weights):"without-replacement"==u.sample.type?t=jsPsych.randomization.sampleWithoutReplacement(t,u.sample.size):"fixed-repetitions"==u.sample.type&&(t=jsPsych.randomization.repeat(t,u.sample.size,!1))),u.randomize_order&&(t=jsPsych.randomization.shuffle(t)),s.order=t}},this.nextSet=function(){s.current_location=-1,s.current_variable_set++;for(var t=0;t<u.timeline.length;t++)u.timeline[t].reset()},this.advance=function(){if(s.done)return!0;if(-1==s.current_location){if(void 0!==u)if(void 0!==u.conditional_function){if(0==u.conditional_function())return s.done=!0,!0;s.current_location=0}else s.current_location=0;return s.current_location=0,this.advance()}if(void 0!==u){for(var t=!1;s.current_location<u.timeline.length&&0==t;){if(!u.timeline[s.current_location].advance())return t=!0,!1;s.current_location++}return s.current_variable_set<s.order.length-1?(this.nextSet(),this.advance()):s.current_repetition<u.repetitions-1?(this.nextRepetiton(),this.advance()):void 0!==u.loop_function&&u.loop_function(this.generatedData())?(this.reset(),i.advance()):(s.done=!0,!0)}},this.isComplete=function(){return s.done},this.getTimelineVariableValue=function(t){if(void 0!==u)return u.timeline_variables[s.order[s.current_variable_set]][t]},this.findTimelineVariable=function(t){var n=this.getTimelineVariableValue(t);return void 0===n?void 0!==i?i.findTimelineVariable(t):void 0:n},this.timelineVariable=function(t){return void 0===u?this.findTimelineVariable(t):u.timeline[s.current_location].timelineVariable(t)},this.length=function(){var t=0;if(void 0===u)return 1;for(var n=0;n<u.timeline.length;n++)t+=u.timeline[n].length();return t},this.percentComplete=function(){for(var t=this.length(),n=0,e=0;e<u.timeline.length;e++)u.timeline[e].isComplete()&&(n+=u.timeline[e].length());return n/t*100},this.reset=function(){if(s.current_location=-1,s.current_repetition=0,s.current_variable_set=0,s.current_iteration++,s.done=!1,this.setTimelineVariablesOrder(),void 0!==u)for(var t=0;t<u.timeline.length;t++)u.timeline[t].reset()},this.end=function(){s.done=!0},this.endActiveNode=function(){void 0===u?(this.end(),i.end()):u.timeline[s.current_location].endActiveNode()},this.ID=function(){var t="";return void 0===i?"0."+s.current_iteration:(t+=i.ID()+"-",t+=r+"."+s.current_iteration)},this.activeID=function(){return void 0===u?this.ID():u.timeline[s.current_location].activeID()},this.generatedData=function(){return jsPsych.data.getDataByTimelineNode(this.ID())},this.trialsOfType=function(t){if(void 0===u)return o.type==t?o:[];for(var n=[],e=0;e<u.timeline.length;e++){var r=u.timeline[e].trialsOfType(t);n=n.concat(r)}return n},this.insert=function(t){void 0===u?console.error("Cannot add new trials to a trial-level node."):u.timeline.push(new d(Object.assign({},a,t),l,u.timeline.length))};!function(){if(i=n,r=void 0===n?0:e,void 0!==t.timeline||"function"==typeof jsPsych.plugins[f]){u={timeline:[],loop_function:t.loop_function,conditional_function:t.conditional_function,sample:t.sample,randomize_order:void 0!==t.randomize_order&&t.randomize_order,repetitions:void 0===t.repetitions?1:t.repetitions,timeline_variables:void 0===t.timeline_variables?[{}]:t.timeline_variables},l.setTimelineVariablesOrder();var s=Object.assign({},t);delete s.timeline,delete s.conditional_function,delete s.loop_function,delete s.randomize_order,delete s.repetitions,delete s.timeline_variables,delete s.sample,a=s;for(var c=0;c<t.timeline.length;c++)u.timeline.push(new d(Object.assign({},s,t.timeline[c]),l,c))}else{var f=t.type;void 0===f?console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(t)):void 0===jsPsych.plugins[f]&&"function(){returntimeline.timelineVariable(varname);}"!=f.toString().replace(/\s/g,"")&&console.error('No plugin loaded for trials of type "'+f+'"'),o=Object.assign({},t)}}()}function p(){f=!0,!0===o.show_progress_bar&&document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>Completion Progress</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>'),r=new Date,t.advance(),g(t.trial())}function v(){if(l)c=!0;else{u++,t.markCurrentTrialComplete();var n=t.advance();if(!0===o.show_progress_bar&&1==o.auto_update_progress_bar&&function(){var t=jsPsych.progress();document.querySelector("#jspsych-progressbar-inner").style.width=t.percent_complete+"%"}(),n)return void 0!==t.end_message&&(e.innerHTML=t.end_message),void o.on_finish(jsPsych.data.get());g(t.trial())}}function g(t){a=t,s=!1,function t(n){for(var e=Object.keys(n),r=0;r<e.length;r++)"function"==typeof n[e[r]]&&"function(){returntimeline.timelineVariable(varname);}"==n[e[r]].toString().replace(/\s/g,"")&&(n[e[r]]=n[e[r]].call()),"object"==typeof n[e[r]]&&null!==n[e[r]]&&t(n[e[r]])}(t),function(t){"function"==typeof t.type&&(t.type=t.type.call());for(var n=Object.keys(t),e=0;e<n.length;e++)"type"!==n[e]&&(void 0!==jsPsych.plugins.universalPluginParameters[n[e]]&&jsPsych.plugins.universalPluginParameters[n[e]].type!==jsPsych.plugins.parameterType.FUNCTION||void 0!==jsPsych.plugins[t.type].info.parameters[n[e]]&&jsPsych.plugins[t.type].info.parameters[n[e]].type!==jsPsych.plugins.parameterType.FUNCTION)&&"function"==typeof t[n[e]]&&(t[n[e]]=t[n[e]].call())}(t),function(t){for(var n=Object.keys(jsPsych.plugins[t.type].info.parameters),e=0;e<n.length;e++)void 0!==t[n[e]]&&null!==t[n[e]]||(void 0===jsPsych.plugins[t.type].info.parameters[n[e]].default?console.error("You must specify a value for the "+n[e]+" parameter in the "+t.type+" plugin."):t[n[e]]=jsPsych.plugins[t.type].info.parameters[n[e]].default)}(t),o.on_trial_start(t),"function"==typeof t.on_start&&t.on_start(t),n.focus(),e.scrollTop=0,jsPsych.plugins[t.type].trial(e,t),"function"==typeof t.on_load&&t.on_load()}return i.webaudio_context=null,"undefined"!=typeof window&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext),i.webaudio_context="undefined"!=typeof window&&void 0!==window.AudioContext?new AudioContext:null,i.ALL_KEYS="allkeys",i.NO_KEYS="none",i.init=function(r){void 0===r.timeline&&console.error("No timeline declared in jsPsych.init. Cannot start experiment."),t=null,u=0,a={},s=!1,l=!1,c=!1,f=!1,h=!1,jsPsych.data.reset();var v={display_element:void 0,on_finish:function(t){},on_trial_start:function(t){},on_trial_finish:function(){},on_data_update:function(t){},on_interaction_data_update:function(t){},preload_images:[],preload_audio:[],use_webaudio:!0,exclusions:{},show_progress_bar:!1,auto_update_progress_bar:!0,auto_preload:!0,show_preload_progress_bar:!0,max_load_time:6e4,max_preload_attempts:10,default_iti:0};if(void 0===(o=Object.assign({},v,r)).display_element){null===document.querySelector("body")&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",o.display_element=document.querySelector("body")}else{if(o.display_element instanceof Element)var g=o.display_element;else g=document.querySelector("#"+o.display_element);null===g?console.error("The display_element specified in jsPsych.init() does not exist in the DOM."):o.display_element=g}o.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',n=o.display_element,e=document.querySelector("#jspsych-content"),o.display_element.tabIndex=0,-1==o.display_element.className.indexOf("jspsych-display-element")&&(o.display_element.className+=" jspsych-display-element"),e.className+="jspsych-content",t=new d({timeline:o.timeline}),jsPsych.pluginAPI.initAudio(),jsPsych.pluginAPI.reset(o.display_element),jsPsych.pluginAPI.createKeyboardEventListeners(o.display_element),jsPsych.data.createInteractionListeners(),function t(n,e,r){var o=!0;if(void 0!==n.min_width||void 0!==n.min_height){var u=void 0!==n.min_width?n.min_width:0,a=void 0!==n.min_height?n.min_height:0,s=window.innerWidth,l=window.innerHeight;if(s<u||l<a){o=!1;var c=setInterval((function(){var o=window.innerWidth,s=window.innerHeight;if(o<u||s<a){var l="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+u+"px. Your current width is "+o+"px.</p><p>The minimum height is "+a+"px. Your current height is "+s+"px.</p>";i.getDisplayElement().innerHTML=l}else clearInterval(c),i.getDisplayElement().innerHTML="",t(n,e,r)}),100);return}}if(void 0!==n.audio&&n.audio&&!window.hasOwnProperty("AudioContext")&&!window.hasOwnProperty("webkitAudioContext")){o=!1;return i.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",void r()}o&&e()}(o.exclusions,(function(){o.auto_preload?(jsPsych.pluginAPI.autoPreload(t,p,o.preload_images,o.preload_audio,o.show_preload_progress_bar),o.max_load_time>0&&setTimeout((function(){f||h||i.loadFail()}),o.max_load_time)):p()}),(function(){}))},i.progress=function(){var n=void 0===t?0:t.percentComplete();return{total_trials:void 0===t?void 0:t.length(),current_trial_global:u,percent_complete:n}},i.startTime=function(){return r},i.totalTime=function(){return void 0===r?0:(new Date).getTime()-r.getTime()},i.getDisplayElement=function(){return e},i.getDisplayContainerElement=function(){return n},i.finishTrial=function(t){if(!s){s=!0,t=void 0===t?{}:t,jsPsych.data.write(t);var n=jsPsych.data.get().filter({trial_index:u}).values()[0];"function"==typeof a.on_finish&&a.on_finish(n),o.on_trial_finish(n),o.on_data_update(n),null===typeof a.post_trial_gap?o.default_iti>0?setTimeout(v,o.default_iti):v():a.post_trial_gap>0?setTimeout(v,a.post_trial_gap):v()}},i.endExperiment=function(n){t.end_message=n,t.end(),jsPsych.pluginAPI.cancelAllKeyboardResponses(),jsPsych.pluginAPI.clearAllTimeouts(),i.finishTrial()},i.endCurrentTimeline=function(){t.endActiveNode()},i.currentTrial=function(){return a},i.initSettings=function(){return o},i.currentTimelineNodeID=function(){return t.activeID()},i.timelineVariable=function(n,e){return e?t.timelineVariable(n):function(){return t.timelineVariable(n)}},i.addNodeToEndOfTimeline=function(n,e){t.insert(n),"undefinded"!=typeof e&&(o.auto_preload?jsPsych.pluginAPI.autoPreload(t,e):e())},i.pauseExperiment=function(){l=!0},i.resumeExperiment=function(){l=!1,c&&(c=!1,v())},i.loadFail=function(t){t=t||"<p>The experiment failed to load.</p>",h=!0,e.innerHTML=t},i.setProgressBar=function(t){t=Math.max(Math.min(1,t),0),document.querySelector("#jspsych-progressbar-inner").style.width=100*t+"%"},document.documentElement.setAttribute("jspsych","present"),i}(),jsPsych.plugins=((Iu={parameterType:{BOOL:0,STRING:1,INT:2,FLOAT:3,FUNCTION:4,KEYCODE:5,SELECT:6,HTML_STRING:7,IMAGE:8,AUDIO:9,VIDEO:10,OBJECT:11,COMPLEX:12}}).universalPluginParameters={data:{type:Iu.parameterType.OBJECT,pretty_name:"Data",default:{},description:"Data to add to this trial (key-value pairs)"},on_start:{type:Iu.parameterType.FUNCTION,pretty_name:"On start",default:function(){},description:"Function to execute when trial begins"},on_finish:{type:Iu.parameterType.FUNCTION,pretty_name:"On finish",default:function(){},description:"Function to execute when trial is finished"},on_load:{type:Iu.parameterType.FUNCTION,pretty_name:"On load",default:function(){},description:"Function to execute after the trial has loaded"},post_trial_gap:{type:Iu.parameterType.INT,pretty_name:"Post trial gap",default:null,description:"Length of gap between the end of this trial and the start of the next trial"}},Iu),jsPsych.data=function(){var t,n={},e=o(),r=o(),i={};function o(t){var n={},e=void 0===t?[]:t;return n.push=function(t){return e.push(t),n},n.join=function(t){return e=e.concat(t.values()),n},n.top=function(){return e.length<=1?n:o([e[e.length-1]])},n.first=function(t){void 0===t&&(t=1);for(var n=[],r=0;r<t;r++)n.push(e[r]);return o(n)},n.last=function(t){void 0===t&&(t=1);for(var n=[],r=e.length-t;r<e.length;r++)n.push(e[r]);return o(n)},n.values=function(){return e},n.count=function(){return e.length},n.readOnly=function(){return o(jsPsych.utils.deepCopy(e))},n.addToAll=function(t){for(var r=0;r<e.length;r++)for(var i in t)e[r][i]=t[i];return n},n.addToLast=function(t){if(0!=e.length)for(var r in t)e[e.length-1][r]=t[r];return n},n.filter=function(t){if(Array.isArray(t))n=jsPsych.utils.deepCopy(t);else var n=jsPsych.utils.deepCopy([t]);for(var r=[],i=0;i<e.length;i++){for(var u=!1,a=0;a<n.length;a++){for(var s=!0,l=Object.keys(n[a]),c=0;c<l.length;c++)void 0!==e[i][l[c]]&&e[i][l[c]]==n[a][l[c]]||(s=!1);if(s){u=!0;break}}u&&r.push(e[i])}return o(r)},n.filterCustom=function(t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return o(n)},n.select=function(t){for(var n=[],r=0;r<e.length;r++)void 0!==e[r][t]&&n.push(e[r][t]);var i=function t(){var n={values:[]};return n.sum=function(){for(var t=0,e=0;e<n.values.length;e++)t+=n.values[e];return t},n.mean=function(){return n.sum()/n.count()},n.median=function(){if(0!=n.values.length){var t=n.values.slice(0).sort((function(t,n){return t-n})),e=Math.floor(t.length/2);return t.length%2==0?(t[e]+t[e-1])/2:t[e]}},n.min=function(){return Math.min.apply(null,n.values)},n.max=function(){return Math.max.apply(null,n.values)},n.count=function(){return n.values.length},n.variance=function(){for(var t=n.mean(),e=0,r=0;r<n.values.length;r++)e+=Math.pow(n.values[r]-t,2);return e/n.values.length},n.sd=function(){var t=n.variance();return Math.sqrt(t)},n.frequencies=function(){for(var t={},e=0;e<n.values.length;e++){var r=n.values[e];void 0===t[r]?t[r]=1:t[r]++}return t},n.all=function(t){for(var e=0;e<n.values.length;e++)if(!t(n.values[e]))return!1;return!0},n.subset=function(e){for(var r=[],i=0;i<n.values.length;i++)e(n.values[i])&&r.push(n.values[i]);var o=t();return o.values=r,o},n}();return i.values=n,i},n.ignore=function(t){Array.isArray(t)||(t=[t]);for(var n=jsPsych.utils.deepCopy(e),r=0;r<n.length;r++)for(var i in t)delete n[r][t[i]];return o(n)},n.uniqueNames=function(){for(var t=[],n=0;n<e.length;n++)for(var r=Object.keys(e[n]),i=0;i<r.length;i++)t.includes(r[i])||t.push(r[i]);return t},n.csv=function(){return function(t){for(var n="object"!=typeof t?JSON.parse(t):t,e="",r="",i=[],o=0,u=0;u<n.length;u++)for(var a in n[u]){var s=a+"";s='"'+s.replace(/"/g,'""')+'",',i.includes(a)||(i[o]=a,e+=s,o++)}e=e.slice(0,-1),r+=e+"\r\n";for(o=0;o<n.length;o++){for(e="",u=0;u<i.length;u++){var l=void 0===n[o][i[u]]?"":n[o][i[u]];e+='"'+(l+"").replace(/"/g,'""')+'",'}e=e.slice(0,-1),r+=e+"\r\n"}return r}(e)},n.json=function(t){return t?JSON.stringify(e,null,"\t"):JSON.stringify(e)},n.localSave=function(t,e){var r;if("JSON"==t||"json"==t)r=n.json();else{if("CSV"!=t&&"csv"!=t)throw new Error('Invalid format specified for localSave. Must be "JSON" or "CSV".');r=n.csv()}!function(t,n){var e=new Blob([t],{type:"text/plain"}),r="";r=void 0!==window.webkitURL?window.webkitURL.createObjectURL(e):window.URL.createObjectURL(e);jsPsych.getDisplayElement().insertAdjacentHTML("beforeend",'<a id="jspsych-download-as-text-link" style="display:none;" download="'+n+'" href="'+r+'">click to download</a>'),document.getElementById("jspsych-download-as-text-link").click()}(r,e)},n}function u(){var t=window.location.search.substr(1).split("&");if(""==t)return{};for(var n={},e=0;e<t.length;++e){var r=t[e].split("=",2);1==r.length?n[r[0]]="":n[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return n}return n.reset=function(){e=o(),r=o()},n.get=function(){return e},n.getInteractionData=function(){return r},n.write=function(t){var n=jsPsych.progress(),r=jsPsych.currentTrial(),o={trial_type:r.type,trial_index:n.current_trial_global,time_elapsed:jsPsych.totalTime(),internal_node_id:jsPsych.currentTimelineNodeID()},u=Object.assign({},t,r.data,o,i);e.push(u)},n.addProperties=function(t){e.addToAll(t),i=Object.assign({},i,t)},n.addDataToLastTrial=function(t){e.addToLast(t)},n.getDataByTimelineNode=function(t){return e.filterCustom((function(n){return n.internal_node_id.slice(0,t.length)===t}))},n.getLastTrialData=function(){return e.top()},n.getLastTimelineData=function(){var t=n.getLastTrialData().select("internal_node_id").values[0];if(void 0===t)return o();var e=t.substr(0,t.lastIndexOf("-"));return n.getDataByTimelineNode(e)},n.displayData=function(t){var n;"json"!=(t=void 0===t?"json":t.toLowerCase())&&"csv"!=t&&(console.log("Invalid format declared for displayData function. Using json as default."),t="json"),n="json"==t?e.json(!0):e.csv(),jsPsych.getDisplayElement().innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=n},n.urlVariables=function(){return void 0===t&&(t=u()),t},n.getURLVariable=function(n){return void 0===t&&(t=u()),t[n]},n.createInteractionListeners=function(){function t(){var t={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen?"fullscreenenter":"fullscreenexit",trial:jsPsych.progress().current_trial_global,time:jsPsych.totalTime()};r.push(t),jsPsych.initSettings().on_interaction_data_update(t)}window.addEventListener("blur",(function(){var t={event:"blur",trial:jsPsych.progress().current_trial_global,time:jsPsych.totalTime()};r.push(t),jsPsych.initSettings().on_interaction_data_update(t)})),window.addEventListener("focus",(function(){var t={event:"focus",trial:jsPsych.progress().current_trial_global,time:jsPsych.totalTime()};r.push(t),jsPsych.initSettings().on_interaction_data_update(t)})),document.addEventListener("fullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("webkitfullscreenchange",t)},n._customInsert=function(t){e=o(t)},n._fullreset=function(){n.reset(),i={}},n}(),jsPsych.turk=function(){var t={turkInfo:function(){var t={},n=function(t,n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(t);return null==e?"":e[1]},e=n(window.location.href,"assignmentId")?window.location.href:document.referrer;return["assignmentId","hitId","workerId","turkSubmitTo"].map((function(r){t[r]=unescape(n(e,r))})),t.previewMode="ASSIGNMENT_ID_NOT_AVAILABLE"==t.assignmentId,t.outsideTurk=!t.previewMode&&""===t.hitId&&""==t.assignmentId&&""==t.workerId,turk_info=t,t},submitToTurk:function(t){var n=jsPsych.turk.turkInfo(),e=n.assignmentId,r=n.turkSubmitTo;if(e&&r){var i=[];for(var o in t)t.hasOwnProperty(o)&&i.push(o+"="+escape(t[o]));i.push("assignmentId="+e);var u=r+"/mturk/externalSubmit?"+i.join("&");window.location.href=u}}};return t}(),jsPsych.randomization=function(){var t={};function n(t){for(var n,e,r=t.slice(0),i=r.length;i;)e=Math.floor(Math.random()*i--),n=r[i],r[i]=r[e],r[e]=n;return r}return t.repeat=function(t,e,r){var i=Array.isArray(t),o=Array.isArray(e);if(i)if(o){if(t.length!=e.length)if(console.warning("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),e.length<t.length){for(u=[],a=0;a<t.length;a++)u.push(e);e=u}else e=repetions.slice(0,t.length)}else{for(var u=[],a=0;a<t.length;a++)u.push(e);e=u}else o?(e=[e[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(t=[t],e=[e]);var s=[];for(a=0;a<t.length;a++)for(var l=0;l<e[a];l++)null==t[a]||"object"!=typeof t[a]?s.push(t[a]):s.push(Object.assign({},t[a]));var c=n(s);return r&&(c=function(t){for(var n={},e=0;e<t.length;e++)for(var r=Object.keys(t[e]),i=0;i<r.length;i++)void 0===n[r[i]]&&(n[r[i]]=[]),n[r[i]].push(t[e][r[i]]);return n}(c)),c},t.shuffle=function(t){return n(t)},t.shuffleNoRepeats=function(t,e){void 0===e&&(e=function(t,n){return t===n});for(var r=n(t),i=0;i<r.length-1;i++)if(e(r[i],r[i+1])){for(var o=Math.floor(Math.random()*(r.length-2))+1;e(r[i+1],r[o])||e(r[i+1],r[o+1])||e(r[i+1],r[o-1]);)o=Math.floor(Math.random()*(r.length-2))+1;var u=r[o];r[o]=r[i+1],r[i+1]=u}return r},t.sampleWithoutReplacement=function(t,n){return n>t.length&&console.error("Cannot take a sample larger than the size of the set of items to sample."),jsPsych.randomization.shuffle(t).slice(0,n)},t.sampleWithReplacement=function(t,n,e){var r=[];if(void 0!==e){e.length!==t.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");for(var i=0,o=0;o<e.length;o++)i+=e[o];for(o=0;o<e.length;o++)r.push(e[o]/i)}else for(o=0;o<t.length;o++)r.push(1/t.length);var u=[r[0]];for(o=1;o<r.length;o++)u.push(r[o]+u[o-1]);var a=[];for(o=0;o<n;o++){for(var s=Math.random(),l=0;s>u[l];)l++;a.push(t[l])}return a},t.factorial=function(n,e,r){for(var i=Object.keys(n),o=[],u=0;u<n[i[0]].length;u++)o.push({}),o[u][i[0]]=n[i[0]][u];for(u=1;u<i.length;u++){for(var a=n[i[u]],s=o.length,l=0;l<s;l++)for(var c=o[l],f=0;f<a.length;f++){var h={};h[i[u]]=a[f],o.push(Object.assign({},c,h))}o.splice(0,s)}return e=void 0===e?1:e,t.repeat(o,e,r)},t.randomID=function(t){for(var n="",e=(t=void 0===t?32:t,"0123456789abcdefghjklmnopqrstuvwxyz"),r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n},t}(),jsPsych.pluginAPI=function(){var t={},n=[],e={},r=function(t){for(var r=0;r<n.length;r++)n[r].fn(t);e[t.keyCode]=!0},i=function(t){e[t.keyCode]=!1};t.reset=function(t){n=[],e={},t.removeEventListener("keydown",r),t.removeEventListener("keyup",i)},t.createKeyboardEventListeners=function(t){t.addEventListener("keydown",r),t.addEventListener("keyup",i)},t.getKeyboardResponse=function(r){var i,o;r.rt_method=void 0===r.rt_method?"date":r.rt_method,"date"!=r.rt_method&&"performance"!=r.rt_method&&"audio"!=r.rt_method&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "date" method.'),r.rt_method="date"),"date"==r.rt_method?i=(new Date).getTime():"performance"==r.rt_method?i=performance.now():"audio"==r.rt_method&&(i=r.audio_context_start_time);return o={type:"keydown",fn:function(u){var a;"date"==r.rt_method?a=(new Date).getTime():"performance"==r.rt_method?a=performance.now():"audio"==r.rt_method&&(a=r.audio_context.currentTime);var s=!1;if(void 0===r.valid_responses||r.valid_responses==jsPsych.ALL_KEYS)s=!0;else if(r.valid_responses!=jsPsych.NO_KEYS)for(var l=0;l<r.valid_responses.length;l++)if("string"==typeof r.valid_responses[l]){var c=jsPsych.pluginAPI.convertKeyCharacterToKeyCode(r.valid_responses[l]);if(void 0===c)throw new Error("Invalid key string specified for getKeyboardResponse");u.keyCode==c&&(s=!0)}else u.keyCode==r.valid_responses[l]&&(s=!0);void 0!==r.allow_held_key&&r.allow_held_key||!s||void 0!==e[u.keyCode]&&1==e[u.keyCode]&&(s=!1),s&&(u.preventDefault(),r.callback_function({key:u.keyCode,rt:a-i}),n.includes(o)&&(r.persist||t.cancelKeyboardResponse(o)))}},n.push(o),o},t.cancelKeyboardResponse=function(t){n.includes(t)&&n.splice(n.indexOf(t),1)},t.cancelAllKeyboardResponses=function(){n=[]},t.convertKeyCharacterToKeyCode=function(t){var n;return t=t.toLowerCase(),void 0!==o[t]&&(n=o[t]),n},t.convertKeyCodeToKeyCharacter=function(t){for(var n in Object.keys(o))if(o[Object.keys(o)[n]]==t)return Object.keys(o)[n]},t.compareKeys=function(n,e){return"string"==typeof n&&(n=t.convertKeyCharacterToKeyCode(n)),"string"==typeof e&&(e=t.convertKeyCharacterToKeyCode(e)),n==e};var o={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,esc:27,space:32,spacebar:32," ":32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"0numpad":96,"1numpad":97,"2numpad":98,"3numpad":99,"4numpad":100,"5numpad":101,"6numpad":102,"7numpad":103,"8numpad":104,"9numpad":105,multiply:106,plus:107,minus:109,decimal:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,"=":187,",":188,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221},u=[];t.setTimeout=function(t,n){var e=setTimeout(t,n);return u.push(e),e},t.clearAllTimeouts=function(){for(var t=0;t<u.length;t++)clearTimeout(u[t]);u=[]};var a=null,s=[];t.initAudio=function(){a=1==jsPsych.initSettings().use_webaudio?jsPsych.webaudio_context:null},t.audioContext=function(){return null!==a&&"running"!==a.state&&a.resume(),a},t.getAudioBuffer=function(t){if("tmp"!=s[t])return s[t];console.error("Audio file failed to load in the time alloted.")};var l=[];return t.preloadAudioFiles=function(n,e,r){n=jsPsych.utils.flatten(n),n=jsPsych.utils.unique(n);var i=0,o=void 0===r?function(){}:r,u=void 0===e?function(){}:e;if(0!=n.length)for(var l=0;l<n.length;l++){var c=n[l];void 0!==s[c]?(i++,o(i),i==n.length&&u()):(s[c]="tmp",null!==t.audioContext()?f(c):h(c))}else u();function f(t,e){e=e||1;var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){a.decodeAudioData(r.response,(function(e){s[t]=e,i++,o(i),i==n.length&&u()}),(function(){console.error("Error loading audio file: "+c)}))},r.onerror=function(){e<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){f(t,e+1)}),200):jsPsych.loadFail()},r.send()}function h(t,e){e=e||1;var r=new Audio;r.addEventListener("canplaythrough",(function(){s[t]=r,i++,o(i),i==n.length&&u()})),r.addEventListener("onerror",(function(){e<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){h(t,e+1)}),200):jsPsych.loadFail()})),r.addEventListener("onstalled",(function(){e<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){h(t,e+1)}),200):jsPsych.loadFail()})),r.addEventListener("onabort",(function(){e<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){h(t,e+1)}),200):jsPsych.loadFail()})),r.src=t}},t.preloadImages=function(t,n,e){t=jsPsych.utils.flatten(t),t=jsPsych.utils.unique(t);var r=0,i=void 0===e?function(){}:e,o=void 0===n?function(){}:n;if(0!=t.length)for(var u=0;u<t.length;u++)a(t[u]);else o();function a(n,e){e=e||1;var u=new Image;u.onload=function(){r++,i(r),r==t.length&&o()},u.onerror=function(){e<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){a(n,e+1)}),200):jsPsych.loadFail()},u.src=n}},t.registerPreload=function(t,n,e,r){"audio"!=e&&"image"!=e&&console.error("Invalid media_type parameter for jsPsych.pluginAPI.registerPreload. Please check the plugin file.");var i={plugin:t,parameter:n,media_type:e,conditional_function:r};l.push(i)},t.autoPreload=function(n,e,r,i,o){r=void 0===r?[]:r,i=void 0===i?[]:i;for(var u=0;u<l.length;u++)for(var a=l[u].plugin,s=l[u].parameter,c=l[u].media_type,f=l[u].conditional_function,h=n.trialsOfType(a),d=0;d<h.length;d++)void 0!==h[d][s]&&"function"!=typeof h[d][s]&&(void 0===f||f(h[d]))&&("image"==c?r=r.concat(jsPsych.utils.flatten([h[d][s]])):"audio"==c&&(i=i.concat(jsPsych.utils.flatten([h[d][s]]))));r=jsPsych.utils.unique(r),i=jsPsych.utils.unique(i),r=r.filter((function(t){return 0!=t&&null!=t})),i=i.filter((function(t){return 0!=t&&null!=t}));var p=r.length+i.length,v=0;if(o){"<div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div>","</div>",jsPsych.getDisplayElement().innerHTML="<div id='jspsych-loading-progress-bar-container' style='height: 10px; width: 300px; background-color: #ddd;'><div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div></div>"}function g(){if(v++,o){var t=v/p*100;jsPsych.getDisplayElement().querySelector("#jspsych-loading-progress-bar").style.width=t+"%"}}t.preloadImages(r,(function(){t.preloadAudioFiles(i,(function(){e()}),g)}),g)},t.hardware=function(t){var n=new CustomEvent("jspsych",{detail:t});document.dispatchEvent(n)},t.hardwareConnected=!1,document.addEventListener("jspsych-activate",(function(n){t.hardwareConnected=!0})),t}(),jsPsych.utils=function(){var t={flatten:function(n,e){e=void 0===e?[]:e;for(var r=0;r<n.length;r++)Array.isArray(n[r])?t.flatten(n[r],e):e.push(n[r]);return e},unique:function(t){for(var n=[],e=0;e<t.length;e++)t.indexOf(t[e])==e&&n.push(t[e]);return n},deepCopy:function(n){if(!n)return n;var e;if(Array.isArray(n)){e=[];for(var r=0;r<n.length;r++)e.push(t.deepCopy(n[r]));return e}if("object"==typeof n){for(var i in e={},n)n.hasOwnProperty(i)&&(e[i]=t.deepCopy(n[i]));return e}return n}};return t}(),"function"!=typeof Object.assign&&(Object.assign=function(t,n){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}),Array.prototype.includes||(Array.prototype.includes=function(t){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var n=Object(this),e=parseInt(n.length,10)||0;if(0===e)return!1;var r,i,o=parseInt(arguments[1],10)||0;for(o>=0?r=o:(r=e+o)<0&&(r=0);r<e;){if(t===(i=n[r])||t!=t&&i!=i)return!0;r++}return!1}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),jsPsych.plugins["html-keyboard-response"]=((Cu={}).info={name:"html-keyboard-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed"},choices:{type:jsPsych.plugins.parameterType.KEYCODE,array:!0,pretty_name:"Choices",default:jsPsych.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show trial before it ends."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when subject makes a response."}}},Cu.trial=function(t,n){var e='<div id="jspsych-html-keyboard-response-stimulus">'+n.stimulus+"</div>";null!==n.prompt&&(e+=n.prompt),t.innerHTML=e;var r={rt:null,key:null},i=function(){jsPsych.pluginAPI.clearAllTimeouts(),void 0!==o&&jsPsych.pluginAPI.cancelKeyboardResponse(o);var e={rt:r.rt,stimulus:n.stimulus,key_press:r.key};t.innerHTML="",jsPsych.finishTrial(e)};if(n.choices!=jsPsych.NO_KEYS)var o=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(e){t.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",null==r.key&&(r=e),n.response_ends_trial&&i()},valid_responses:n.choices,rt_method:"date",persist:!1,allow_held_key:!1});null!==n.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){t.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"}),n.stimulus_duration),null!==n.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){i()}),n.trial_duration)},Cu),jsPsych.plugins["html-button-response"]=function(){var t={};return t.info={name:"html-button-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed"},choices:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Choices",default:void 0,array:!0,description:"The labels for the buttons."},button_html:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0,description:"The html of the button. Can create own style."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed under the button."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},margin_vertical:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin vertical",default:"0px",description:"The vertical margin of the button."},margin_horizontal:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin horizontal",default:"8px",description:"The horizontal margin of the button."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, then trial will end when user responds."}}},t.trial=function(t,n){var e='<div id="jspsych-html-button-response-stimulus">'+n.stimulus+"</div>",r=[];if(Array.isArray(n.button_html))n.button_html.length==n.choices.length?r=n.button_html:console.error("Error in html-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var i=0;i<n.choices.length;i++)r.push(n.button_html);e+='<div id="jspsych-html-button-response-btngroup">';for(i=0;i<n.choices.length;i++){var o=r[i].replace(/%choice%/g,n.choices[i]);e+='<div class="jspsych-html-button-response-button" style="display: inline-block; margin:'+n.margin_vertical+" "+n.margin_horizontal+'" id="jspsych-html-button-response-button-'+i+'" data-choice="'+i+'">'+o+"</div>"}e+="</div>",null!==n.prompt&&(e+=n.prompt),t.innerHTML=e;var u=Date.now();for(i=0;i<n.choices.length;i++)t.querySelector("#jspsych-html-button-response-button-"+i).addEventListener("click",(function(t){s(t.currentTarget.getAttribute("data-choice"))}));var a={rt:null,button:null};function s(e){var r=Date.now()-u;a.button=e,a.rt=r,t.querySelector("#jspsych-html-button-response-stimulus").className+=" responded";for(var i=document.querySelectorAll(".jspsych-html-button-response-button button"),o=0;o<i.length;o++)i[o].setAttribute("disabled","disabled");n.response_ends_trial&&l()}function l(){jsPsych.pluginAPI.clearAllTimeouts();var e={rt:a.rt,stimulus:n.stimulus,button_pressed:a.button};t.innerHTML="",jsPsych.finishTrial(e)}null!==n.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){t.querySelector("#jspsych-html-button-response-stimulus").style.visibility="hidden"}),n.stimulus_duration),null!==n.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){l()}),n.trial_duration)},t}();const Bu=4;function Fu(t,n,e){let r,i,o,u;s(t,To,t=>e(6,r=t)),s(t,Mo,t=>e(2,i=t)),s(t,Ao,t=>e(3,o=t)),s(t,ko,t=>e(4,u=t));_t.settings[0].paths;let a=jsPsych.randomization.randomID(15),l=jsPsych.randomization.sampleWithoutReplacement(["conditionA","conditionB","conditionC"],1)[0],c=[];jsPsych.data.addProperties({subject:a,condition:l});jsPsych.ALL_KEYS;let f,h=null,d={type:"html-keyboard-response",stimulus:()=>{const t=jsPsych.randomization.sampleWithoutReplacement(_t.settings,1)[0];console.log(t);const n=jsPsych.randomization.sampleWithoutReplacement(t.paths,2*Bu);return jo.load(jo,n),e(0,h="dr_grid"),"<p>You may hover over the points, or zoom in and out particular scatterplots.</p><p class='description'>"+t.description+"</p>"},choices:jsPsych.ALL_KEYS,timing_post_trial:400,on_finish(t){t.dataset=r.map(t=>({name:t.name,pos:t.pos_count,neg:t.neg_count}))}};return console.log(_t),c.push(...[0,1].map(()=>d)),U(()=>{jsPsych.init({display_element:"task",exclusions:{min_width:800,min_height:600},on_trial_start:t=>{},on_interaction_data_update:t=>{console.log(JSON.stringify(t))},show_progress_bar:!0,auto_update_progress_bar:!0,timeline:c,on_finish(){console.log("yo yo"),e(0,h="finish"),console.log(JSON.stringify(jsPsych.data.get().json(!0)))}})}),[h,f,i,o,u,function(t){B[t?"unshift":"push"](()=>{f=t,e(1,f)})}]}return new class extends mt{constructor(t){super(),gt(this,t,Fu,qu,u,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
