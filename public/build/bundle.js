var app=function(){"use strict";function t(){}const n=t=>t;function e(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function s(t,n,e){t.$$.on_destroy.push(u(n,e))}function l(t){return null==t?"":t}const c="undefined"!=typeof window;let f=c?()=>window.performance.now():()=>Date.now(),h=c?t=>requestAnimationFrame(t):t;const p=new Set;function d(t){p.forEach(n=>{n.c(t)||(p.delete(n),n.f())}),0!==p.size&&h(d)}function v(t){let n;return 0===p.size&&h(d),{promise:new Promise(e=>{p.add(n={c:t,f:e})}),abort(){p.delete(n)}}}function m(t,n){t.appendChild(n)}function y(t,n,e){t.insertBefore(n,e||null)}function g(t){t.parentNode.removeChild(t)}function _(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function b(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function j(){return x(" ")}function k(){return x("")}function T(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function A(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function M(t,n,e){t.setAttributeNS("http://www.w3.org/1999/xlink",n,e)}function P(t,n){t.value=null==n?"":n}function S(t,n,e,r){t.style.setProperty(n,e,r?"important":"")}function z(t,n,e){t.classList[e?"add":"remove"](n)}function I(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}const $=new Set;let E,N=0;function C(t,n,e,r,i,o,a,u=0){const s=16.666/r;let l="{\n";for(let t=0;t<=1;t+=s){const r=n+(e-n)*o(t);l+=100*t+`%{${a(r,1-r)}}\n`}const c=l+`100% {${a(e,1-e)}}\n}`,f=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(c)}_${u}`,h=t.ownerDocument;$.add(h);const p=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(b("style")).sheet),d=h.__svelte_rules||(h.__svelte_rules={});d[f]||(d[f]=!0,p.insertRule(`@keyframes ${f} ${c}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?v+", ":""}${f} ${r}ms linear ${i}ms 1 both`,N+=1,f}function O(t,n){const e=(t.style.animation||"").split(", "),r=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),i=e.length-r.length;i&&(t.style.animation=r.join(", "),N-=i,N||h(()=>{N||($.forEach(t=>{const n=t.__svelte_stylesheet;let e=n.cssRules.length;for(;e--;)n.deleteRule(e);t.__svelte_rules={}}),$.clear())}))}function L(t){const n=getComputedStyle(t);if("absolute"!==n.position&&"fixed"!==n.position){const{width:e,height:r}=n,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=e,t.style.height=r,function(t,n){const e=t.getBoundingClientRect();if(n.left!==e.left||n.top!==e.top){const r=getComputedStyle(t),i="none"===r.transform?"":r.transform;t.style.transform=`${i} translate(${n.left-e.left}px, ${n.top-e.top}px)`}}(t,i)}}function q(t){E=t}function R(){if(!E)throw new Error("Function called outside component initialization");return E}function D(t){R().$$.on_mount.push(t)}const U=[],B=[],H=[],F=[],W=Promise.resolve();let V=!1;function Y(t){H.push(t)}function K(t){F.push(t)}let G=!1;const X=new Set;function Z(){if(!G){G=!0;do{for(let t=0;t<U.length;t+=1){const n=U[t];q(n),J(n.$$)}for(U.length=0;B.length;)B.pop()();for(let t=0;t<H.length;t+=1){const n=H[t];X.has(n)||(X.add(n),n())}H.length=0}while(U.length);for(;F.length;)F.pop()();V=!1,G=!1,X.clear()}}function J(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(Y)}}let Q;function tt(){return Q||(Q=Promise.resolve(),Q.then(()=>{Q=null})),Q}function nt(t,n,e){t.dispatchEvent(I(`${n?"intro":"outro"}${e}`))}const et=new Set;let rt;function it(){rt={r:0,c:[],p:rt}}function ot(){rt.r||i(rt.c),rt=rt.p}function at(t,n){t&&t.i&&(et.delete(t),t.i(n))}function ut(t,n,e,r){if(t&&t.o){if(et.has(t))return;et.add(t),rt.c.push(()=>{et.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}const st={duration:0};function lt(e,r,a,u){let s=r(e,a),l=u?0:1,c=null,h=null,p=null;function d(){p&&O(e,p)}function m(t,n){const e=t.b-l;return n*=Math.abs(e),{a:l,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function y(r){const{delay:o=0,duration:a=300,easing:u=n,tick:y=t,css:g}=s||st,_={start:f()+o,b:r};r||(_.group=rt,rt.r+=1),c?h=_:(g&&(d(),p=C(e,l,r,a,o,u,g)),r&&y(0,1),c=m(_,a),Y(()=>nt(e,r,"start")),v(t=>{if(h&&t>h.start&&(c=m(h,a),h=null,nt(e,c.b,"start"),g&&(d(),p=C(e,l,c.b,c.duration,0,u,s.css))),c)if(t>=c.end)y(l=c.b,1-l),nt(e,c.b,"end"),h||(c.b?d():--c.group.r||i(c.group.c)),c=null;else if(t>=c.start){const n=t-c.start;l=c.a+c.d*u(n/c.duration),y(l,1-l)}return!(!c&&!h)}))}return{run(t){o(s)?tt().then(()=>{s=s(),y(t)}):y(t)},end(){d(),c=h=null}}}function ct(t,n){t.f(),function(t,n){ut(t,1,1,()=>{n.delete(t.key)})}(t,n)}function ft(t,n,e){const r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function ht(t){t&&t.c()}function pt(t,n,r){const{fragment:a,on_mount:u,on_destroy:s,after_update:l}=t.$$;a&&a.m(n,r),Y(()=>{const n=u.map(e).filter(o);s?s.push(...n):i(n),t.$$.on_mount=[]}),l.forEach(Y)}function dt(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function vt(t,n){-1===t.$$.dirty[0]&&(U.push(t),V||(V=!0,W.then(Z)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function mt(n,e,o,a,u,s,l=[-1]){const c=E;q(n);const f=e.props||{},h=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:u,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:r(),dirty:l};let p=!1;if(h.ctx=o?o(n,f,(t,e,...r)=>{const i=r.length?r[0]:e;return h.ctx&&u(h.ctx[t],h.ctx[t]=i)&&(h.bound[t]&&h.bound[t](i),p&&vt(n,t)),e}):[],h.update(),p=!0,i(h.before_update),h.fragment=!!a&&a(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(g)}else h.fragment&&h.fragment.c();e.intro&&at(n.$$.fragment),pt(n,e.target,e.anchor),Z()}q(c)}class yt{$destroy(){dt(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}var gt=[{name:"Stanford Faces",description:"This dataset consists of photos of the same head taken from a different angle and with different lighting.",paths:["stanfordfaces_size50_call_GRP.csv","stanfordfaces_size50_call_ISM_n15.csv","stanfordfaces_size50_call_ISM_n2.csv","stanfordfaces_size50_call_ISM_n5.csv","stanfordfaces_size50_call_ISM_n7.csv","stanfordfaces_size50_call_MDS.csv","stanfordfaces_size50_call_PCA.csv","stanfordfaces_size50_call_SE_n7.csv","stanfordfaces_size50_call_TSNE_p100.csv","stanfordfaces_size50_call_TSNE_p10.csv","stanfordfaces_size50_call_TSNE_p30.csv","stanfordfaces_size50_call_TSNE_p5.csv","stanfordfaces_size50_call_UMAP_n15_d0.1.csv","stanfordfaces_size50_call_UMAP_n15_d0.5.csv","stanfordfaces_size50_call_UMAP_n15_d0.8.csv","stanfordfaces_size50_call_UMAP_n2_d0.1.csv","stanfordfaces_size50_call_UMAP_n2_d0.5.csv","stanfordfaces_size50_call_UMAP_n2_d0.8.csv","stanfordfaces_size50_call_UMAP_n5_d0.1.csv","stanfordfaces_size50_call_UMAP_n5_d0.5.csv","stanfordfaces_size50_call_UMAP_n5_d0.8.csv","stanfordfaces_size50_call_UMAP_n7_d0.1.csv","stanfordfaces_size50_call_UMAP_n7_d0.5.csv","stanfordfaces_size50_call_UMAP_n7_d0.8.csv"]}];function _t(t){const n=t-1;return n*n*n+1}function bt(t){return--t*t*t*t*t+1}function wt(t,{delay:e=0,duration:r=400,easing:i=n}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:i,css:t=>"opacity: "+t*o}}function xt(t,{delay:n=0,duration:e=400,easing:r=_t,x:i=0,y:o=0,opacity:a=0}){const u=getComputedStyle(t),s=+u.opacity,l="none"===u.transform?"":u.transform,c=s*(1-a);return{delay:n,duration:e,easing:r,css:(t,n)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*i}px, ${(1-t)*o}px);\n\t\t\topacity: ${s-c*n}`}}function jt(t,{delay:n=0,duration:e=400,easing:r=_t,start:i=0,opacity:o=0}){const a=getComputedStyle(t),u=+a.opacity,s="none"===a.transform?"":a.transform,l=1-i,c=u*(1-o);return{delay:n,duration:e,easing:r,css:(t,n)=>`\n\t\t\ttransform: ${s} scale(${1-l*n});\n\t\t\topacity: ${u-c*n}\n\t\t`}}const kt=[];function Tt(t,n){return{subscribe:At(t,n).subscribe}}function At(n,e=t){let r;const i=[];function o(t){if(a(n,t)&&(n=t,r)){const t=!kt.length;for(let t=0;t<i.length;t+=1){const e=i[t];e[1](),kt.push(e,n)}if(t){for(let t=0;t<kt.length;t+=2)kt[t][0](kt[t+1]);kt.length=0}}}return{set:o,update:function(t){o(t(n))},subscribe:function(a,u=t){const s=[a,u];return i.push(s),1===i.length&&(r=e(o)||t),a(n),()=>{const t=i.indexOf(s);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Mt(n,e,r){const a=!Array.isArray(n),s=a?[n]:n,l=e.length<2;return Tt(r,n=>{let r=!1;const c=[];let f=0,h=t;const p=()=>{if(f)return;h();const r=e(a?c[0]:c,n);l?n(r):h=o(r)?r:t},d=s.map((t,n)=>u(t,t=>{c[n]=t,f&=~(1<<n),r&&p()},()=>{f|=1<<n}));return r=!0,p(),function(){i(d),h()}})}function Pt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var St,zt,It=(1===(St=Pt).length&&(zt=St,St=function(t,n){return Pt(zt(t),n)}),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;St(t[i],n)<0?e=i+1:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;St(t[i],n)>0?r=i:e=i+1}return e}}).right;function $t(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e>=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}var Et=Math.sqrt(50),Nt=Math.sqrt(10),Ct=Math.sqrt(2);function Ot(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Et?10:o>=Nt?5:o>=Ct?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Et?10:o>=Nt?5:o>=Ct?2:1)}var Lt={value:function(){}};function qt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Rt(r)}function Rt(t){this._=t}function Dt(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function Ut(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Bt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Lt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Rt.prototype=qt.prototype={constructor:Rt,on:function(t,n){var e,r=this._,i=Dt(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=Bt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Bt(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=Ut(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Rt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Ht="http://www.w3.org/1999/xhtml",Ft={svg:"http://www.w3.org/2000/svg",xhtml:Ht,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ft.hasOwnProperty(n)?{space:Ft[n],local:t}:t}function Vt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Ht&&n.documentElement.namespaceURI===Ht?n.createElement(t):n.createElementNS(e,t)}}function Yt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Kt(t){var n=Wt(t);return(n.local?Yt:Vt)(n)}function Gt(){}function Xt(t){return null==t?Gt:function(){return this.querySelector(t)}}function Zt(){return[]}function Jt(t){return null==t?Zt:function(){return this.querySelectorAll(t)}}function Qt(t){return function(){return this.matches(t)}}function tn(t){return new Array(t.length)}function nn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}nn.prototype={constructor:nn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function en(t,n,e,r,i,o){for(var a,u=0,s=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new nn(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function rn(t,n,e,r,i,o,a){var u,s,l,c={},f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(p[u]=l="$"+a.call(s,s.__data__,u,n),l in c?i[u]=s:c[l]=s);for(u=0;u<h;++u)(s=c[l="$"+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],c[l]=null):e[u]=new nn(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&c[p[u]]===s&&(i[u]=s)}function on(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function an(t){return function(){this.removeAttribute(t)}}function un(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sn(t,n){return function(){this.setAttribute(t,n)}}function ln(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function cn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function fn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function hn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function pn(t){return function(){this.style.removeProperty(t)}}function dn(t,n,e){return function(){this.style.setProperty(t,n,e)}}function vn(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function mn(t,n){return t.style.getPropertyValue(n)||hn(t).getComputedStyle(t,null).getPropertyValue(n)}function yn(t){return function(){delete this[t]}}function gn(t,n){return function(){this[t]=n}}function _n(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function bn(t){return t.trim().split(/^|\s+/)}function wn(t){return t.classList||new xn(t)}function xn(t){this._node=t,this._names=bn(t.getAttribute("class")||"")}function jn(t,n){for(var e=wn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function kn(t,n){for(var e=wn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Tn(t){return function(){jn(this,t)}}function An(t){return function(){kn(this,t)}}function Mn(t,n){return function(){(n.apply(this,arguments)?jn:kn)(this,t)}}function Pn(){this.textContent=""}function Sn(t){return function(){this.textContent=t}}function zn(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function In(){this.innerHTML=""}function $n(t){return function(){this.innerHTML=t}}function En(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Nn(){this.nextSibling&&this.parentNode.appendChild(this)}function Cn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function On(){return null}function Ln(){var t=this.parentNode;t&&t.removeChild(this)}function qn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Rn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}xn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Dn={},Un=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Dn={mouseenter:"mouseover",mouseleave:"mouseout"}));function Bn(t,n,e){return t=Hn(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Hn(t,n,e){return function(r){var i=Un;Un=r;try{t.call(this,this.__data__,n,e)}finally{Un=i}}}function Fn(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Wn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Vn(t,n,e){var r=Dn.hasOwnProperty(t.type)?Bn:Hn;return function(i,o,a){var u,s=this.__on,l=r(n,o,a);if(s)for(var c=0,f=s.length;c<f;++c)if((u=s[c]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=e),void(u.value=n);this.addEventListener(t.type,l,e),u={type:t.type,name:t.name,value:n,listener:l,capture:e},s?s.push(u):this.__on=[u]}}function Yn(t,n,e){var r=hn(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Kn(t,n){return function(){return Yn(this,t,n)}}function Gn(t,n){return function(){return Yn(this,t,n.apply(this,arguments))}}var Xn=[null];function Zn(t,n){this._groups=t,this._parents=n}function Jn(){return new Zn([[document.documentElement]],Xn)}function Qn(t){return"string"==typeof t?new Zn([[document.querySelector(t)]],[document.documentElement]):new Zn([[t]],Xn)}function te(){for(var t,n=Un;t=n.sourceEvent;)n=t;return n}function ne(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function ee(t){var n=te();return n.changedTouches&&(n=n.changedTouches[0]),ne(t,n)}function re(t,n,e){arguments.length<3&&(e=n,n=te().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return ne(t,r);return null}function ie(){Un.preventDefault(),Un.stopImmediatePropagation()}function oe(t){var n=t.document.documentElement,e=Qn(t).on("dragstart.drag",ie,!0);"onselectstart"in n?e.on("selectstart.drag",ie,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function ae(t,n){var e=t.document.documentElement,r=Qn(t).on("dragstart.drag",null);n&&(r.on("click.drag",ie,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function ue(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function se(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function le(){}Zn.prototype=Jn.prototype={constructor:Zn,select:function(t){"function"!=typeof t&&(t=Xt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=u[c])&&(a=t.call(o,o.__data__,c,u))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Zn(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Jt(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,l=0;l<s;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new Zn(r,i)},filter:function(t){"function"!=typeof t&&(t=Qt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new Zn(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var e,r=n?rn:en,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],p=h.length,d=t.call(f,f&&f.__data__,c,i),v=d.length,m=s[c]=new Array(v),y=u[c]=new Array(v);r(f,h,m,y,l[c]=new Array(p),d,n);for(var g,_,b=0,w=0;b<v;++b)if(g=m[b]){for(b>=w&&(w=b+1);!(_=y[w])&&++w<v;);g._next=_||null}}return(u=new Zn(u,i))._enter=s,u._exit=l,u},enter:function(){return new Zn(this._enter||this._groups.map(tn),this._parents)},exit:function(){return new Zn(this._exit||this._groups.map(tn),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=n[u],c=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new Zn(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=on);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,l=i[o]=new Array(s),c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(n)}return new Zn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Wt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?un:an:"function"==typeof n?e.local?fn:cn:e.local?ln:sn)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?pn:"function"==typeof n?vn:dn)(t,n,null==e?"":e)):mn(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?yn:"function"==typeof n?_n:gn)(t,n)):this.node()[t]},classed:function(t,n){var e=bn(t+"");if(arguments.length<2){for(var r=wn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Mn:n?Tn:An)(e,n))},text:function(t){return arguments.length?this.each(null==t?Pn:("function"==typeof t?zn:Sn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?In:("function"==typeof t?En:$n)(t)):this.node().innerHTML},raise:function(){return this.each(Nn)},lower:function(){return this.each(Cn)},append:function(t){var n="function"==typeof t?t:Kt(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Kt(t),r=null==n?On:"function"==typeof n?n:Xt(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ln)},clone:function(t){return this.select(t?Rn:qn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Fn(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?Vn:Wn,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?Gn:Kn)(t,n))}};var ce="\\s*([+-]?\\d+)\\s*",fe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",he="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pe=/^#([0-9a-f]{3,8})$/,de=new RegExp("^rgb\\("+[ce,ce,ce]+"\\)$"),ve=new RegExp("^rgb\\("+[he,he,he]+"\\)$"),me=new RegExp("^rgba\\("+[ce,ce,ce,fe]+"\\)$"),ye=new RegExp("^rgba\\("+[he,he,he,fe]+"\\)$"),ge=new RegExp("^hsl\\("+[fe,he,he]+"\\)$"),_e=new RegExp("^hsla\\("+[fe,he,he,fe]+"\\)$"),be={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function we(){return this.rgb().formatHex()}function xe(){return this.rgb().formatRgb()}function je(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=pe.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?ke(n):3===e?new Pe(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Te(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Te(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=de.exec(t))?new Pe(n[1],n[2],n[3],1):(n=ve.exec(t))?new Pe(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=me.exec(t))?Te(n[1],n[2],n[3],n[4]):(n=ye.exec(t))?Te(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ge.exec(t))?$e(n[1],n[2]/100,n[3]/100,1):(n=_e.exec(t))?$e(n[1],n[2]/100,n[3]/100,n[4]):be.hasOwnProperty(t)?ke(be[t]):"transparent"===t?new Pe(NaN,NaN,NaN,0):null}function ke(t){return new Pe(t>>16&255,t>>8&255,255&t,1)}function Te(t,n,e,r){return r<=0&&(t=n=e=NaN),new Pe(t,n,e,r)}function Ae(t){return t instanceof le||(t=je(t)),t?new Pe((t=t.rgb()).r,t.g,t.b,t.opacity):new Pe}function Me(t,n,e,r){return 1===arguments.length?Ae(t):new Pe(t,n,e,null==r?1:r)}function Pe(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Se(){return"#"+Ie(this.r)+Ie(this.g)+Ie(this.b)}function ze(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ie(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function $e(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Ne(t,n,e,r)}function Ee(t){if(t instanceof Ne)return new Ne(t.h,t.s,t.l,t.opacity);if(t instanceof le||(t=je(t)),!t)return new Ne;if(t instanceof Ne)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Ne(a,u,s,t.opacity)}function Ne(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ce(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Oe(t){return function(){return t}}function Le(t){return 1==(t=+t)?qe:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Oe(isNaN(n)?e:n)}}function qe(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Oe(isNaN(t)?n:t)}ue(le,je,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:we,formatHex:we,formatHsl:function(){return Ee(this).formatHsl()},formatRgb:xe,toString:xe}),ue(Pe,Me,se(le,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Se,formatHex:Se,formatRgb:ze,toString:ze})),ue(Ne,(function(t,n,e,r){return 1===arguments.length?Ee(t):new Ne(t,n,e,null==r?1:r)}),se(le,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ne(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ne(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Pe(Ce(t>=240?t-240:t+120,i,r),Ce(t,i,r),Ce(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Re=function t(n){var e=Le(n);function r(t,n){var r=e((t=Me(t)).r,(n=Me(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=qe(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function De(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Ue(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Ke(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Be(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function He(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Fe(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Ke(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var We=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ve=new RegExp(We.source,"g");function Ye(t,n){var e,r,i,o=We.lastIndex=Ve.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=We.exec(t))&&(r=Ve.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:He(e,r)})),o=Ve.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function Ke(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?Oe(n):("number"===i?He:"string"===i?(e=je(n))?(n=e,Re):Ye:n instanceof je?Re:n instanceof Date?Be:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?Ue:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Fe:He:De))(t,n)}function Ge(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Xe,Ze,Je,Qe,tr=180/Math.PI,nr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function er(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*tr,skewX:Math.atan(s)*tr,scaleX:a,scaleY:u}}function rr(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:He(t,i)},{i:s-2,x:He(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:He(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:He(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:He(t,e)},{i:u-2,x:He(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var ir=rr((function(t){return"none"===t?nr:(Xe||(Xe=document.createElement("DIV"),Ze=document.documentElement,Je=document.defaultView),Xe.style.transform=t,t=Je.getComputedStyle(Ze.appendChild(Xe),null).getPropertyValue("transform"),Ze.removeChild(Xe),er(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),or=rr((function(t){return null==t?nr:(Qe||(Qe=document.createElementNS("http://www.w3.org/2000/svg","g")),Qe.setAttribute("transform",t),(t=Qe.transform.baseVal.consolidate())?er((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):nr)}),", ",")",")"),ar=Math.SQRT2;function ur(t){return((t=Math.exp(t))+1/t)/2}function sr(t,n){var e,r,i=t[0],o=t[1],a=t[2],u=n[0],s=n[1],l=n[2],c=u-i,f=s-o,h=c*c+f*f;if(h<1e-12)r=Math.log(l/a)/ar,e=function(t){return[i+t*c,o+t*f,a*Math.exp(ar*t*r)]};else{var p=Math.sqrt(h),d=(l*l-a*a+4*h)/(2*a*2*p),v=(l*l-a*a-4*h)/(2*l*2*p),m=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-m)/ar,e=function(t){var n,e=t*r,u=ur(m),s=a/(2*p)*(u*(n=ar*e+m,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+s*c,o+s*f,a*u/ur(ar*e+m)]}}return e.duration=1e3*r,e}var lr,cr,fr=0,hr=0,pr=0,dr=0,vr=0,mr=0,yr="object"==typeof performance&&performance.now?performance:Date,gr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _r(){return vr||(gr(br),vr=yr.now()+mr)}function br(){vr=0}function wr(){this._call=this._time=this._next=null}function xr(t,n,e){var r=new wr;return r.restart(t,n,e),r}function jr(){vr=(dr=yr.now())+mr,fr=hr=0;try{!function(){_r(),++fr;for(var t,n=lr;n;)(t=vr-n._time)>=0&&n._call.call(null,t),n=n._next;--fr}()}finally{fr=0,function(){var t,n,e=lr,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:lr=n);cr=t,Tr(r)}(),vr=0}}function kr(){var t=yr.now(),n=t-dr;n>1e3&&(mr-=n,dr=t)}function Tr(t){fr||(hr&&(hr=clearTimeout(hr)),t-vr>24?(t<1/0&&(hr=setTimeout(jr,t-yr.now()-mr)),pr&&(pr=clearInterval(pr))):(pr||(dr=yr.now(),pr=setInterval(kr,1e3)),fr=1,gr(jr)))}function Ar(t,n,e){var r=new wr;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r}wr.prototype=xr.prototype={constructor:wr,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?_r():+e)+(null==n?0:+n),this._next||cr===this||(cr?cr._next=this:lr=this,cr=this),this._call=t,this._time=e,Tr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tr())}};var Mr=qt("start","end","cancel","interrupt"),Pr=[];function Sr(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var l,c,f,h;if(1!==e.state)return u();for(l in i)if((h=i[l]).name===e.name){if(3===h.state)return Ar(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(Ar((function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),l=0,c=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=xr((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Mr,tween:Pr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function zr(t,n){var e=$r(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Ir(t,n){var e=$r(t,n);if(e.state>3)throw new Error("too late; already running");return e}function $r(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Er(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function Nr(t,n){var e,r;return function(){var i=Ir(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function Cr(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Ir(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=u;break}s===l&&i.push(u)}o.tween=i}}function Or(t,n,e){var r=t._id;return t.each((function(){var t=Ir(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return $r(t,r).value[n]}}function Lr(t,n){var e;return("number"==typeof n?He:n instanceof je?Re:(e=je(n))?(n=e,Re):Ye)(t,n)}function qr(t){return function(){this.removeAttribute(t)}}function Rr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Dr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Ur(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function Br(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function Hr(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function Fr(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Wr(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Vr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Wr(t,i)),e}return i._value=n,i}function Yr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Fr(t,i)),e}return i._value=n,i}function Kr(t,n){return function(){zr(this,t).delay=+n.apply(this,arguments)}}function Gr(t,n){return n=+n,function(){zr(this,t).delay=n}}function Xr(t,n){return function(){Ir(this,t).duration=+n.apply(this,arguments)}}function Zr(t,n){return n=+n,function(){Ir(this,t).duration=n}}function Jr(t,n){if("function"!=typeof n)throw new Error;return function(){Ir(this,t).ease=n}}function Qr(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?zr:Ir;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var ti=Jn.prototype.constructor;function ni(t){return function(){this.style.removeProperty(t)}}function ei(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function ri(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&ei(t,o,e)),r}return o._value=n,o}function ii(t){return function(n){this.textContent=t.call(this,n)}}function oi(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&ii(r)),n}return r._value=t,r}var ai=0;function ui(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function si(){return++ai}var li=Jn.prototype;ui.prototype=function(t){return Jn().transition(t)}.prototype={constructor:ui,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Xt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,l=r[a],c=l.length,f=o[a]=new Array(c),h=0;h<c;++h)(u=l[h])&&(s=t.call(u,u.__data__,h,l))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,Sr(f[h],n,e,h,f,$r(u,e)));return new ui(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Jt(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,p=t.call(s,s.__data__,f,l),d=$r(s,e),v=0,m=p.length;v<m;++v)(h=p[v])&&Sr(h,n,e,v,p,d);o.push(p),a.push(s)}return new ui(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=Qt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new ui(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=n[u],c=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new ui(a,this._parents,this._name,this._id)},selection:function(){return new ti(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=si(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)if(a=u[l]){var c=$r(a,n);Sr(a,t,e,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ui(r,this._parents,t,e)},call:li.call,nodes:li.nodes,node:li.node,size:li.size,empty:li.empty,each:li.each,on:function(t,n){var e=this._id;return arguments.length<2?$r(this.node(),e).on.on(t):this.each(Qr(e,t,n))},attr:function(t,n){var e=Wt(t),r="transform"===e?or:Lr;return this.attrTween(t,"function"==typeof n?(e.local?Hr:Br)(e,r,Or(this,"attr."+t,n)):null==n?(e.local?Rr:qr)(e):(e.local?Ur:Dr)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Wt(t);return this.tween(e,(r.local?Vr:Yr)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?ir:Lr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=mn(this,t),a=(this.style.removeProperty(t),mn(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,ni(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=mn(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=mn(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,Or(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=Ir(this,t),l=s.on,c=null==s.value[a]?o||(o=ni(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=mn(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,ri(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Or(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,oi(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=$r(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Nr:Cr)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Kr:Gr)(n,t)):$r(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Xr:Zr)(n,t)):$r(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Jr(n,t)):$r(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};e.each((function(){var e=Ir(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n}))}))}};var ci={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function fi(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return ci.time=_r(),ci;return e}Jn.prototype.interrupt=function(t){return this.each((function(){Er(this,t)}))},Jn.prototype.transition=function(t){var n,e;t instanceof ui?(n=t._id,t=t._name):(n=si(),(e=ci).time=_r(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)(a=u[l])&&Sr(a,t,n,l,u,e||fi(a,n));return new ui(r,this._parents,t,n)};function hi(){}function pi(t,n){var e=new hi;if(t instanceof hi)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function di(){}hi.prototype=pi.prototype={constructor:hi,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var vi=pi.prototype;di.prototype=function(t,n){var e=new di;if(t instanceof di)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:di,has:vi.has,add:function(t){return this["$"+(t+="")]=t,this},remove:vi.remove,clear:vi.clear,values:vi.keys,size:vi.size,empty:vi.empty,each:vi.each};var mi={},yi={};function gi(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function _i(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function bi(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function wi(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+bi(-n,6):n>9999?"+"+bi(n,6):bi(n,4))+"-"+bi(t.getUTCMonth()+1,2)+"-"+bi(t.getUTCDate(),2)+(o?"T"+bi(e,2)+":"+bi(r,2)+":"+bi(i,2)+"."+bi(o,3)+"Z":i?"T"+bi(e,2)+":"+bi(r,2)+":"+bi(i,2)+"Z":r||e?"T"+bi(e,2)+":"+bi(r,2)+"Z":"")}var xi=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,s=o<=0,l=!1;function c(){if(s)return yi;if(l)return l=!1,mi;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==yi;){for(var f=[];r!==mi&&r!==yi;)f.push(r),r=c();n&&null==(f=n(f,u++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?wi(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=gi(t);return function(r,i){return n(e(r),i,t)}}(t,n):gi(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=_i(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=_i(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(",").parse;function ji(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ki(t,n){return fetch(t,n).then(ji)}var Ti,Ai=(Ti=xi,function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),ki(t,n).then((function(t){return Ti(t,e)}))});function Mi(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Pi(t){return(t=Mi(Math.abs(t)))?t[1]:NaN}var Si,zi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ii(t){if(!(n=zi.exec(t)))throw new Error("invalid format: "+t);var n;return new $i({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function $i(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ei(t,n){var e=Mi(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ii.prototype=$i.prototype,$i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ni={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Ei(100*t,n)},r:Ei,s:function(t,n){var e=Mi(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Si=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Mi(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ci(t){return t}var Oi,Li,qi,Ri=Array.prototype.map,Di=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ui(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Ci:(n=Ri.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Ci:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Ri.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Ii(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,v=t.comma,m=t.precision,y=t.trim,g=t.type;"n"===g?(v=!0,g="g"):Ni[g]||(void 0===m&&(m=12),y=!0,g="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var _="$"===h?i:"#"===h&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",b="$"===h?o:/[%p]/.test(g)?s:"",w=Ni[g],x=/[defgprs%]/.test(g);function j(t){var i,o,s,h=_,j=b;if("c"===g)j=w(t)+j,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),m),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:l:"-"===f||"("===f?"":f)+h,j=("s"===g?Di[8+Si/3]:"")+j+(k&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){j=(46===s?a+t.slice(i+1):t.slice(i))+j,t=t.slice(0,i);break}}v&&!p&&(t=r(t,1/0));var T=h.length+t.length+j.length,A=T<d?new Array(d-T+1).join(n):"";switch(v&&p&&(t=r(A+t,A.length?d-j.length:1/0),A=""),e){case"<":t=h+t+j+A;break;case"=":t=h+A+t+j;break;case"^":t=A.slice(0,T=A.length>>1)+h+t+j+A.slice(T);break;default:t=A+h+t+j}return u(t)}return m=void 0===m?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),j.toString=function(){return t+""},j}return{format:f,formatPrefix:function(t,n){var e=f(((t=Ii(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Pi(n)/3))),i=Math.pow(10,-r),o=Di[8+r/3];return function(t){return e(i*t)+o}}}}function Bi(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}Oi=Ui({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Li=Oi.format,qi=Oi.formatPrefix;var Hi=Array.prototype,Fi=Hi.map,Wi=Hi.slice,Vi={name:"implicit"};function Yi(t){return+t}var Ki=[0,1];function Gi(t){return t}function Xi(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Zi(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function Ji(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Xi(i,r),o=e(a,o)):(r=Xi(r,i),o=e(o,a)),function(t){return o(r(t))}}function Qi(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Xi(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=It(t,n,1,r)-1;return o[e](i[e](n))}}function to(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function no(t,n){return function(){var t,n,e,r,i,o,a=Ki,u=Ki,s=Ke,l=Gi;function c(){return r=Math.min(a.length,u.length)>2?Qi:Ji,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(l(n)))}return f.invert=function(e){return l(n((o||(o=r(u,a.map(t),He)))(e)))},f.domain=function(t){return arguments.length?(a=Fi.call(t,Yi),l===Gi||(l=Zi(a)),c()):a.slice()},f.range=function(t){return arguments.length?(u=Wi.call(t),c()):u.slice()},f.rangeRound=function(t){return u=Wi.call(t),s=Ge,c()},f.clamp=function(t){return arguments.length?(l=t?Zi(a):Gi,f):l!==Gi},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,c()}}()(t,n)}function eo(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Et?i*=10:o>=Nt?i*=5:o>=Ct&&(i*=2),n<t?-i:i}(t,n,e);switch((r=Ii(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Pi(n)/3)))-Pi(Math.abs(t)))}(o,a))||(r.precision=i),qi(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Pi(n)-Pi(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Pi(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Li(r)}function ro(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=Ot(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return eo(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,a=i.length-1,u=i[o],s=i[a];return s<u&&(r=u,u=s,s=r,r=o,o=a,a=r),(r=Ot(u,s,e))>0?r=Ot(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,e):r<0&&(r=Ot(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,e)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(s/r)*r,n(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(s*r)/r,n(i)),t},t}function io(){var t=no(Gi,Gi);return t.copy=function(){return to(t,io())},Bi.apply(t,arguments),ro(t)}var oo=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");function ao(t){return function(){return t}}function uo(t,n,e){this.target=t,this.type=n,this.transform=e}function so(t,n,e){this.k=t,this.x=n,this.y=e}so.prototype={constructor:so,scale:function(t){return 1===t?this:new so(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new so(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var lo=new so(1,0,0);function co(){Un.stopImmediatePropagation()}function fo(){Un.preventDefault(),Un.stopImmediatePropagation()}function ho(){return!Un.ctrlKey&&!Un.button}function po(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function vo(){return this.__zoom||lo}function mo(){return-Un.deltaY*(1===Un.deltaMode?.05:Un.deltaMode?1:.002)}function yo(){return navigator.maxTouchPoints||"ontouchstart"in this}function go(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function _o(){var t,n,e=ho,r=po,i=go,o=mo,a=yo,u=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,c=sr,f=qt("start","zoom","end"),h=0;function p(t){t.property("__zoom",vo).on("wheel.zoom",b).on("mousedown.zoom",w).on("dblclick.zoom",x).filter(a).on("touchstart.zoom",j).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(t,n){return(n=Math.max(u[0],Math.min(u[1],n)))===t.k?t:new so(n,t.x,t.y)}function v(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new so(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,n,e){t.on("start.zoom",(function(){g(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){g(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=g(t,i),a=r.apply(t,i),u=null==e?m(a):"function"==typeof e?e.apply(t,i):e,s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,f="function"==typeof n?n.apply(t,i):n,h=c(l.invert(u).concat(s/l.k),f.invert(u).concat(s/f.k));return function(t){if(1===t)t=f;else{var n=h(t),e=s/n[2];t=new so(e,u[0]-n[0]*e,u[1]-n[1]*e)}o.zoom(null,t)}}))}function g(t,n,e){return!e&&t.__zooming||new _(t,n)}function _(t,n){this.that=t,this.args=n,this.active=0,this.extent=r.apply(t,n),this.taps=0}function b(){if(e.apply(this,arguments)){var t=g(this,arguments),n=this.__zoom,r=Math.max(u[0],Math.min(u[1],n.k*Math.pow(2,o.apply(this,arguments)))),a=ee(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=n.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[a,n.invert(a)],Er(this),t.start()}fo(),t.wheel=setTimeout(l,150),t.zoom("mouse",i(v(d(n,r),t.mouse[0],t.mouse[1]),t.extent,s))}function l(){t.wheel=null,t.end()}}function w(){if(!n&&e.apply(this,arguments)){var t=g(this,arguments,!0),r=Qn(Un.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",c,!0),o=ee(this),a=Un.clientX,u=Un.clientY;oe(Un.view),co(),t.mouse=[o,this.__zoom.invert(o)],Er(this),t.start()}function l(){if(fo(),!t.moved){var n=Un.clientX-a,e=Un.clientY-u;t.moved=n*n+e*e>h}t.zoom("mouse",i(v(t.that.__zoom,t.mouse[0]=ee(t.that),t.mouse[1]),t.extent,s))}function c(){r.on("mousemove.zoom mouseup.zoom",null),ae(Un.view,t.moved),fo(),t.end()}}function x(){if(e.apply(this,arguments)){var t=this.__zoom,n=ee(this),o=t.invert(n),a=t.k*(Un.shiftKey?.5:2),u=i(v(d(t,a),n,o),r.apply(this,arguments),s);fo(),l>0?Qn(this).transition().duration(l).call(y,u,n):Qn(this).call(p.transform,u)}}function j(){if(e.apply(this,arguments)){var n,r,i,o,a=Un.touches,u=a.length,s=g(this,arguments,Un.changedTouches.length===u);for(co(),r=0;r<u;++r)o=[o=re(this,a,(i=a[r]).identifier),this.__zoom.invert(o),i.identifier],s.touch0?s.touch1||s.touch0[2]===o[2]||(s.touch1=o,s.taps=0):(s.touch0=o,n=!0,s.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(s.taps<2&&(t=setTimeout((function(){t=null}),500)),Er(this),s.start())}}function k(){if(this.__zooming){var n,e,r,o,a=g(this,arguments),u=Un.changedTouches,l=u.length;for(fo(),t&&(t=clearTimeout(t)),a.taps=0,n=0;n<l;++n)r=re(this,u,(e=u[n]).identifier),a.touch0&&a.touch0[2]===e.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===e.identifier&&(a.touch1[0]=r);if(e=a.that.__zoom,a.touch1){var c=a.touch0[0],f=a.touch0[1],h=a.touch1[0],p=a.touch1[1],m=(m=h[0]-c[0])*m+(m=h[1]-c[1])*m,y=(y=p[0]-f[0])*y+(y=p[1]-f[1])*y;e=d(e,Math.sqrt(m/y)),r=[(c[0]+h[0])/2,(c[1]+h[1])/2],o=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(v(e,r,o),a.extent,s))}}function T(){if(this.__zooming){var t,e,r=g(this,arguments),i=Un.changedTouches,o=i.length;for(co(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),t=0;t<o;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Qn(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return p.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",vo),t!==r?y(t,n,e):r.interrupt().each((function(){g(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},p.scaleBy=function(t,n,e){p.scaleTo(t,(function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e}),e)},p.scaleTo=function(t,n,e){p.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==e?m(t):"function"==typeof e?e.apply(this,arguments):e,u=o.invert(a),l="function"==typeof n?n.apply(this,arguments):n;return i(v(d(o,l),a,u),t,s)}),e)},p.translateBy=function(t,n,e){p.transform(t,(function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),s)}))},p.translateTo=function(t,n,e,o){p.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,u=null==o?m(t):"function"==typeof o?o.apply(this,arguments):o;return i(lo.translate(u[0],u[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,s)}),o)},_.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,n,e,r){var i=Un;t.sourceEvent=Un,Un=t;try{n.apply(e,r)}finally{Un=i}}(new uo(p,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},p.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:ao(+t),p):o},p.filter=function(t){return arguments.length?(e="function"==typeof t?t:ao(!!t),p):e},p.touchable=function(t){return arguments.length?(a="function"==typeof t?t:ao(!!t),p):a},p.extent=function(t){return arguments.length?(r="function"==typeof t?t:ao([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):r},p.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],p):[u[0],u[1]]},p.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(t){return arguments.length?(i=t,p):i},p.duration=function(t){return arguments.length?(l=+t,p):l},p.interpolate=function(t){return arguments.length?(c=t,p):c},p.on=function(){var t=f.on.apply(f,arguments);return t===f?p:t},p.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,p):Math.sqrt(h)},p}function bo(t){const{subscribe:n,set:e,update:r}=At(t);return{subscribe:n,increment:()=>r(t=>t+1),decrement:()=>r(t=>t-1),reset:()=>e(0),set:t=>e(t)}}const wo=bo(10),xo=bo(10),jo=function(t){const{subscribe:n,set:e,update:r}=At({projections:[],images:[],hover:null});return{subscribe:n,set_hover:t=>r(n=>(n.hover=t,n)),load:(t,n)=>r(e=>(wo.set(15),xo.set(10),e.ready=!1,Io.reset(),Promise.all(n.map(t=>Ai("data/dr/"+t).then(async t=>(Io.increment(),t)))).then(e=>{e.forEach((t,e)=>t.name=n[e]),t.set_projections(e)}),e)),set_projections:t=>r(n=>(n.projections=t.map((t,n)=>{let e=t.map((n,e)=>({x:+n[t.columns[0]],y:+n[t.columns[1]],class:n.labels,img:n.filename}));return e.name=t.name,e.pos_count=0,e.neg_count=0,e.comment="",e.position=n,e}),n.images=t[0].map(t=>t.filename),n.ready=!0,n)),sort_by_pos:()=>r(t=>{const n=t.projections.sort((t,n)=>function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}(t.pos_count-t.neg_count,n.pos_count-n.neg_count));return t.projections=n,t})}}(),ko=Mt(jo,t=>t.images),To=Mt(jo,t=>t.ready),Ao=Mt(jo,t=>t.projections||[]),Mo=Mt(jo,t=>t.hover);let Po=Tt(function t(){var n=pi(),e=[],r=[],i=Vi;function o(t){var o=t+"",a=n.get(o);if(!a){if(i!==Vi)return i;n.set(o,a=e.push(t))}return r[(a-1)%r.length]}return o.domain=function(t){if(!arguments.length)return e.slice();e=[],n=pi();for(var r,i,a=-1,u=t.length;++a<u;)n.has(i=(r=t[a])+"")||n.set(i,e.push(r));return o},o.range=function(t){return arguments.length?(r=Wi.call(t),o):r.slice()},o.unknown=function(t){return arguments.length?(i=t,o):i},o.copy=function(){return t(e,r).unknown(i)},Bi.apply(o,arguments),o}(oo)),So=Tt(io().domain([-10,0,10]).range(["green","white","orangered"]));const zo=At("image"),Io=bo(0),$o=Math.pow(2,-52),Eo=new Uint32Array(512);class No{static from(t,n=Bo,e=Ho){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=n(r),i[2*o+1]=e(r)}return new No(i)}constructor(t){const n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const e=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*e),this._halfedges=new Int32Array(3*e),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:e,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,u=1/0,s=-1/0,l=-1/0;for(let n=0;n<o;n++){const e=t[2*n],r=t[2*n+1];e<a&&(a=e),r<u&&(u=r),e>s&&(s=e),r>l&&(l=r),this._ids[n]=n}const c=(a+s)/2,f=(u+l)/2;let h,p,d,v=1/0;for(let n=0;n<o;n++){const e=Co(c,f,t[2*n],t[2*n+1]);e<v&&(h=n,v=e)}const m=t[2*h],y=t[2*h+1];v=1/0;for(let n=0;n<o;n++){if(n===h)continue;const e=Co(m,y,t[2*n],t[2*n+1]);e<v&&e>0&&(p=n,v=e)}let g=t[2*p],_=t[2*p+1],b=1/0;for(let n=0;n<o;n++){if(n===h||n===p)continue;const e=Ro(m,y,g,_,t[2*n],t[2*n+1]);e<b&&(d=n,b=e)}let w=t[2*d],x=t[2*d+1];if(b===1/0){for(let n=0;n<o;n++)this._dists[n]=t[2*n]-t[0]||t[2*n+1]-t[1];Do(this._ids,this._dists,0,o-1);const n=new Uint32Array(o);let e=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(n[e++]=i,r=this._dists[i])}return this.hull=n.subarray(0,e),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Lo(m,y,g,_,w,x)){const t=p,n=g,e=_;p=d,g=w,_=x,d=t,w=n,x=e}const j=function(t,n,e,r,i,o){const a=e-t,u=r-n,s=i-t,l=o-n,c=a*a+u*u,f=s*s+l*l,h=.5/(a*l-u*s);return{x:t+(l*c-u*f)*h,y:n+(a*f-s*c)*h}}(m,y,g,_,w,x);this._cx=j.x,this._cy=j.y;for(let n=0;n<o;n++)this._dists[n]=Co(t[2*n],t[2*n+1],j.x,j.y);Do(this._ids,this._dists,0,o-1),this._hullStart=h;let k=3;e[h]=n[d]=p,e[p]=n[h]=d,e[d]=n[p]=h,r[h]=0,r[p]=1,r[d]=2,i.fill(-1),i[this._hashKey(m,y)]=h,i[this._hashKey(g,_)]=p,i[this._hashKey(w,x)]=d,this.trianglesLen=0,this._addTriangle(h,p,d,-1,-1,-1);for(let o,a,u=0;u<this._ids.length;u++){const s=this._ids[u],l=t[2*s],c=t[2*s+1];if(u>0&&Math.abs(l-o)<=$o&&Math.abs(c-a)<=$o)continue;if(o=l,a=c,s===h||s===p||s===d)continue;let f=0;for(let t=0,n=this._hashKey(l,c);t<this._hashSize&&(f=i[(n+t)%this._hashSize],-1===f||f===e[f]);t++);f=n[f];let v,m=f;for(;v=e[m],!Lo(l,c,t[2*m],t[2*m+1],t[2*v],t[2*v+1]);)if(m=v,m===f){m=-1;break}if(-1===m)continue;let y=this._addTriangle(m,s,e[m],-1,-1,r[m]);r[s]=this._legalize(y+2),r[m]=y,k++;let g=e[m];for(;v=e[g],Lo(l,c,t[2*g],t[2*g+1],t[2*v],t[2*v+1]);)y=this._addTriangle(g,s,v,r[s],-1,r[g]),r[s]=this._legalize(y+2),e[g]=g,k--,g=v;if(m===f)for(;v=n[m],Lo(l,c,t[2*v],t[2*v+1],t[2*m],t[2*m+1]);)y=this._addTriangle(v,s,m,-1,r[m],r[v]),this._legalize(y+2),r[v]=y,e[m]=m,k--,m=v;this._hullStart=n[s]=m,e[m]=n[g]=s,e[s]=g,i[this._hashKey(l,c)]=s,i[this._hashKey(t[2*m],t[2*m+1])]=m}this.hull=new Uint32Array(k);for(let t=0,n=this._hullStart;t<k;t++)this.hull[t]=n,n=e[n];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:e,coords:r}=this;let i=0,o=0;for(;;){const a=e[t],u=t-t%3;if(o=u+(t+2)%3,-1===a){if(0===i)break;t=Eo[--i];continue}const s=a-a%3,l=u+(t+1)%3,c=s+(a+2)%3,f=n[o],h=n[t],p=n[l],d=n[c];if(qo(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1],r[2*d],r[2*d+1])){n[t]=d,n[a]=f;const r=e[c];if(-1===r){let n=this._hullStart;do{if(this._hullTri[n]===c){this._hullTri[n]=t;break}n=this._hullPrev[n]}while(n!==this._hullStart)}this._link(t,r),this._link(a,e[o]),this._link(o,c);const u=s+(a+1)%3;i<Eo.length&&(Eo[i++]=u)}else{if(0===i)break;t=Eo[--i]}}return o}_link(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}_addTriangle(t,n,e,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=e,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function Co(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}function Oo(t,n,e,r,i,o){const a=(r-n)*(i-t),u=(e-t)*(o-n);return Math.abs(a-u)>=33306690738754716e-32*Math.abs(a+u)?a-u:0}function Lo(t,n,e,r,i,o){return(Oo(i,o,t,n,e,r)||Oo(t,n,e,r,i,o)||Oo(e,r,i,o,t,n))<0}function qo(t,n,e,r,i,o,a,u){const s=t-a,l=n-u,c=e-a,f=r-u,h=i-a,p=o-u,d=c*c+f*f,v=h*h+p*p;return s*(f*v-d*p)-l*(c*v-d*h)+(s*s+l*l)*(c*p-f*h)<0}function Ro(t,n,e,r,i,o){const a=e-t,u=r-n,s=i-t,l=o-n,c=a*a+u*u,f=s*s+l*l,h=.5/(a*l-u*s),p=(l*c-u*f)*h,d=(a*f-s*c)*h;return p*p+d*d}function Do(t,n,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const r=t[i],o=n[r];let a=i-1;for(;a>=e&&n[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=e+1,o=r;Uo(t,e+r>>1,i),n[t[e]]>n[t[r]]&&Uo(t,e,r),n[t[i]]>n[t[r]]&&Uo(t,i,r),n[t[e]]>n[t[i]]&&Uo(t,e,i);const a=t[i],u=n[a];for(;;){do{i++}while(n[t[i]]<u);do{o--}while(n[t[o]]>u);if(o<i)break;Uo(t,i,o)}t[e+1]=t[o],t[o]=a,r-i+1>=o-e?(Do(t,n,i,r),Do(t,n,e,o-1)):(Do(t,n,e,o-1),Do(t,n,i,r))}}function Uo(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Bo(t){return t[0]}function Ho(t){return t[1]}class Fo{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,e){const r=(t=+t)+(e=+e),i=n=+n;if(e<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),e&&(this._+=`A${e},${e},0,1,1,${t-e},${n}A${e},${e},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,n,e,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+e}v${+r}h${-e}Z`}value(){return this._||null}}class Wo{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class Vo{constructor(t,[n,e,r,i]=[0,0,960,500]){if(!((r=+r)>=(n=+n)&&(i=+i)>=(e=+e)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=n,this.ymax=i,this.ymin=e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:e},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,e.length/3*2);for(let n,r,o=0,a=0,u=e.length;o<u;o+=3,a+=2){const u=2*e[o],s=2*e[o+1],l=2*e[o+2],c=t[u],f=t[u+1],h=t[s],p=t[s+1],d=t[l],v=t[l+1],m=h-c,y=p-f,g=d-c,_=v-f,b=m*m+y*y,w=g*g+_*_,x=2*(m*_-y*g);if(x)if(Math.abs(x)<1e-8)n=(c+d)/2,r=(f+v)/2;else{const t=1/x;n=c+(_*b-y*w)*t,r=f+(m*w-g*b)*t}else n=(c+d)/2-1e8*_,r=(f+v)/2+1e8*g;i[a]=n,i[a+1]=r}let o,a,u,s=n[n.length-1],l=4*s,c=t[2*s],f=t[2*s+1];r.fill(0);for(let e=0;e<n.length;++e)s=n[e],o=l,a=c,u=f,l=4*s,c=t[2*s],f=t[2*s+1],r[o+2]=r[l]=u-f,r[o+3]=r[l+1]=c-a}render(t){const n=null==t?t=new Fo:void 0,{delaunay:{halfedges:e,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let n=0,r=e.length;n<r;++n){const r=e[n];if(r<n)continue;const i=2*Math.floor(n/3),a=2*Math.floor(r/3),u=o[i],s=o[i+1],l=o[a],c=o[a+1];this._renderSegment(u,s,l,c,t)}let u,s=i[i.length-1];for(let n=0;n<i.length;++n){u=s,s=i[n];const e=2*Math.floor(r[s]/3),l=o[e],c=o[e+1],f=4*u,h=this._project(l,c,a[f+2],a[f+3]);h&&this._renderSegment(l,c,h[0],h[1],t)}return n&&n.value()}renderBounds(t){const n=null==t?t=new Fo:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const e=null==n?n=new Fo:void 0,r=this._clip(t);if(null===r||!r.length)return;n.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||n.lineTo(r[t],r[t+1]);return n.closePath(),e&&e.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,e=t.length/2;n<e;++n){const t=this.cellPolygon(n);t&&(t.index=n,yield t)}}cellPolygon(t){const n=new Wo;return this.renderCell(t,n),n.value()}_renderSegment(t,n,e,r,i){let o;const a=this._regioncode(t,n),u=this._regioncode(e,r);0===a&&0===u?(i.moveTo(t,n),i.lineTo(e,r)):(o=this._clipSegment(t,n,e,r,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,n,e){return(n=+n)==n&&(e=+e)==e&&this.delaunay._step(t,n,e)===t}*neighbors(t){const n=this._clip(t);if(n)for(const e of this.delaunay.neighbors(t)){const t=this._clip(e);if(t)t:for(let r=0,i=n.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(n[r]==t[o]&&n[r+1]==t[o+1]&&n[(r+2)%i]==t[(o+a-2)%a]&&n[(r+3)%i]==t[(o+a-1)%a]){yield e;break t}}}_cell(t){const{circumcenters:n,delaunay:{inedges:e,halfedges:r,triangles:i}}=this,o=e[t];if(-1===o)return null;const a=[];let u=o;do{const e=Math.floor(u/3);if(a.push(n[2*e],n[2*e+1]),u=u%3==2?u-2:u+1,i[u]!==t)break;u=r[u]}while(u!==o&&-1!==u);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(null===n)return null;const{vectors:e}=this,r=4*t;return e[r]||e[r+1]?this._clipInfinite(t,n,e[r],e[r+1],e[r+2],e[r+3]):this._clipFinite(t,n)}_clipFinite(t,n){const e=n.length;let r,i,o,a,u,s=null,l=n[e-2],c=n[e-1],f=this._regioncode(l,c);for(let h=0;h<e;h+=2)if(r=l,i=c,l=n[h],c=n[h+1],o=f,f=this._regioncode(l,c),0===o&&0===f)a=u,u=0,s?s.push(l,c):s=[l,c];else{let n,e,h,p,d;if(0===o){if(null===(n=this._clipSegment(r,i,l,c,o,f)))continue;[e,h,p,d]=n}else{if(null===(n=this._clipSegment(l,c,r,i,f,o)))continue;[p,d,e,h]=n,a=u,u=this._edgecode(e,h),a&&u&&this._edge(t,a,u,s,s.length),s?s.push(e,h):s=[e,h]}a=u,u=this._edgecode(p,d),a&&u&&this._edge(t,a,u,s,s.length),s?s.push(p,d):s=[p,d]}if(s)a=u,u=this._edgecode(s[0],s[1]),a&&u&&this._edge(t,a,u,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,n,e,r,i,o){for(;;){if(0===i&&0===o)return[t,n,e,r];if(i&o)return null;let a,u,s=i||o;8&s?(a=t+(e-t)*(this.ymax-n)/(r-n),u=this.ymax):4&s?(a=t+(e-t)*(this.ymin-n)/(r-n),u=this.ymin):2&s?(u=n+(r-n)*(this.xmax-t)/(e-t),a=this.xmax):(u=n+(r-n)*(this.xmin-t)/(e-t),a=this.xmin),i?(t=a,n=u,i=this._regioncode(t,n)):(e=a,r=u,o=this._regioncode(e,r))}}_clipInfinite(t,n,e,r,i,o){let a,u=Array.from(n);if((a=this._project(u[0],u[1],e,r))&&u.unshift(a[0],a[1]),(a=this._project(u[u.length-2],u[u.length-1],i,o))&&u.push(a[0],a[1]),u=this._clipFinite(t,u))for(let n,e=0,r=u.length,i=this._edgecode(u[r-2],u[r-1]);e<r;e+=2)n=i,i=this._edgecode(u[e],u[e+1]),n&&i&&(e=this._edge(t,n,i,u,e),r=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(t,n,e,r,i){for(;n!==e;){let e,o;switch(n){case 5:n=4;continue;case 4:n=6,e=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,e=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,e=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,e=this.xmin,o=this.ymin}r[i]===e&&r[i+1]===o||!this.contains(t,e,o)||(r.splice(i,0,e,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const n=(t+2)%r.length,e=(t+4)%r.length;(r[t]===r[n]&&r[n]===r[e]||r[t+1]===r[n+1]&&r[n+1]===r[e+1])&&(r.splice(n,2),t-=2)}return i}_project(t,n,e,r){let i,o,a,u=1/0;if(r<0){if(n<=this.ymin)return null;(i=(this.ymin-n)/r)<u&&(a=this.ymin,o=t+(u=i)*e)}else if(r>0){if(n>=this.ymax)return null;(i=(this.ymax-n)/r)<u&&(a=this.ymax,o=t+(u=i)*e)}if(e>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/e)<u&&(o=this.xmax,a=n+(u=i)*r)}else if(e<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/e)<u&&(o=this.xmin,a=n+(u=i)*r)}return[o,a]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}const Yo=2*Math.PI,Ko=Math.pow;function Go(t){return t[0]}function Xo(t){return t[1]}function Zo(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class Jo{static from(t,n=Go,e=Xo,r){return new Jo("length"in t?function(t,n,e,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=n.call(r,i,a,t),o[2*a+1]=e.call(r,i,a,t)}return o}(t,n,e,r):Float64Array.from(function*(t,n,e,r){let i=0;for(const o of t)yield n.call(r,o,i,t),yield e.call(r,o,i,t),++i}(t,n,e,r)))}constructor(t){this._delaunator=new No(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:n,coords:e}=t;for(let t=0;t<n.length;t+=3){const r=2*n[t],i=2*n[t+1],o=2*n[t+2];if((e[o]-e[r])*(e[i+1]-e[r+1])-(e[i]-e[r])*(e[o+1]-e[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},(t,n)=>n).sort((t,e)=>n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]);const t=this.collinear[0],e=this.collinear[this.collinear.length-1],r=[n[2*t],n[2*t+1],n[2*e],n[2*e+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,e=n.length/2;t<e;++t){const e=Zo(n[2*t],n[2*t+1],i);n[2*t]=e[0],n[2*t+1]=e[1]}this._delaunator=new No(n)}else delete this.collinear;const e=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,n=e.length;t<n;++t){const n=i[t%3==2?t-2:t+1];-1!==e[t]&&-1!==o[n]||(o[n]=t)}for(let t=0,n=r.length;t<n;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(t){return new Vo(this,t)}*neighbors(t){const{inedges:n,hull:e,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const n=a.indexOf(t);return n>0&&(yield a[n-1]),void(n<a.length-1&&(yield a[n+1]))}const u=n[t];if(-1===u)return;let s=u,l=-1;do{if(yield l=o[s],s=s%3==2?s-2:s+1,o[s]!==t)return;if(s=i[s],-1===s){const n=e[(r[t]+1)%e.length];return void(n!==l&&(yield n))}}while(s!==u)}find(t,n,e=0){if((t=+t)!=t||(n=+n)!=n)return-1;const r=e;let i;for(;(i=this._step(e,t,n))>=0&&i!==e&&i!==r;)e=i;return i}_step(t,n,e){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:u,points:s}=this;if(-1===r[t]||!s.length)return(t+1)%(s.length>>1);let l=t,c=Ko(n-s[2*t],2)+Ko(e-s[2*t+1],2);const f=r[t];let h=f;do{let r=u[h];const f=Ko(n-s[2*r],2)+Ko(e-s[2*r+1],2);if(f<c&&(c=f,l=r),h=h%3==2?h-2:h+1,u[h]!==t)break;if(h=a[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&Ko(n-s[2*h],2)+Ko(e-s[2*h+1],2)<c)return h;break}}while(h!==f);return l}render(t){const n=null==t?t=new Fo:void 0,{points:e,halfedges:r,triangles:i}=this;for(let n=0,o=r.length;n<o;++n){const o=r[n];if(o<n)continue;const a=2*i[n],u=2*i[o];t.moveTo(e[a],e[a+1]),t.lineTo(e[u],e[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n=2){const e=null==t?t=new Fo:void 0,{points:r}=this;for(let e=0,i=r.length;e<i;e+=2){const i=r[e],o=r[e+1];t.moveTo(i+n,o),t.arc(i,o,n,0,Yo)}return e&&e.value()}renderHull(t){const n=null==t?t=new Fo:void 0,{hull:e,points:r}=this,i=2*e[0],o=e.length;t.moveTo(r[i],r[i+1]);for(let n=1;n<o;++n){const i=2*e[n];t.lineTo(r[i],r[i+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Wo;return this.renderHull(t),t.value()}renderTriangle(t,n){const e=null==n?n=new Fo:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],u=2*i[t+2];return n.moveTo(r[o],r[o+1]),n.lineTo(r[a],r[a+1]),n.lineTo(r[u],r[u+1]),n.closePath(),e&&e.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,e=t.length/3;n<e;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Wo;return this.renderTriangle(t,n),n.value()}}function Qo(t,n,e){const r=t.slice();return r[18]=n[e],r[20]=e,r}function ta(t){let n,e,r,o,a;return{c(){n=b("span"),A(n,"class",e=l("mdi "+(t[1]||"neg"==t[8]?t[5]:t[6]))+" svelte-4l6kc5"),A(n,"title",r="bad projection"),z(n,"hover","neg"==t[8])},m(e,r){y(e,n,r),o||(a=[T(n,"click",t[11]),T(n,"mouseenter",t[12]),T(n,"mouseleave",t[13])],o=!0)},p(t,r){354&r&&e!==(e=l("mdi "+(t[1]||"neg"==t[8]?t[5]:t[6]))+" svelte-4l6kc5")&&A(n,"class",e),354&r&&z(n,"hover","neg"==t[8])},d(t){t&&g(n),o=!1,i(a)}}}function na(t){let n,e,r,o,a;function u(...n){return t[14](t[20],t[18],...n)}function s(...n){return t[15](t[20],...n)}return{c(){n=b("span"),A(n,"class",e=l("mdi "+(t[18]||t[8]>t[20]?t[3]:t[4]))+" svelte-4l6kc5"),A(n,"title",r=`give ${t[20]+1} points`),z(n,"disabled",t[20]-t[0]>=t[9]&&!t[18]),z(n,"hover",t[8]>t[20])},m(e,r){y(e,n,r),o||(a=[T(n,"click",u),T(n,"mouseenter",s),T(n,"mouseleave",t[16])],o=!0)},p(r,i){t=r,408&i&&e!==(e=l("mdi "+(t[18]||t[8]>t[20]?t[3]:t[4]))+" svelte-4l6kc5")&&A(n,"class",e),921&i&&z(n,"disabled",t[20]-t[0]>=t[9]&&!t[18]),408&i&&z(n,"hover",t[8]>t[20])},d(t){t&&g(n),o=!1,i(a)}}}function ea(n){let e,r,i=n[2]&&ta(n),o=n[7],a=[];for(let t=0;t<o.length;t+=1)a[t]=na(Qo(n,o,t));return{c(){i&&i.c(),e=j();for(let t=0;t<a.length;t+=1)a[t].c();r=k()},m(t,n){i&&i.m(t,n),y(t,e,n);for(let e=0;e<a.length;e+=1)a[e].m(t,n);y(t,r,n)},p(t,[n]){if(t[2]?i?i.p(t,n):(i=ta(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),923&n){let e;for(o=t[7],e=0;e<o.length;e+=1){const i=Qo(t,o,e);a[e]?a[e].p(i,n):(a[e]=na(i),a[e].c(),a[e].m(r.parentNode,r))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}},i:t,o:t,d(t){i&&i.d(t),t&&g(e),_(a,t),t&&g(r)}}}function ra(t,n,e){let r;s(t,wo,t=>e(9,r=t));let{count:i}=n,{max:o=5}=n,{neg:a=!0}=n,{bad:u=!1}=n,l=new Array(o).fill(!1),{symbol_filled:c="mdi-heart"}=n,{symbol_unfilled:f="mdi-heart-outline"}=n,{symbol_neg:h="mdi-heart-off"}=n,{symbol_neg_unfilled:p="mdi-heart-off-outline"}=n;let d=null;return t.$set=t=>{"count"in t&&e(0,i=t.count),"max"in t&&e(10,o=t.max),"neg"in t&&e(2,a=t.neg),"bad"in t&&e(1,u=t.bad),"symbol_filled"in t&&e(3,c=t.symbol_filled),"symbol_unfilled"in t&&e(4,f=t.symbol_unfilled),"symbol_neg"in t&&e(5,h=t.symbol_neg),"symbol_neg_unfilled"in t&&e(6,p=t.symbol_neg_unfilled)},t.$$.update=()=>{1&t.$$.dirty&&e(7,l=l.map((t,n)=>n<i))},[i,u,a,c,f,h,p,l,d,r,o,()=>{wo.set(r+i),e(0,i=0),e(7,l=l.map((t,n)=>!1)),e(1,u=!u)},()=>e(8,d="neg"),()=>e(8,d=null),(t,n)=>{if(t-i>=r&&!n)return;const o=t+1;wo.set(r+i-o),e(0,i=o),e(1,u=!1),e(7,l=l.map((t,n)=>n<o))},t=>e(8,d=t+1),()=>e(8,d=null)]}class ia extends yt{constructor(t){super(),mt(this,t,ra,ea,a,{count:0,max:10,neg:2,bad:1,symbol_filled:3,symbol_unfilled:4,symbol_neg:5,symbol_neg_unfilled:6})}}function oa(t,n,e){const r=t.slice();return r[45]=n[e],r[47]=e,r}function aa(t,n,e){const r=t.slice();return r[45]=n[e],r[47]=e,r}function ua(e){let r,a,u,s;return{c(){r=b("div"),a=b("div"),A(a,"id","bar"),S(a,"width",100*e[11]+"%"),A(a,"class","svelte-7t2ez2"),A(r,"id","progressbar"),S(r,"width",e[2]-10+"px"),A(r,"class","svelte-7t2ez2")},m(t,n){y(t,r,n),m(r,a),s=!0},p(t,n){(!s||2048&n[0])&&S(a,"width",100*t[11]+"%"),(!s||4&n[0])&&S(r,"width",t[2]-10+"px")},i(t){s||(u&&u.end(1),s=!0)},o(e){u=function(e,r,a){let u,s=r(e,a),l=!0;const c=rt;function h(){const{delay:r=0,duration:o=300,easing:a=n,tick:h=t,css:p}=s||st;p&&(u=C(e,1,0,o,r,a,p));const d=f()+r,m=d+o;Y(()=>nt(e,!1,"start")),v(t=>{if(l){if(t>=m)return h(0,1),nt(e,!1,"end"),--c.r||i(c.c),!1;if(t>=d){const n=a((t-d)/o);h(1-n,n)}}return l})}return c.r+=1,o(s)?tt().then(()=>{s=s(),h()}):h(),{end(t){t&&s.tick&&s.tick(1,0),l&&(u&&O(e,u),l=!1)}}}(r,xt,{}),s=!1},d(t){t&&g(r),t&&u&&u.end()}}}function sa(n){let e,r,i;return{c(){e=b("button"),e.innerHTML='<span class="mdi mdi-close"></span> Close'},m(t,o){y(t,e,o),r||(i=T(e,"click",n[25]),r=!0)},p:t,d(t){t&&g(e),r=!1,i()}}}function la(t){let n,e,r,i;return{c(){n=b("button"),e=b("span"),A(e,"class","mdi"),z(e,"mdi-arrow-expand",!t[8]),z(e,"mdi-arrow-collapse",t[8]),A(n,"title","expand")},m(o,a){y(o,n,a),m(n,e),r||(i=T(n,"click",t[24]),r=!0)},p(t,n){256&n[0]&&z(e,"mdi-arrow-expand",!t[8]),256&n[0]&&z(e,"mdi-arrow-collapse",t[8])},d(t){t&&g(n),r=!1,i()}}}function ca(t){let n,e,r,o,a;function u(...n){return t[26](t[47],...n)}return{c(){n=w("path"),A(n,"d",e=`M${t[14].cellPolygon(t[47]).join("L")}Z`),A(n,"fill","transparent"),A(n,"title",r=t[45].class)},m(e,r){y(e,n,r),o||(a=[T(n,"mouseenter",u),T(n,"mousemove",t[27])],o=!0)},p(i,o){t=i,16384&o[0]&&e!==(e=`M${t[14].cellPolygon(t[47]).join("L")}Z`)&&A(n,"d",e),1&o[0]&&r!==(r=t[45].class)&&A(n,"title",r)},d(t){t&&g(n),o=!1,i(a)}}}function fa(t){let n,e,r,i;return{c(){n=w("circle"),A(n,"cx","10"),A(n,"cy","10"),A(n,"r",e=t[18]==t[47]?5:3),A(n,"fill",r=t[18]==t[47]?t[19](t[45].class):"none"),A(n,"stroke",i=t[19](t[45].class))},m(t,e){y(t,n,e)},p(t,o){262144&o[0]&&e!==(e=t[18]==t[47]?5:3)&&A(n,"r",e),786433&o[0]&&r!==(r=t[18]==t[47]?t[19](t[45].class):"none")&&A(n,"fill",r),524289&o[0]&&i!==(i=t[19](t[45].class))&&A(n,"stroke",i)},d(t){t&&g(n)}}}function ha(t){let n,e,r,i,o=t[47];const a=()=>t[28](n,o),u=()=>t[28](null,o);return{c(){n=w("image"),S(n,"pointer-events","none"),A(n,"href",e=`data/thumbnails/size50/${t[45].img}.png`),A(n,"width","20"),A(n,"height","20"),A(n,"filter",r=t[47]==t[18]?"url(#matrix)":null),A(n,"title",i=t[45].class)},m(t,e){y(t,n,e),a()},p(s,l){t=s,1&l[0]&&e!==(e=`data/thumbnails/size50/${t[45].img}.png`)&&A(n,"href",e),262144&l[0]&&r!==(r=t[47]==t[18]?"url(#matrix)":null)&&A(n,"filter",r),1&l[0]&&i!==(i=t[45].class)&&A(n,"title",i),o!==t[47]&&(u(),o=t[47],a())},d(t){t&&g(n),u()}}}function pa(t){let n,e,r=t[14].cellPolygon(t[47]),i=r&&ca(t);function o(t,n){return"image"==t[17]?ha:"circle"==t[17]?fa:void 0}let a=o(t),u=a&&a(t);return{c(){i&&i.c(),n=w("g"),u&&u.c(),A(n,"transform",e=`translate(${t[12](t[45].x)-10}, ${t[13](t[45].y)-10})`)},m(t,e){i&&i.m(t,e),y(t,n,e),u&&u.m(n,null)},p(t,s){16384&s[0]&&(r=t[14].cellPolygon(t[47])),r?i?i.p(t,s):(i=ca(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),a===(a=o(t))&&u?u.p(t,s):(u&&u.d(1),u=a&&a(t),u&&(u.c(),u.m(n,null))),12289&s[0]&&e!==(e=`translate(${t[12](t[45].x)-10}, ${t[13](t[45].y)-10})`)&&A(n,"transform",e)},d(t){i&&i.d(t),t&&g(n),u&&u.d()}}}function da(t){let n,e=t[0].filter(t[29]),r=[];for(let n=0;n<e.length;n+=1)r[n]=va(oa(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=k()},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);y(t,n,e)},p(t,i){if(274433&i[0]){let o;for(e=t[0].filter(t[29]),o=0;o<e.length;o+=1){const a=oa(t,e,o);r[o]?r[o].p(a,i):(r[o]=va(a),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=e.length}},d(t){_(r,t),t&&g(n)}}}function va(t){let n,e,r,i,o;return{c(){n=w("g"),e=w("image"),S(e,"pointer-events","none"),M(e,"xlink:href",r=`data/thumbnails/size50/${t[45].img}.png`),A(e,"width","20"),A(e,"height","20"),A(e,"filter","url(#matrix)"),A(e,"title",i=t[45].class),A(n,"transform",o=`translate(${t[12](t[45].x)-10}, ${t[13](t[45].y)-10})`)},m(t,r){y(t,n,r),m(n,e)},p(t,a){262145&a[0]&&r!==(r=`data/thumbnails/size50/${t[45].img}.png`)&&M(e,"xlink:href",r),262145&a[0]&&i!==(i=t[45].class)&&A(e,"title",i),274433&a[0]&&o!==(o=`translate(${t[12](t[45].x)-10}, ${t[13](t[45].y)-10})`)&&A(n,"transform",o)},d(t){t&&g(n)}}}function ma(t){let n,e,r,i,o;function a(n){t[37].call(null,n)}let u={width:t[15],height:t[15],margin:t[4],tooltip:t[1],button:!1};return void 0!==t[0]&&(u.data=t[0]),r=new ba({props:u}),B.push(()=>ft(r,"data",a)),r.$on("close",t[22]),{c(){n=b("div"),e=b("div"),ht(r.$$.fragment),A(e,"class","modal-content svelte-7t2ez2"),S(e,"width","fit-content"),A(n,"id","modal"),A(n,"class","modal svelte-7t2ez2")},m(t,i){y(t,n,i),m(n,e),pt(r,e,null),o=!0},p(t,n){const e={};32768&n[0]&&(e.width=t[15]),32768&n[0]&&(e.height=t[15]),16&n[0]&&(e.margin=t[4]),2&n[0]&&(e.tooltip=t[1]),262144&n[1]&&(e.$$scope={dirty:n,ctx:t}),!i&&1&n[0]&&(i=!0,e.data=t[0],K(()=>i=!1)),r.$set(e)},i(t){o||(at(r.$$.fragment,t),o=!0)},o(t){ut(r.$$.fragment,t),o=!1},d(t){t&&g(n),dt(r)}}}function ya(t){let n,e,r,o,a,u,s,l,c,f,h,p,d,v,M,I,$,E,N,C,O,L,q,R,D,U,H,F,W,V,Y,G,X,Z,J,Q=1!=t[11]&&ua(t);function tt(t,n){return t[5]?la:sa}let nt=tt(t),et=nt(t),rt=t[0],st=[];for(let n=0;n<rt.length;n+=1)st[n]=pa(aa(t,rt,n));let lt="image"==t[17]&&da(t);function ct(n){t[32].call(null,n)}function vt(n){t[33].call(null,n)}let mt={max:4};void 0!==t[0].pos_count&&(mt.count=t[0].pos_count),void 0!==t[0].neg_count&&(mt.bad=t[0].neg_count),N=new ia({props:mt}),B.push(()=>ft(N,"count",ct)),B.push(()=>ft(N,"bad",vt));let yt=t[8]&&ma(t);return{c(){n=b("div"),Q&&Q.c(),e=j(),r=b("small"),o=b("button"),a=b("span"),s=j(),et.c(),l=j(),c=w("svg"),f=w("defs"),h=w("filter"),p=w("feColorMatrix"),d=w("g");for(let t=0;t<st.length;t+=1)st[t].c();v=k(),lt&&lt.c(),M=j(),I=b("div"),$=b("div"),E=x("Rate:\n            "),ht(N.$$.fragment),L=j(),q=b("small"),R=b("div"),D=b("button"),D.innerHTML='<span class="mdi mdi-comment-text-outline"></span>',U=j(),H=b("div"),F=x("Comments:\n                "),W=b("button"),W.innerHTML='<span class="mdi mdi-close"></span>',V=j(),Y=b("textarea"),G=j(),yt&&yt.c(),A(a,"class","mdi mdi-magnify-scan"),o.disabled=u=!t[7],A(o,"title","reset zoom"),S(r,"position","absolute"),S(r,"top","5px"),S(r,"right","5px"),A(p,"type","matrix"),A(p,"in","SourceGraphic"),A(p,"values","0.1 0 0 0 0\n                            0 0.8 0 0 0\n                            0 0 1.7 0 0\n                            0 0 0 1 0 "),A(h,"id","matrix"),A(c,"width",t[2]),A(c,"height",t[3]),A(c,"class","svelte-7t2ez2"),S($,"text-align","left"),S(I,"text-align","center"),S(W,"float","right"),A(H,"class","comment dropdown-content svelte-7t2ez2"),A(R,"class","dropdown svelte-7t2ez2"),z(R,"active",t[9]),S(q,"position","absolute"),S(q,"bottom","0px"),S(q,"right","5px"),A(n,"class","card svelte-7t2ez2"),S(n,"background-color",t[16](-t[0].pos_count+t[0].neg_count))},m(i,u){y(i,n,u),Q&&Q.m(n,null),m(n,e),m(n,r),m(r,o),m(o,a),m(r,s),et.m(r,null),m(n,l),m(n,c),m(c,f),m(f,h),m(h,p),m(c,d);for(let t=0;t<st.length;t+=1)st[t].m(d,null);m(d,v),lt&&lt.m(d,null),t[30](d),m(n,M),m(n,I),m(I,$),m($,E),pt(N,$,null),m(n,L),m(n,q),m(q,R),m(R,D),m(R,U),m(R,H),m(H,F),m(H,W),m(H,V),m(H,Y),P(Y,t[0].comment),m(n,G),yt&&yt.m(n,null),X=!0,Z||(J=[T(o,"click",t[23]),T(c,"mouseleave",t[31]),T(D,"click",t[34]),T(W,"click",t[35]),T(Y,"input",t[36]),T(Y,"key",ga)],Z=!0)},p(t,i){if(1!=t[11]?Q?(Q.p(t,i),2048&i[0]&&at(Q,1)):(Q=ua(t),Q.c(),at(Q,1),Q.m(n,e)):Q&&(it(),ut(Q,1,1,()=>{Q=null}),ot()),(!X||128&i[0]&&u!==(u=!t[7]))&&(o.disabled=u),nt===(nt=tt(t))&&et?et.p(t,i):(et.d(1),et=nt(t),et&&(et.c(),et.m(r,null))),947201&i[0]){let n;for(rt=t[0],n=0;n<rt.length;n+=1){const e=aa(t,rt,n);st[n]?st[n].p(e,i):(st[n]=pa(e),st[n].c(),st[n].m(d,v))}for(;n<st.length;n+=1)st[n].d(1);st.length=rt.length}"image"==t[17]?lt?lt.p(t,i):(lt=da(t),lt.c(),lt.m(d,null)):lt&&(lt.d(1),lt=null),(!X||4&i[0])&&A(c,"width",t[2]),(!X||8&i[0])&&A(c,"height",t[3]);const a={};!C&&1&i[0]&&(C=!0,a.count=t[0].pos_count,K(()=>C=!1)),!O&&1&i[0]&&(O=!0,a.bad=t[0].neg_count,K(()=>O=!1)),N.$set(a),1&i[0]&&P(Y,t[0].comment),512&i[0]&&z(R,"active",t[9]),t[8]?yt?(yt.p(t,i),256&i[0]&&at(yt,1)):(yt=ma(t),yt.c(),at(yt,1),yt.m(n,null)):yt&&(it(),ut(yt,1,1,()=>{yt=null}),ot()),(!X||65537&i[0])&&S(n,"background-color",t[16](-t[0].pos_count+t[0].neg_count))},i(t){X||(at(Q),at(N.$$.fragment,t),at(yt),X=!0)},o(t){ut(Q),ut(N.$$.fragment,t),ut(yt),X=!1},d(e){e&&g(n),Q&&Q.d(),et.d(),_(st,e),lt&&lt.d(),t[30](null),dt(N),yt&&yt.d(),Z=!1,i(J)}}}const ga=t=>t.preventDefault();function _a(t,n,e){let r,i,o,a;s(t,So,t=>e(16,r=t)),s(t,zo,t=>e(17,i=t)),s(t,Mo,t=>e(18,o=t)),s(t,Po,t=>e(19,a=t));const u=function(){const t=R();return(n,e)=>{const r=t.$$.callbacks[n];if(r){const i=I(n,e);r.slice().forEach(n=>{n.call(t,i)})}}}();let l,{data:c}=n,{width:f}=n,{height:h}=n,{margin:p}=n,{tooltip:d}=n,{button:v=!0}=n;let m=_o();function y(){let{k:t,x:n,y:r}=Un.transform;e(7,_=!(1==t&&0==n&&0==r)),Qn(this).attr("transform",Un.transform)}D(()=>{Qn(l).call(m.extent([[0,0],[f,h]]).scaleExtent([1,8]).on("zoom",y)),Qn(void 0).call(m.extent([[0,0],[3*f,3*h]]).scaleExtent([1,8]).on("zoom",y))});let g,_=!1,b=!1;let w,x,j,k,T,A,M,P,S;return t.$set=t=>{"data"in t&&e(0,c=t.data),"width"in t&&e(2,f=t.width),"height"in t&&e(3,h=t.height),"margin"in t&&e(4,p=t.margin),"tooltip"in t&&e(1,d=t.tooltip),"button"in t&&e(5,v=t.button)},t.$$.update=()=>{1024&t.$$.dirty[0]&&e(38,x=w.map((t,n)=>t?t.decode().then(()=>e(38,x[n]="done",x)).catch(()=>e(38,x[n]="done",x)):"done")),128&t.$$.dirty[1]&&e(11,j=x.reduce((t,n)=>t+("done"==n?1:0),0)/x.length),12301&t.$$.dirty[0]&&e(14,A=Jo.from(c,t=>k(t.x),t=>T(t.y)).voronoi([0,0,Math.max(1,f||1),Math.max(1,h||1)])),4116&t.$$.dirty[0]&&k.range([p,f-p]),8216&t.$$.dirty[0]&&T.range([h-p,p]),1&t.$$.dirty[0]&&e(39,[M,P]=function(t){let[n,e]=$t(t,t=>t.x),[r,i]=$t(t,t=>t.y);const o=e-n,a=i-r,u=Math.abs(o-a)/2;return o>a?(r-=u,i+=u):(n-=u,e+=u),[[n,e],[r,i]]}(c),M,(e(40,P),e(0,c))),4096&t.$$.dirty[0]|256&t.$$.dirty[1]&&k.domain(M),8192&t.$$.dirty[0]|512&t.$$.dirty[1]&&T.domain(P)},e(10,w=[]),e(12,[k,T]=[io(),io()],k,e(13,T)),e(15,S=.95*Math.min(window.innerHeight,window.innerWidth)-40),[c,d,f,h,p,v,l,_,b,g,w,j,k,T,A,S,r,i,o,a,u,m,function(t){e(8,b=!1)},()=>{Qn(l).transition().duration(350).call(m.transform,lo)},()=>{console.log(b),e(8,b=!b)},()=>u("close"),(t,n)=>{jo.set_hover(t)},t=>{const n=document.getElementById("tooltip");n&&(n.style.left=t.pageX+"px",n.style.top=t.pageY+"px")},function(t,n){w[n]!==t&&B[t?"unshift":"push"](()=>{w[n]=t,e(10,w)})},(t,n)=>o==n,function(t){B[t?"unshift":"push"](()=>{l=t,e(6,l)})},()=>jo.set_hover(null),function(t){c.pos_count=t,e(0,c)},function(t){c.neg_count=t,e(0,c)},()=>e(9,g=!0),()=>e(9,g=!1),function(){c.comment=this.value,e(0,c)},function(t){c=t,e(0,c)}]}class ba extends yt{constructor(t){super(),mt(this,t,_a,ya,a,{data:0,width:2,height:3,margin:4,tooltip:1,button:5},[-1,-1])}}var wa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(t,n,e){t(e={path:n,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&e.path)}},e.exports),e.exports}((function(t,n){(function(){var e="Expected a function",r="__lodash_placeholder__",i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],o="[object Arguments]",a="[object Array]",u="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object GeneratorFunction]",h="[object Map]",p="[object Number]",d="[object Object]",v="[object RegExp]",m="[object Set]",y="[object String]",g="[object Symbol]",_="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",x="[object Float32Array]",j="[object Float64Array]",k="[object Int8Array]",T="[object Int16Array]",A="[object Int32Array]",M="[object Uint8Array]",P="[object Uint16Array]",S="[object Uint32Array]",z=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,E=/&(?:amp|lt|gt|quot|#39);/g,N=/[&<>"']/g,C=RegExp(E.source),O=RegExp(N.source),L=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,R=/<%=([\s\S]+?)%>/g,D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,F=RegExp(H.source),W=/^\s+|\s+$/g,V=/^\s+/,Y=/\s+$/,K=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,G=/\{\n\/\* \[wrapped with (.+)\] \*/,X=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,J=/\\(\\)?/g,Q=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tt=/\w*$/,nt=/^[-+]0x[0-9a-f]+$/i,et=/^0b[01]+$/i,rt=/^\[object .+?Constructor\]$/,it=/^0o[0-7]+$/i,ot=/^(?:0|[1-9]\d*)$/,at=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ut=/($^)/,st=/['\n\r\u2028\u2029\\]/g,lt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ct="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ft="[\\ud800-\\udfff]",ht="["+ct+"]",pt="["+lt+"]",dt="\\d+",vt="[\\u2700-\\u27bf]",mt="[a-z\\xdf-\\xf6\\xf8-\\xff]",yt="[^\\ud800-\\udfff"+ct+dt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",gt="\\ud83c[\\udffb-\\udfff]",_t="[^\\ud800-\\udfff]",bt="(?:\\ud83c[\\udde6-\\uddff]){2}",wt="[\\ud800-\\udbff][\\udc00-\\udfff]",xt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",jt="(?:"+mt+"|"+yt+")",kt="(?:"+xt+"|"+yt+")",Tt="(?:"+pt+"|"+gt+")"+"?",At="[\\ufe0e\\ufe0f]?"+Tt+("(?:\\u200d(?:"+[_t,bt,wt].join("|")+")[\\ufe0e\\ufe0f]?"+Tt+")*"),Mt="(?:"+[vt,bt,wt].join("|")+")"+At,Pt="(?:"+[_t+pt+"?",pt,bt,wt,ft].join("|")+")",St=RegExp("['’]","g"),zt=RegExp(pt,"g"),It=RegExp(gt+"(?="+gt+")|"+Pt+At,"g"),$t=RegExp([xt+"?"+mt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ht,xt,"$"].join("|")+")",kt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ht,xt+jt,"$"].join("|")+")",xt+"?"+jt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",xt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dt,Mt].join("|"),"g"),Et=RegExp("[\\u200d\\ud800-\\udfff"+lt+"\\ufe0e\\ufe0f]"),Nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ct=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ot=-1,Lt={};Lt[x]=Lt[j]=Lt[k]=Lt[T]=Lt[A]=Lt[M]=Lt["[object Uint8ClampedArray]"]=Lt[P]=Lt[S]=!0,Lt[o]=Lt[a]=Lt[b]=Lt[u]=Lt[w]=Lt[s]=Lt[l]=Lt[c]=Lt[h]=Lt[p]=Lt[d]=Lt[v]=Lt[m]=Lt[y]=Lt[_]=!1;var qt={};qt[o]=qt[a]=qt[b]=qt[w]=qt[u]=qt[s]=qt[x]=qt[j]=qt[k]=qt[T]=qt[A]=qt[h]=qt[p]=qt[d]=qt[v]=qt[m]=qt[y]=qt[g]=qt[M]=qt["[object Uint8ClampedArray]"]=qt[P]=qt[S]=!0,qt[l]=qt[c]=qt[_]=!1;var Rt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dt=parseFloat,Ut=parseInt,Bt="object"==typeof wa&&wa&&wa.Object===Object&&wa,Ht="object"==typeof self&&self&&self.Object===Object&&self,Ft=Bt||Ht||Function("return this")(),Wt=n&&!n.nodeType&&n,Vt=Wt&&t&&!t.nodeType&&t,Yt=Vt&&Vt.exports===Wt,Kt=Yt&&Bt.process,Gt=function(){try{var t=Vt&&Vt.require&&Vt.require("util").types;return t||Kt&&Kt.binding&&Kt.binding("util")}catch(t){}}(),Xt=Gt&&Gt.isArrayBuffer,Zt=Gt&&Gt.isDate,Jt=Gt&&Gt.isMap,Qt=Gt&&Gt.isRegExp,tn=Gt&&Gt.isSet,nn=Gt&&Gt.isTypedArray;function en(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function rn(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r}function on(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function an(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function un(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function sn(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o}function ln(t,n){return!!(null==t?0:t.length)&&_n(t,n,0)>-1}function cn(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function fn(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function hn(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function pn(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function dn(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function vn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var mn=jn("length");function yn(t,n,e){var r;return e(t,(function(t,e,i){if(n(t,e,i))return r=e,!1})),r}function gn(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}function _n(t,n,e){return n==n?function(t,n,e){var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):gn(t,wn,e)}function bn(t,n,e,r){for(var i=e-1,o=t.length;++i<o;)if(r(t[i],n))return i;return-1}function wn(t){return t!=t}function xn(t,n){var e=null==t?0:t.length;return e?An(t,n)/e:NaN}function jn(t){return function(n){return null==n?void 0:n[t]}}function kn(t){return function(n){return null==t?void 0:t[n]}}function Tn(t,n,e,r,i){return i(t,(function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)})),e}function An(t,n){for(var e,r=-1,i=t.length;++r<i;){var o=n(t[r]);void 0!==o&&(e=void 0===e?o:e+o)}return e}function Mn(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function Pn(t){return function(n){return t(n)}}function Sn(t,n){return fn(n,(function(n){return t[n]}))}function zn(t,n){return t.has(n)}function In(t,n){for(var e=-1,r=t.length;++e<r&&_n(n,t[e],0)>-1;);return e}function $n(t,n){for(var e=t.length;e--&&_n(n,t[e],0)>-1;);return e}function En(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}var Nn=kn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Cn=kn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function On(t){return"\\"+Rt[t]}function Ln(t){return Et.test(t)}function qn(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}function Rn(t,n){return function(e){return t(n(e))}}function Dn(t,n){for(var e=-1,i=t.length,o=0,a=[];++e<i;){var u=t[e];u!==n&&u!==r||(t[e]=r,a[o++]=e)}return a}function Un(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}function Bn(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=[t,t]})),e}function Hn(t){return Ln(t)?function(t){var n=It.lastIndex=0;for(;It.test(t);)++n;return n}(t):mn(t)}function Fn(t){return Ln(t)?function(t){return t.match(It)||[]}(t):function(t){return t.split("")}(t)}var Wn=kn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Vn=function t(n){var lt,ct=(n=null==n?Ft:Vn.defaults(Ft.Object(),n,Vn.pick(Ft,Ct))).Array,ft=n.Date,ht=n.Error,pt=n.Function,dt=n.Math,vt=n.Object,mt=n.RegExp,yt=n.String,gt=n.TypeError,_t=ct.prototype,bt=pt.prototype,wt=vt.prototype,xt=n["__core-js_shared__"],jt=bt.toString,kt=wt.hasOwnProperty,Tt=0,At=(lt=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+lt:"",Mt=wt.toString,Pt=jt.call(vt),It=Ft._,Et=mt("^"+jt.call(kt).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=Yt?n.Buffer:void 0,Bt=n.Symbol,Ht=n.Uint8Array,Wt=Rt?Rt.allocUnsafe:void 0,Vt=Rn(vt.getPrototypeOf,vt),Kt=vt.create,Gt=wt.propertyIsEnumerable,mn=_t.splice,kn=Bt?Bt.isConcatSpreadable:void 0,Yn=Bt?Bt.iterator:void 0,Kn=Bt?Bt.toStringTag:void 0,Gn=function(){try{var t=Qi(vt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Xn=n.clearTimeout!==Ft.clearTimeout&&n.clearTimeout,Zn=ft&&ft.now!==Ft.Date.now&&ft.now,Jn=n.setTimeout!==Ft.setTimeout&&n.setTimeout,Qn=dt.ceil,te=dt.floor,ne=vt.getOwnPropertySymbols,ee=Rt?Rt.isBuffer:void 0,re=n.isFinite,ie=_t.join,oe=Rn(vt.keys,vt),ae=dt.max,ue=dt.min,se=ft.now,le=n.parseInt,ce=dt.random,fe=_t.reverse,he=Qi(n,"DataView"),pe=Qi(n,"Map"),de=Qi(n,"Promise"),ve=Qi(n,"Set"),me=Qi(n,"WeakMap"),ye=Qi(vt,"create"),ge=me&&new me,_e={},be=Mo(he),we=Mo(pe),xe=Mo(de),je=Mo(ve),ke=Mo(me),Te=Bt?Bt.prototype:void 0,Ae=Te?Te.valueOf:void 0,Me=Te?Te.toString:void 0;function Pe(t){if(Fa(t)&&!Ea(t)&&!(t instanceof $e)){if(t instanceof Ie)return t;if(kt.call(t,"__wrapped__"))return Po(t)}return new Ie(t)}var Se=function(){function t(){}return function(n){if(!Ha(n))return{};if(Kt)return Kt(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();function ze(){}function Ie(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=void 0}function $e(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ee(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ne(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ce(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Oe(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new Ce;++n<e;)this.add(t[n])}function Le(t){var n=this.__data__=new Ne(t);this.size=n.size}function qe(t,n){var e=Ea(t),r=!e&&$a(t),i=!e&&!r&&La(t),o=!e&&!r&&!i&&Ja(t),a=e||r||i||o,u=a?Mn(t.length,yt):[],s=u.length;for(var l in t)!n&&!kt.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ao(l,s))||u.push(l);return u}function Re(t){var n=t.length;return n?t[Or(0,n-1)]:void 0}function De(t,n){return ko(yi(t),Ge(n,0,t.length))}function Ue(t){return ko(yi(t))}function Be(t,n,e){(void 0!==e&&!Sa(t[n],e)||void 0===e&&!(n in t))&&Ye(t,n,e)}function He(t,n,e){var r=t[n];kt.call(t,n)&&Sa(r,e)&&(void 0!==e||n in t)||Ye(t,n,e)}function Fe(t,n){for(var e=t.length;e--;)if(Sa(t[e][0],n))return e;return-1}function We(t,n,e,r){return tr(t,(function(t,i,o){n(r,t,e(t),o)})),r}function Ve(t,n){return t&&gi(n,bu(n),t)}function Ye(t,n,e){"__proto__"==n&&Gn?Gn(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Ke(t,n){for(var e=-1,r=n.length,i=ct(r),o=null==t;++e<r;)i[e]=o?void 0:vu(t,n[e]);return i}function Ge(t,n,e){return t==t&&(void 0!==e&&(t=t<=e?t:e),void 0!==n&&(t=t>=n?t:n)),t}function Xe(t,n,e,r,i,a){var l,_=1&n,z=2&n,I=4&n;if(e&&(l=i?e(t,r,i,a):e(t)),void 0!==l)return l;if(!Ha(t))return t;var $=Ea(t);if($){if(l=function(t){var n=t.length,e=new t.constructor(n);n&&"string"==typeof t[0]&&kt.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(t),!_)return yi(t,l)}else{var E=eo(t),N=E==c||E==f;if(La(t))return fi(t,_);if(E==d||E==o||N&&!i){if(l=z||N?{}:io(t),!_)return z?function(t,n){return gi(t,no(t),n)}(t,function(t,n){return t&&gi(n,wu(n),t)}(l,t)):function(t,n){return gi(t,to(t),n)}(t,Ve(l,t))}else{if(!qt[E])return i?t:{};l=function(t,n,e){var r=t.constructor;switch(n){case b:return hi(t);case u:case s:return new r(+t);case w:return function(t,n){var e=n?hi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case x:case j:case k:case T:case A:case M:case"[object Uint8ClampedArray]":case P:case S:return pi(t,e);case h:return new r;case p:case y:return new r(t);case v:return function(t){var n=new t.constructor(t.source,tt.exec(t));return n.lastIndex=t.lastIndex,n}(t);case m:return new r;case g:return i=t,Ae?vt(Ae.call(i)):{}}var i}(t,E,_)}}a||(a=new Le);var C=a.get(t);if(C)return C;a.set(t,l),Ga(t)?t.forEach((function(r){l.add(Xe(r,n,e,r,t,a))})):Wa(t)&&t.forEach((function(r,i){l.set(i,Xe(r,n,e,i,t,a))}));var O=$?void 0:(I?z?Vi:Wi:z?wu:bu)(t);return on(O||t,(function(r,i){O&&(r=t[i=r]),He(l,i,Xe(r,n,e,i,t,a))})),l}function Ze(t,n,e){var r=e.length;if(null==t)return!r;for(t=vt(t);r--;){var i=e[r],o=n[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Je(t,n,r){if("function"!=typeof t)throw new gt(e);return bo((function(){t.apply(void 0,r)}),n)}function Qe(t,n,e,r){var i=-1,o=ln,a=!0,u=t.length,s=[],l=n.length;if(!u)return s;e&&(n=fn(n,Pn(e))),r?(o=cn,a=!1):n.length>=200&&(o=zn,a=!1,n=new Oe(n));t:for(;++i<u;){var c=t[i],f=null==e?c:e(c);if(c=r||0!==c?c:0,a&&f==f){for(var h=l;h--;)if(n[h]===f)continue t;s.push(c)}else o(n,f,r)||s.push(c)}return s}Pe.templateSettings={escape:L,evaluate:q,interpolate:R,variable:"",imports:{_:Pe}},Pe.prototype=ze.prototype,Pe.prototype.constructor=Pe,Ie.prototype=Se(ze.prototype),Ie.prototype.constructor=Ie,$e.prototype=Se(ze.prototype),$e.prototype.constructor=$e,Ee.prototype.clear=function(){this.__data__=ye?ye(null):{},this.size=0},Ee.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Ee.prototype.get=function(t){var n=this.__data__;if(ye){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return kt.call(n,t)?n[t]:void 0},Ee.prototype.has=function(t){var n=this.__data__;return ye?void 0!==n[t]:kt.call(n,t)},Ee.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=ye&&void 0===n?"__lodash_hash_undefined__":n,this},Ne.prototype.clear=function(){this.__data__=[],this.size=0},Ne.prototype.delete=function(t){var n=this.__data__,e=Fe(n,t);return!(e<0)&&(e==n.length-1?n.pop():mn.call(n,e,1),--this.size,!0)},Ne.prototype.get=function(t){var n=this.__data__,e=Fe(n,t);return e<0?void 0:n[e][1]},Ne.prototype.has=function(t){return Fe(this.__data__,t)>-1},Ne.prototype.set=function(t,n){var e=this.__data__,r=Fe(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},Ce.prototype.clear=function(){this.size=0,this.__data__={hash:new Ee,map:new(pe||Ne),string:new Ee}},Ce.prototype.delete=function(t){var n=Zi(this,t).delete(t);return this.size-=n?1:0,n},Ce.prototype.get=function(t){return Zi(this,t).get(t)},Ce.prototype.has=function(t){return Zi(this,t).has(t)},Ce.prototype.set=function(t,n){var e=Zi(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},Oe.prototype.add=Oe.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Oe.prototype.has=function(t){return this.__data__.has(t)},Le.prototype.clear=function(){this.__data__=new Ne,this.size=0},Le.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},Le.prototype.get=function(t){return this.__data__.get(t)},Le.prototype.has=function(t){return this.__data__.has(t)},Le.prototype.set=function(t,n){var e=this.__data__;if(e instanceof Ne){var r=e.__data__;if(!pe||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new Ce(r)}return e.set(t,n),this.size=e.size,this};var tr=wi(sr),nr=wi(lr,!0);function er(t,n){var e=!0;return tr(t,(function(t,r,i){return e=!!n(t,r,i)})),e}function rr(t,n,e){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=n(o);if(null!=a&&(void 0===u?a==a&&!Za(a):e(a,u)))var u=a,s=o}return s}function ir(t,n){var e=[];return tr(t,(function(t,r,i){n(t,r,i)&&e.push(t)})),e}function or(t,n,e,r,i){var o=-1,a=t.length;for(e||(e=oo),i||(i=[]);++o<a;){var u=t[o];n>0&&e(u)?n>1?or(u,n-1,e,r,i):hn(i,u):r||(i[i.length]=u)}return i}var ar=xi(),ur=xi(!0);function sr(t,n){return t&&ar(t,n,bu)}function lr(t,n){return t&&ur(t,n,bu)}function cr(t,n){return sn(n,(function(n){return Da(t[n])}))}function fr(t,n){for(var e=0,r=(n=ui(n,t)).length;null!=t&&e<r;)t=t[Ao(n[e++])];return e&&e==r?t:void 0}function hr(t,n,e){var r=n(t);return Ea(t)?r:hn(r,e(t))}function pr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Kn&&Kn in vt(t)?function(t){var n=kt.call(t,Kn),e=t[Kn];try{t[Kn]=void 0;var r=!0}catch(t){}var i=Mt.call(t);r&&(n?t[Kn]=e:delete t[Kn]);return i}(t):function(t){return Mt.call(t)}(t)}function dr(t,n){return t>n}function vr(t,n){return null!=t&&kt.call(t,n)}function mr(t,n){return null!=t&&n in vt(t)}function yr(t,n,e){for(var r=e?cn:ln,i=t[0].length,o=t.length,a=o,u=ct(o),s=1/0,l=[];a--;){var c=t[a];a&&n&&(c=fn(c,Pn(n))),s=ue(c.length,s),u[a]=!e&&(n||i>=120&&c.length>=120)?new Oe(a&&c):void 0}c=t[0];var f=-1,h=u[0];t:for(;++f<i&&l.length<s;){var p=c[f],d=n?n(p):p;if(p=e||0!==p?p:0,!(h?zn(h,d):r(l,d,e))){for(a=o;--a;){var v=u[a];if(!(v?zn(v,d):r(t[a],d,e)))continue t}h&&h.push(d),l.push(p)}}return l}function gr(t,n,e){var r=null==(t=mo(t,n=ui(n,t)))?t:t[Ao(Ro(n))];return null==r?void 0:en(r,t,e)}function _r(t){return Fa(t)&&pr(t)==o}function br(t,n,e,r,i){return t===n||(null==t||null==n||!Fa(t)&&!Fa(n)?t!=t&&n!=n:function(t,n,e,r,i,c){var f=Ea(t),_=Ea(n),x=f?a:eo(t),j=_?a:eo(n),k=(x=x==o?d:x)==d,T=(j=j==o?d:j)==d,A=x==j;if(A&&La(t)){if(!La(n))return!1;f=!0,k=!1}if(A&&!k)return c||(c=new Le),f||Ja(t)?Hi(t,n,e,r,i,c):function(t,n,e,r,i,o,a){switch(e){case w:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case b:return!(t.byteLength!=n.byteLength||!o(new Ht(t),new Ht(n)));case u:case s:case p:return Sa(+t,+n);case l:return t.name==n.name&&t.message==n.message;case v:case y:return t==n+"";case h:var c=qn;case m:var f=1&r;if(c||(c=Un),t.size!=n.size&&!f)return!1;var d=a.get(t);if(d)return d==n;r|=2,a.set(t,n);var _=Hi(c(t),c(n),r,i,o,a);return a.delete(t),_;case g:if(Ae)return Ae.call(t)==Ae.call(n)}return!1}(t,n,x,e,r,i,c);if(!(1&e)){var M=k&&kt.call(t,"__wrapped__"),P=T&&kt.call(n,"__wrapped__");if(M||P){var S=M?t.value():t,z=P?n.value():n;return c||(c=new Le),i(S,z,e,r,c)}}if(!A)return!1;return c||(c=new Le),function(t,n,e,r,i,o){var a=1&e,u=Wi(t),s=u.length,l=Wi(n).length;if(s!=l&&!a)return!1;var c=s;for(;c--;){var f=u[c];if(!(a?f in n:kt.call(n,f)))return!1}var h=o.get(t);if(h&&o.get(n))return h==n;var p=!0;o.set(t,n),o.set(n,t);var d=a;for(;++c<s;){f=u[c];var v=t[f],m=n[f];if(r)var y=a?r(m,v,f,n,t,o):r(v,m,f,t,n,o);if(!(void 0===y?v===m||i(v,m,e,r,o):y)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var g=t.constructor,_=n.constructor;g==_||!("constructor"in t)||!("constructor"in n)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(p=!1)}return o.delete(t),o.delete(n),p}(t,n,e,r,i,c)}(t,n,e,r,br,i))}function wr(t,n,e,r){var i=e.length,o=i,a=!r;if(null==t)return!o;for(t=vt(t);i--;){var u=e[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var s=(u=e[i])[0],l=t[s],c=u[1];if(a&&u[2]){if(void 0===l&&!(s in t))return!1}else{var f=new Le;if(r)var h=r(l,c,s,t,n,f);if(!(void 0===h?br(c,l,3,r,f):h))return!1}}return!0}function xr(t){return!(!Ha(t)||(n=t,At&&At in n))&&(Da(t)?Et:rt).test(Mo(t));var n}function jr(t){return"function"==typeof t?t:null==t?Vu:"object"==typeof t?Ea(t)?Sr(t[0],t[1]):Pr(t):ns(t)}function kr(t){if(!fo(t))return oe(t);var n=[];for(var e in vt(t))kt.call(t,e)&&"constructor"!=e&&n.push(e);return n}function Tr(t){if(!Ha(t))return function(t){var n=[];if(null!=t)for(var e in vt(t))n.push(e);return n}(t);var n=fo(t),e=[];for(var r in t)("constructor"!=r||!n&&kt.call(t,r))&&e.push(r);return e}function Ar(t,n){return t<n}function Mr(t,n){var e=-1,r=Ca(t)?ct(t.length):[];return tr(t,(function(t,i,o){r[++e]=n(t,i,o)})),r}function Pr(t){var n=Ji(t);return 1==n.length&&n[0][2]?po(n[0][0],n[0][1]):function(e){return e===t||wr(e,t,n)}}function Sr(t,n){return so(t)&&ho(n)?po(Ao(t),n):function(e){var r=vu(e,t);return void 0===r&&r===n?mu(e,t):br(n,r,3)}}function zr(t,n,e,r,i){t!==n&&ar(n,(function(o,a){if(i||(i=new Le),Ha(o))!function(t,n,e,r,i,o,a){var u=go(t,e),s=go(n,e),l=a.get(s);if(l)return void Be(t,e,l);var c=o?o(u,s,e+"",t,n,a):void 0,f=void 0===c;if(f){var h=Ea(s),p=!h&&La(s),d=!h&&!p&&Ja(s);c=s,h||p||d?Ea(u)?c=u:Oa(u)?c=yi(u):p?(f=!1,c=fi(s,!0)):d?(f=!1,c=pi(s,!0)):c=[]:Ya(s)||$a(s)?(c=u,$a(u)?c=au(u):Ha(u)&&!Da(u)||(c=io(s))):f=!1}f&&(a.set(s,c),i(c,s,r,o,a),a.delete(s));Be(t,e,c)}(t,n,a,e,zr,r,i);else{var u=r?r(go(t,a),o,a+"",t,n,i):void 0;void 0===u&&(u=o),Be(t,a,u)}}),wu)}function Ir(t,n){var e=t.length;if(e)return ao(n+=n<0?e:0,e)?t[n]:void 0}function $r(t,n,e){var r=-1;return n=fn(n.length?n:[Vu],Pn(Xi())),function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(Mr(t,(function(t,e,i){return{criteria:fn(n,(function(n){return n(t)})),index:++r,value:t}})),(function(t,n){return function(t,n,e){var r=-1,i=t.criteria,o=n.criteria,a=i.length,u=e.length;for(;++r<a;){var s=di(i[r],o[r]);if(s){if(r>=u)return s;var l=e[r];return s*("desc"==l?-1:1)}}return t.index-n.index}(t,n,e)}))}function Er(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var a=n[r],u=fr(t,a);e(u,a)&&Ur(o,ui(a,t),u)}return o}function Nr(t,n,e,r){var i=r?bn:_n,o=-1,a=n.length,u=t;for(t===n&&(n=yi(n)),e&&(u=fn(t,Pn(e)));++o<a;)for(var s=0,l=n[o],c=e?e(l):l;(s=i(u,c,s,r))>-1;)u!==t&&mn.call(u,s,1),mn.call(t,s,1);return t}function Cr(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(e==r||i!==o){var o=i;ao(i)?mn.call(t,i,1):Qr(t,i)}}return t}function Or(t,n){return t+te(ce()*(n-t+1))}function Lr(t,n){var e="";if(!t||n<1||n>9007199254740991)return e;do{n%2&&(e+=t),(n=te(n/2))&&(t+=t)}while(n);return e}function qr(t,n){return wo(vo(t,n,Vu),t+"")}function Rr(t){return Re(Su(t))}function Dr(t,n){var e=Su(t);return ko(e,Ge(n,0,e.length))}function Ur(t,n,e,r){if(!Ha(t))return t;for(var i=-1,o=(n=ui(n,t)).length,a=o-1,u=t;null!=u&&++i<o;){var s=Ao(n[i]),l=e;if(i!=a){var c=u[s];void 0===(l=r?r(c,s,u):void 0)&&(l=Ha(c)?c:ao(n[i+1])?[]:{})}He(u,s,l),u=u[s]}return t}var Br=ge?function(t,n){return ge.set(t,n),t}:Vu,Hr=Gn?function(t,n){return Gn(t,"toString",{configurable:!0,enumerable:!1,value:Hu(n),writable:!0})}:Vu;function Fr(t){return ko(Su(t))}function Wr(t,n,e){var r=-1,i=t.length;n<0&&(n=-n>i?0:i+n),(e=e>i?i:e)<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=ct(i);++r<i;)o[r]=t[r+n];return o}function Vr(t,n){var e;return tr(t,(function(t,r,i){return!(e=n(t,r,i))})),!!e}function Yr(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Za(a)&&(e?a<=n:a<n)?r=o+1:i=o}return i}return Kr(t,n,Vu,e)}function Kr(t,n,e,r){n=e(n);for(var i=0,o=null==t?0:t.length,a=n!=n,u=null===n,s=Za(n),l=void 0===n;i<o;){var c=te((i+o)/2),f=e(t[c]),h=void 0!==f,p=null===f,d=f==f,v=Za(f);if(a)var m=r||d;else m=l?d&&(r||h):u?d&&h&&(r||!p):s?d&&h&&!p&&(r||!v):!p&&!v&&(r?f<=n:f<n);m?i=c+1:o=c}return ue(o,4294967294)}function Gr(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a=t[e],u=n?n(a):a;if(!e||!Sa(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function Xr(t){return"number"==typeof t?t:Za(t)?NaN:+t}function Zr(t){if("string"==typeof t)return t;if(Ea(t))return fn(t,Zr)+"";if(Za(t))return Me?Me.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Jr(t,n,e){var r=-1,i=ln,o=t.length,a=!0,u=[],s=u;if(e)a=!1,i=cn;else if(o>=200){var l=n?null:Li(t);if(l)return Un(l);a=!1,i=zn,s=new Oe}else s=n?[]:u;t:for(;++r<o;){var c=t[r],f=n?n(c):c;if(c=e||0!==c?c:0,a&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue t;n&&s.push(f),u.push(c)}else i(s,f,e)||(s!==u&&s.push(f),u.push(c))}return u}function Qr(t,n){return null==(t=mo(t,n=ui(n,t)))||delete t[Ao(Ro(n))]}function ti(t,n,e,r){return Ur(t,n,e(fr(t,n)),r)}function ni(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?Wr(t,r?0:o,r?o+1:i):Wr(t,r?o+1:0,r?i:o)}function ei(t,n){var e=t;return e instanceof $e&&(e=e.value()),pn(n,(function(t,n){return n.func.apply(n.thisArg,hn([t],n.args))}),e)}function ri(t,n,e){var r=t.length;if(r<2)return r?Jr(t[0]):[];for(var i=-1,o=ct(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=Qe(o[i]||a,t[u],n,e));return Jr(or(o,1),n,e)}function ii(t,n,e){for(var r=-1,i=t.length,o=n.length,a={};++r<i;){var u=r<o?n[r]:void 0;e(a,t[r],u)}return a}function oi(t){return Oa(t)?t:[]}function ai(t){return"function"==typeof t?t:Vu}function ui(t,n){return Ea(t)?t:so(t,n)?[t]:To(uu(t))}var si=qr;function li(t,n,e){var r=t.length;return e=void 0===e?r:e,!n&&e>=r?t:Wr(t,n,e)}var ci=Xn||function(t){return Ft.clearTimeout(t)};function fi(t,n){if(n)return t.slice();var e=t.length,r=Wt?Wt(e):new t.constructor(e);return t.copy(r),r}function hi(t){var n=new t.constructor(t.byteLength);return new Ht(n).set(new Ht(t)),n}function pi(t,n){var e=n?hi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function di(t,n){if(t!==n){var e=void 0!==t,r=null===t,i=t==t,o=Za(t),a=void 0!==n,u=null===n,s=n==n,l=Za(n);if(!u&&!l&&!o&&t>n||o&&a&&s&&!u&&!l||r&&a&&s||!e&&s||!i)return 1;if(!r&&!o&&!l&&t<n||l&&e&&i&&!r&&!o||u&&e&&i||!a&&i||!s)return-1}return 0}function vi(t,n,e,r){for(var i=-1,o=t.length,a=e.length,u=-1,s=n.length,l=ae(o-a,0),c=ct(s+l),f=!r;++u<s;)c[u]=n[u];for(;++i<a;)(f||i<o)&&(c[e[i]]=t[i]);for(;l--;)c[u++]=t[i++];return c}function mi(t,n,e,r){for(var i=-1,o=t.length,a=-1,u=e.length,s=-1,l=n.length,c=ae(o-u,0),f=ct(c+l),h=!r;++i<c;)f[i]=t[i];for(var p=i;++s<l;)f[p+s]=n[s];for(;++a<u;)(h||i<o)&&(f[p+e[a]]=t[i++]);return f}function yi(t,n){var e=-1,r=t.length;for(n||(n=ct(r));++e<r;)n[e]=t[e];return n}function gi(t,n,e,r){var i=!e;e||(e={});for(var o=-1,a=n.length;++o<a;){var u=n[o],s=r?r(e[u],t[u],u,e,t):void 0;void 0===s&&(s=t[u]),i?Ye(e,u,s):He(e,u,s)}return e}function _i(t,n){return function(e,r){var i=Ea(e)?rn:We,o=n?n():{};return i(e,t,Xi(r,2),o)}}function bi(t){return qr((function(n,e){var r=-1,i=e.length,o=i>1?e[i-1]:void 0,a=i>2?e[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&uo(e[0],e[1],a)&&(o=i<3?void 0:o,i=1),n=vt(n);++r<i;){var u=e[r];u&&t(n,u,r,o)}return n}))}function wi(t,n){return function(e,r){if(null==e)return e;if(!Ca(e))return t(e,r);for(var i=e.length,o=n?i:-1,a=vt(e);(n?o--:++o<i)&&!1!==r(a[o],o,a););return e}}function xi(t){return function(n,e,r){for(var i=-1,o=vt(n),a=r(n),u=a.length;u--;){var s=a[t?u:++i];if(!1===e(o[s],s,o))break}return n}}function ji(t){return function(n){var e=Ln(n=uu(n))?Fn(n):void 0,r=e?e[0]:n.charAt(0),i=e?li(e,1).join(""):n.slice(1);return r[t]()+i}}function ki(t){return function(n){return pn(Du($u(n).replace(St,"")),t,"")}}function Ti(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Se(t.prototype),r=t.apply(e,n);return Ha(r)?r:e}}function Ai(t){return function(n,e,r){var i=vt(n);if(!Ca(n)){var o=Xi(e,3);n=bu(n),e=function(t){return o(i[t],t,i)}}var a=t(n,e,r);return a>-1?i[o?n[a]:a]:void 0}}function Mi(t){return Fi((function(n){var r=n.length,i=r,o=Ie.prototype.thru;for(t&&n.reverse();i--;){var a=n[i];if("function"!=typeof a)throw new gt(e);if(o&&!u&&"wrapper"==Ki(a))var u=new Ie([],!0)}for(i=u?i:r;++i<r;){var s=Ki(a=n[i]),l="wrapper"==s?Yi(a):void 0;u=l&&lo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[Ki(l[0])].apply(u,l[3]):1==a.length&&lo(a)?u[s]():u.thru(a)}return function(){var t=arguments,e=t[0];if(u&&1==t.length&&Ea(e))return u.plant(e).value();for(var i=0,o=r?n[i].apply(this,t):e;++i<r;)o=n[i].call(this,o);return o}}))}function Pi(t,n,e,r,i,o,a,u,s,l){var c=128&n,f=1&n,h=2&n,p=24&n,d=512&n,v=h?void 0:Ti(t);return function m(){for(var y=arguments.length,g=ct(y),_=y;_--;)g[_]=arguments[_];if(p)var b=Gi(m),w=En(g,b);if(r&&(g=vi(g,r,i,p)),o&&(g=mi(g,o,a,p)),y-=w,p&&y<l){var x=Dn(g,b);return Ci(t,n,Pi,m.placeholder,e,g,x,u,s,l-y)}var j=f?e:this,k=h?j[t]:t;return y=g.length,u?g=yo(g,u):d&&y>1&&g.reverse(),c&&s<y&&(g.length=s),this&&this!==Ft&&this instanceof m&&(k=v||Ti(k)),k.apply(j,g)}}function Si(t,n){return function(e,r){return function(t,n,e,r){return sr(t,(function(t,i,o){n(r,e(t),i,o)})),r}(e,t,n(r),{})}}function zi(t,n){return function(e,r){var i;if(void 0===e&&void 0===r)return n;if(void 0!==e&&(i=e),void 0!==r){if(void 0===i)return r;"string"==typeof e||"string"==typeof r?(e=Zr(e),r=Zr(r)):(e=Xr(e),r=Xr(r)),i=t(e,r)}return i}}function Ii(t){return Fi((function(n){return n=fn(n,Pn(Xi())),qr((function(e){var r=this;return t(n,(function(t){return en(t,r,e)}))}))}))}function $i(t,n){var e=(n=void 0===n?" ":Zr(n)).length;if(e<2)return e?Lr(n,t):n;var r=Lr(n,Qn(t/Hn(n)));return Ln(n)?li(Fn(r),0,t).join(""):r.slice(0,t)}function Ei(t){return function(n,e,r){return r&&"number"!=typeof r&&uo(n,e,r)&&(e=r=void 0),n=eu(n),void 0===e?(e=n,n=0):e=eu(e),function(t,n,e,r){for(var i=-1,o=ae(Qn((n-t)/(e||1)),0),a=ct(o);o--;)a[r?o:++i]=t,t+=e;return a}(n,e,r=void 0===r?n<e?1:-1:eu(r),t)}}function Ni(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=ou(n),e=ou(e)),t(n,e)}}function Ci(t,n,e,r,i,o,a,u,s,l){var c=8&n;n|=c?32:64,4&(n&=~(c?64:32))||(n&=-4);var f=[t,n,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,u,s,l],h=e.apply(void 0,f);return lo(t)&&_o(h,f),h.placeholder=r,xo(h,t,n)}function Oi(t){var n=dt[t];return function(t,e){if(t=ou(t),(e=null==e?0:ue(ru(e),292))&&re(t)){var r=(uu(t)+"e").split("e");return+((r=(uu(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var Li=ve&&1/Un(new ve([,-0]))[1]==1/0?function(t){return new ve(t)}:Zu;function qi(t){return function(n){var e=eo(n);return e==h?qn(n):e==m?Bn(n):function(t,n){return fn(n,(function(n){return[n,t[n]]}))}(n,t(n))}}function Ri(t,n,i,o,a,u,s,l){var c=2&n;if(!c&&"function"!=typeof t)throw new gt(e);var f=o?o.length:0;if(f||(n&=-97,o=a=void 0),s=void 0===s?s:ae(ru(s),0),l=void 0===l?l:ru(l),f-=a?a.length:0,64&n){var h=o,p=a;o=a=void 0}var d=c?void 0:Yi(t),v=[t,n,i,o,a,h,p,u,s,l];if(d&&function(t,n){var e=t[1],i=n[1],o=e|i,a=o<131,u=128==i&&8==e||128==i&&256==e&&t[7].length<=n[8]||384==i&&n[7].length<=n[8]&&8==e;if(!a&&!u)return t;1&i&&(t[2]=n[2],o|=1&e?0:4);var s=n[3];if(s){var l=t[3];t[3]=l?vi(l,s,n[4]):s,t[4]=l?Dn(t[3],r):n[4]}(s=n[5])&&(l=t[5],t[5]=l?mi(l,s,n[6]):s,t[6]=l?Dn(t[5],r):n[6]);(s=n[7])&&(t[7]=s);128&i&&(t[8]=null==t[8]?n[8]:ue(t[8],n[8]));null==t[9]&&(t[9]=n[9]);t[0]=n[0],t[1]=o}(v,d),t=v[0],n=v[1],i=v[2],o=v[3],a=v[4],!(l=v[9]=void 0===v[9]?c?0:t.length:ae(v[9]-f,0))&&24&n&&(n&=-25),n&&1!=n)m=8==n||16==n?function(t,n,e){var r=Ti(t);return function i(){for(var o=arguments.length,a=ct(o),u=o,s=Gi(i);u--;)a[u]=arguments[u];var l=o<3&&a[0]!==s&&a[o-1]!==s?[]:Dn(a,s);if((o-=l.length)<e)return Ci(t,n,Pi,i.placeholder,void 0,a,l,void 0,void 0,e-o);var c=this&&this!==Ft&&this instanceof i?r:t;return en(c,this,a)}}(t,n,l):32!=n&&33!=n||a.length?Pi.apply(void 0,v):function(t,n,e,r){var i=1&n,o=Ti(t);return function n(){for(var a=-1,u=arguments.length,s=-1,l=r.length,c=ct(l+u),f=this&&this!==Ft&&this instanceof n?o:t;++s<l;)c[s]=r[s];for(;u--;)c[s++]=arguments[++a];return en(f,i?e:this,c)}}(t,n,i,o);else var m=function(t,n,e){var r=1&n,i=Ti(t);return function n(){var o=this&&this!==Ft&&this instanceof n?i:t;return o.apply(r?e:this,arguments)}}(t,n,i);return xo((d?Br:_o)(m,v),t,n)}function Di(t,n,e,r){return void 0===t||Sa(t,wt[e])&&!kt.call(r,e)?n:t}function Ui(t,n,e,r,i,o){return Ha(t)&&Ha(n)&&(o.set(n,t),zr(t,n,void 0,Ui,o),o.delete(n)),t}function Bi(t){return Ya(t)?void 0:t}function Hi(t,n,e,r,i,o){var a=1&e,u=t.length,s=n.length;if(u!=s&&!(a&&s>u))return!1;var l=o.get(t);if(l&&o.get(n))return l==n;var c=-1,f=!0,h=2&e?new Oe:void 0;for(o.set(t,n),o.set(n,t);++c<u;){var p=t[c],d=n[c];if(r)var v=a?r(d,p,c,n,t,o):r(p,d,c,t,n,o);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!vn(n,(function(t,n){if(!zn(h,n)&&(p===t||i(p,t,e,r,o)))return h.push(n)}))){f=!1;break}}else if(p!==d&&!i(p,d,e,r,o)){f=!1;break}}return o.delete(t),o.delete(n),f}function Fi(t){return wo(vo(t,void 0,No),t+"")}function Wi(t){return hr(t,bu,to)}function Vi(t){return hr(t,wu,no)}var Yi=ge?function(t){return ge.get(t)}:Zu;function Ki(t){for(var n=t.name+"",e=_e[n],r=kt.call(_e,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function Gi(t){return(kt.call(Pe,"placeholder")?Pe:t).placeholder}function Xi(){var t=Pe.iteratee||Yu;return t=t===Yu?jr:t,arguments.length?t(arguments[0],arguments[1]):t}function Zi(t,n){var e,r,i=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?i["string"==typeof n?"string":"hash"]:i.map}function Ji(t){for(var n=bu(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,ho(i)]}return n}function Qi(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return xr(e)?e:void 0}var to=ne?function(t){return null==t?[]:(t=vt(t),sn(ne(t),(function(n){return Gt.call(t,n)})))}:is,no=ne?function(t){for(var n=[];t;)hn(n,to(t)),t=Vt(t);return n}:is,eo=pr;function ro(t,n,e){for(var r=-1,i=(n=ui(n,t)).length,o=!1;++r<i;){var a=Ao(n[r]);if(!(o=null!=t&&e(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ba(i)&&ao(a,i)&&(Ea(t)||$a(t))}function io(t){return"function"!=typeof t.constructor||fo(t)?{}:Se(Vt(t))}function oo(t){return Ea(t)||$a(t)||!!(kn&&t&&t[kn])}function ao(t,n){var e=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&ot.test(t))&&t>-1&&t%1==0&&t<n}function uo(t,n,e){if(!Ha(e))return!1;var r=typeof n;return!!("number"==r?Ca(e)&&ao(n,e.length):"string"==r&&n in e)&&Sa(e[n],t)}function so(t,n){if(Ea(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Za(t))||(U.test(t)||!D.test(t)||null!=n&&t in vt(n))}function lo(t){var n=Ki(t),e=Pe[n];if("function"!=typeof e||!(n in $e.prototype))return!1;if(t===e)return!0;var r=Yi(e);return!!r&&t===r[0]}(he&&eo(new he(new ArrayBuffer(1)))!=w||pe&&eo(new pe)!=h||de&&"[object Promise]"!=eo(de.resolve())||ve&&eo(new ve)!=m||me&&eo(new me)!=_)&&(eo=function(t){var n=pr(t),e=n==d?t.constructor:void 0,r=e?Mo(e):"";if(r)switch(r){case be:return w;case we:return h;case xe:return"[object Promise]";case je:return m;case ke:return _}return n});var co=xt?Da:os;function fo(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||wt)}function ho(t){return t==t&&!Ha(t)}function po(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in vt(e)))}}function vo(t,n,e){return n=ae(void 0===n?t.length-1:n,0),function(){for(var r=arguments,i=-1,o=ae(r.length-n,0),a=ct(o);++i<o;)a[i]=r[n+i];i=-1;for(var u=ct(n+1);++i<n;)u[i]=r[i];return u[n]=e(a),en(t,this,u)}}function mo(t,n){return n.length<2?t:fr(t,Wr(n,0,-1))}function yo(t,n){for(var e=t.length,r=ue(n.length,e),i=yi(t);r--;){var o=n[r];t[r]=ao(o,e)?i[o]:void 0}return t}function go(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var _o=jo(Br),bo=Jn||function(t,n){return Ft.setTimeout(t,n)},wo=jo(Hr);function xo(t,n,e){var r=n+"";return wo(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(K,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return on(i,(function(e){var r="_."+e[0];n&e[1]&&!ln(t,r)&&t.push(r)})),t.sort()}(function(t){var n=t.match(G);return n?n[1].split(X):[]}(r),e)))}function jo(t){var n=0,e=0;return function(){var r=se(),i=16-(r-e);if(e=r,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function ko(t,n){var e=-1,r=t.length,i=r-1;for(n=void 0===n?r:n;++e<n;){var o=Or(e,i),a=t[o];t[o]=t[e],t[e]=a}return t.length=n,t}var To=function(t){var n=ja(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(B,(function(t,e,r,i){n.push(r?i.replace(J,"$1"):e||t)})),n}));function Ao(t){if("string"==typeof t||Za(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Mo(t){if(null!=t){try{return jt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Po(t){if(t instanceof $e)return t.clone();var n=new Ie(t.__wrapped__,t.__chain__);return n.__actions__=yi(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var So=qr((function(t,n){return Oa(t)?Qe(t,or(n,1,Oa,!0)):[]})),zo=qr((function(t,n){var e=Ro(n);return Oa(e)&&(e=void 0),Oa(t)?Qe(t,or(n,1,Oa,!0),Xi(e,2)):[]})),Io=qr((function(t,n){var e=Ro(n);return Oa(e)&&(e=void 0),Oa(t)?Qe(t,or(n,1,Oa,!0),void 0,e):[]}));function $o(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ru(e);return i<0&&(i=ae(r+i,0)),gn(t,Xi(n,3),i)}function Eo(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==e&&(i=ru(e),i=e<0?ae(r+i,0):ue(i,r-1)),gn(t,Xi(n,3),i,!0)}function No(t){return(null==t?0:t.length)?or(t,1):[]}function Co(t){return t&&t.length?t[0]:void 0}var Oo=qr((function(t){var n=fn(t,oi);return n.length&&n[0]===t[0]?yr(n):[]})),Lo=qr((function(t){var n=Ro(t),e=fn(t,oi);return n===Ro(e)?n=void 0:e.pop(),e.length&&e[0]===t[0]?yr(e,Xi(n,2)):[]})),qo=qr((function(t){var n=Ro(t),e=fn(t,oi);return(n="function"==typeof n?n:void 0)&&e.pop(),e.length&&e[0]===t[0]?yr(e,void 0,n):[]}));function Ro(t){var n=null==t?0:t.length;return n?t[n-1]:void 0}var Do=qr(Uo);function Uo(t,n){return t&&t.length&&n&&n.length?Nr(t,n):t}var Bo=Fi((function(t,n){var e=null==t?0:t.length,r=Ke(t,n);return Cr(t,fn(n,(function(t){return ao(t,e)?+t:t})).sort(di)),r}));function Ho(t){return null==t?t:fe.call(t)}var Fo=qr((function(t){return Jr(or(t,1,Oa,!0))})),Wo=qr((function(t){var n=Ro(t);return Oa(n)&&(n=void 0),Jr(or(t,1,Oa,!0),Xi(n,2))})),Vo=qr((function(t){var n=Ro(t);return n="function"==typeof n?n:void 0,Jr(or(t,1,Oa,!0),void 0,n)}));function Yo(t){if(!t||!t.length)return[];var n=0;return t=sn(t,(function(t){if(Oa(t))return n=ae(t.length,n),!0})),Mn(n,(function(n){return fn(t,jn(n))}))}function Ko(t,n){if(!t||!t.length)return[];var e=Yo(t);return null==n?e:fn(e,(function(t){return en(n,void 0,t)}))}var Go=qr((function(t,n){return Oa(t)?Qe(t,n):[]})),Xo=qr((function(t){return ri(sn(t,Oa))})),Zo=qr((function(t){var n=Ro(t);return Oa(n)&&(n=void 0),ri(sn(t,Oa),Xi(n,2))})),Jo=qr((function(t){var n=Ro(t);return n="function"==typeof n?n:void 0,ri(sn(t,Oa),void 0,n)})),Qo=qr(Yo);var ta=qr((function(t){var n=t.length,e=n>1?t[n-1]:void 0;return e="function"==typeof e?(t.pop(),e):void 0,Ko(t,e)}));function na(t){var n=Pe(t);return n.__chain__=!0,n}function ea(t,n){return n(t)}var ra=Fi((function(t){var n=t.length,e=n?t[0]:0,r=this.__wrapped__,i=function(n){return Ke(n,t)};return!(n>1||this.__actions__.length)&&r instanceof $e&&ao(e)?((r=r.slice(e,+e+(n?1:0))).__actions__.push({func:ea,args:[i],thisArg:void 0}),new Ie(r,this.__chain__).thru((function(t){return n&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=_i((function(t,n,e){kt.call(t,e)?++t[e]:Ye(t,e,1)}));var oa=Ai($o),aa=Ai(Eo);function ua(t,n){return(Ea(t)?on:tr)(t,Xi(n,3))}function sa(t,n){return(Ea(t)?an:nr)(t,Xi(n,3))}var la=_i((function(t,n,e){kt.call(t,e)?t[e].push(n):Ye(t,e,[n])}));var ca=qr((function(t,n,e){var r=-1,i="function"==typeof n,o=Ca(t)?ct(t.length):[];return tr(t,(function(t){o[++r]=i?en(n,t,e):gr(t,n,e)})),o})),fa=_i((function(t,n,e){Ye(t,e,n)}));function ha(t,n){return(Ea(t)?fn:Mr)(t,Xi(n,3))}var pa=_i((function(t,n,e){t[e?0:1].push(n)}),(function(){return[[],[]]}));var da=qr((function(t,n){if(null==t)return[];var e=n.length;return e>1&&uo(t,n[0],n[1])?n=[]:e>2&&uo(n[0],n[1],n[2])&&(n=[n[0]]),$r(t,or(n,1),[])})),va=Zn||function(){return Ft.Date.now()};function ma(t,n,e){return n=e?void 0:n,Ri(t,128,void 0,void 0,void 0,void 0,n=t&&null==n?t.length:n)}function ya(t,n){var r;if("function"!=typeof n)throw new gt(e);return t=ru(t),function(){return--t>0&&(r=n.apply(this,arguments)),t<=1&&(n=void 0),r}}var ga=qr((function(t,n,e){var r=1;if(e.length){var i=Dn(e,Gi(ga));r|=32}return Ri(t,r,n,e,i)})),_a=qr((function(t,n,e){var r=3;if(e.length){var i=Dn(e,Gi(_a));r|=32}return Ri(n,r,t,e,i)}));function ba(t,n,r){var i,o,a,u,s,l,c=0,f=!1,h=!1,p=!0;if("function"!=typeof t)throw new gt(e);function d(n){var e=i,r=o;return i=o=void 0,c=n,u=t.apply(r,e)}function v(t){return c=t,s=bo(y,n),f?d(t):u}function m(t){var e=t-l;return void 0===l||e>=n||e<0||h&&t-c>=a}function y(){var t=va();if(m(t))return g(t);s=bo(y,function(t){var e=n-(t-l);return h?ue(e,a-(t-c)):e}(t))}function g(t){return s=void 0,p&&i?d(t):(i=o=void 0,u)}function _(){var t=va(),e=m(t);if(i=arguments,o=this,l=t,e){if(void 0===s)return v(l);if(h)return ci(s),s=bo(y,n),d(l)}return void 0===s&&(s=bo(y,n)),u}return n=ou(n)||0,Ha(r)&&(f=!!r.leading,a=(h="maxWait"in r)?ae(ou(r.maxWait)||0,n):a,p="trailing"in r?!!r.trailing:p),_.cancel=function(){void 0!==s&&ci(s),c=0,i=l=o=s=void 0},_.flush=function(){return void 0===s?u:g(va())},_}var wa=qr((function(t,n){return Je(t,1,n)})),xa=qr((function(t,n,e){return Je(t,ou(n)||0,e)}));function ja(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new gt(e);var r=function(){var e=arguments,i=n?n.apply(this,e):e[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,e);return r.cache=o.set(i,a)||o,a};return r.cache=new(ja.Cache||Ce),r}function ka(t){if("function"!=typeof t)throw new gt(e);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}ja.Cache=Ce;var Ta=si((function(t,n){var e=(n=1==n.length&&Ea(n[0])?fn(n[0],Pn(Xi())):fn(or(n,1),Pn(Xi()))).length;return qr((function(r){for(var i=-1,o=ue(r.length,e);++i<o;)r[i]=n[i].call(this,r[i]);return en(t,this,r)}))})),Aa=qr((function(t,n){return Ri(t,32,void 0,n,Dn(n,Gi(Aa)))})),Ma=qr((function(t,n){return Ri(t,64,void 0,n,Dn(n,Gi(Ma)))})),Pa=Fi((function(t,n){return Ri(t,256,void 0,void 0,void 0,n)}));function Sa(t,n){return t===n||t!=t&&n!=n}var za=Ni(dr),Ia=Ni((function(t,n){return t>=n})),$a=_r(function(){return arguments}())?_r:function(t){return Fa(t)&&kt.call(t,"callee")&&!Gt.call(t,"callee")},Ea=ct.isArray,Na=Xt?Pn(Xt):function(t){return Fa(t)&&pr(t)==b};function Ca(t){return null!=t&&Ba(t.length)&&!Da(t)}function Oa(t){return Fa(t)&&Ca(t)}var La=ee||os,qa=Zt?Pn(Zt):function(t){return Fa(t)&&pr(t)==s};function Ra(t){if(!Fa(t))return!1;var n=pr(t);return n==l||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!Ya(t)}function Da(t){if(!Ha(t))return!1;var n=pr(t);return n==c||n==f||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Ua(t){return"number"==typeof t&&t==ru(t)}function Ba(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ha(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Fa(t){return null!=t&&"object"==typeof t}var Wa=Jt?Pn(Jt):function(t){return Fa(t)&&eo(t)==h};function Va(t){return"number"==typeof t||Fa(t)&&pr(t)==p}function Ya(t){if(!Fa(t)||pr(t)!=d)return!1;var n=Vt(t);if(null===n)return!0;var e=kt.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&jt.call(e)==Pt}var Ka=Qt?Pn(Qt):function(t){return Fa(t)&&pr(t)==v};var Ga=tn?Pn(tn):function(t){return Fa(t)&&eo(t)==m};function Xa(t){return"string"==typeof t||!Ea(t)&&Fa(t)&&pr(t)==y}function Za(t){return"symbol"==typeof t||Fa(t)&&pr(t)==g}var Ja=nn?Pn(nn):function(t){return Fa(t)&&Ba(t.length)&&!!Lt[pr(t)]};var Qa=Ni(Ar),tu=Ni((function(t,n){return t<=n}));function nu(t){if(!t)return[];if(Ca(t))return Xa(t)?Fn(t):yi(t);if(Yn&&t[Yn])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[Yn]());var n=eo(t);return(n==h?qn:n==m?Un:Su)(t)}function eu(t){return t?(t=ou(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ru(t){var n=eu(t),e=n%1;return n==n?e?n-e:n:0}function iu(t){return t?Ge(ru(t),0,4294967295):0}function ou(t){if("number"==typeof t)return t;if(Za(t))return NaN;if(Ha(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Ha(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(W,"");var e=et.test(t);return e||it.test(t)?Ut(t.slice(2),e?2:8):nt.test(t)?NaN:+t}function au(t){return gi(t,wu(t))}function uu(t){return null==t?"":Zr(t)}var su=bi((function(t,n){if(fo(n)||Ca(n))gi(n,bu(n),t);else for(var e in n)kt.call(n,e)&&He(t,e,n[e])})),lu=bi((function(t,n){gi(n,wu(n),t)})),cu=bi((function(t,n,e,r){gi(n,wu(n),t,r)})),fu=bi((function(t,n,e,r){gi(n,bu(n),t,r)})),hu=Fi(Ke);var pu=qr((function(t,n){t=vt(t);var e=-1,r=n.length,i=r>2?n[2]:void 0;for(i&&uo(n[0],n[1],i)&&(r=1);++e<r;)for(var o=n[e],a=wu(o),u=-1,s=a.length;++u<s;){var l=a[u],c=t[l];(void 0===c||Sa(c,wt[l])&&!kt.call(t,l))&&(t[l]=o[l])}return t})),du=qr((function(t){return t.push(void 0,Ui),en(ju,void 0,t)}));function vu(t,n,e){var r=null==t?void 0:fr(t,n);return void 0===r?e:r}function mu(t,n){return null!=t&&ro(t,n,mr)}var yu=Si((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Mt.call(n)),t[n]=e}),Hu(Vu)),gu=Si((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Mt.call(n)),kt.call(t,n)?t[n].push(e):t[n]=[e]}),Xi),_u=qr(gr);function bu(t){return Ca(t)?qe(t):kr(t)}function wu(t){return Ca(t)?qe(t,!0):Tr(t)}var xu=bi((function(t,n,e){zr(t,n,e)})),ju=bi((function(t,n,e,r){zr(t,n,e,r)})),ku=Fi((function(t,n){var e={};if(null==t)return e;var r=!1;n=fn(n,(function(n){return n=ui(n,t),r||(r=n.length>1),n})),gi(t,Vi(t),e),r&&(e=Xe(e,7,Bi));for(var i=n.length;i--;)Qr(e,n[i]);return e}));var Tu=Fi((function(t,n){return null==t?{}:function(t,n){return Er(t,n,(function(n,e){return mu(t,e)}))}(t,n)}));function Au(t,n){if(null==t)return{};var e=fn(Vi(t),(function(t){return[t]}));return n=Xi(n),Er(t,e,(function(t,e){return n(t,e[0])}))}var Mu=qi(bu),Pu=qi(wu);function Su(t){return null==t?[]:Sn(t,bu(t))}var zu=ki((function(t,n,e){return n=n.toLowerCase(),t+(e?Iu(n):n)}));function Iu(t){return Ru(uu(t).toLowerCase())}function $u(t){return(t=uu(t))&&t.replace(at,Nn).replace(zt,"")}var Eu=ki((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()})),Nu=ki((function(t,n,e){return t+(e?" ":"")+n.toLowerCase()})),Cu=ji("toLowerCase");var Ou=ki((function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}));var Lu=ki((function(t,n,e){return t+(e?" ":"")+Ru(n)}));var qu=ki((function(t,n,e){return t+(e?" ":"")+n.toUpperCase()})),Ru=ji("toUpperCase");function Du(t,n,e){return t=uu(t),void 0===(n=e?void 0:n)?function(t){return Nt.test(t)}(t)?function(t){return t.match($t)||[]}(t):function(t){return t.match(Z)||[]}(t):t.match(n)||[]}var Uu=qr((function(t,n){try{return en(t,void 0,n)}catch(t){return Ra(t)?t:new ht(t)}})),Bu=Fi((function(t,n){return on(n,(function(n){n=Ao(n),Ye(t,n,ga(t[n],t))})),t}));function Hu(t){return function(){return t}}var Fu=Mi(),Wu=Mi(!0);function Vu(t){return t}function Yu(t){return jr("function"==typeof t?t:Xe(t,1))}var Ku=qr((function(t,n){return function(e){return gr(e,t,n)}})),Gu=qr((function(t,n){return function(e){return gr(t,e,n)}}));function Xu(t,n,e){var r=bu(n),i=cr(n,r);null!=e||Ha(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=cr(n,bu(n)));var o=!(Ha(e)&&"chain"in e&&!e.chain),a=Da(t);return on(i,(function(e){var r=n[e];t[e]=r,a&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__),i=e.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,hn([this.value()],arguments))})})),t}function Zu(){}var Ju=Ii(fn),Qu=Ii(un),ts=Ii(vn);function ns(t){return so(t)?jn(Ao(t)):function(t){return function(n){return fr(n,t)}}(t)}var es=Ei(),rs=Ei(!0);function is(){return[]}function os(){return!1}var as=zi((function(t,n){return t+n}),0),us=Oi("ceil"),ss=zi((function(t,n){return t/n}),1),ls=Oi("floor");var cs,fs=zi((function(t,n){return t*n}),1),hs=Oi("round"),ps=zi((function(t,n){return t-n}),0);return Pe.after=function(t,n){if("function"!=typeof n)throw new gt(e);return t=ru(t),function(){if(--t<1)return n.apply(this,arguments)}},Pe.ary=ma,Pe.assign=su,Pe.assignIn=lu,Pe.assignInWith=cu,Pe.assignWith=fu,Pe.at=hu,Pe.before=ya,Pe.bind=ga,Pe.bindAll=Bu,Pe.bindKey=_a,Pe.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ea(t)?t:[t]},Pe.chain=na,Pe.chunk=function(t,n,e){n=(e?uo(t,n,e):void 0===n)?1:ae(ru(n),0);var r=null==t?0:t.length;if(!r||n<1)return[];for(var i=0,o=0,a=ct(Qn(r/n));i<r;)a[o++]=Wr(t,i,i+=n);return a},Pe.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var o=t[n];o&&(i[r++]=o)}return i},Pe.concat=function(){var t=arguments.length;if(!t)return[];for(var n=ct(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return hn(Ea(e)?yi(e):[e],or(n,1))},Pe.cond=function(t){var n=null==t?0:t.length,r=Xi();return t=n?fn(t,(function(t){if("function"!=typeof t[1])throw new gt(e);return[r(t[0]),t[1]]})):[],qr((function(e){for(var r=-1;++r<n;){var i=t[r];if(en(i[0],this,e))return en(i[1],this,e)}}))},Pe.conforms=function(t){return function(t){var n=bu(t);return function(e){return Ze(e,t,n)}}(Xe(t,1))},Pe.constant=Hu,Pe.countBy=ia,Pe.create=function(t,n){var e=Se(t);return null==n?e:Ve(e,n)},Pe.curry=function t(n,e,r){var i=Ri(n,8,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return i.placeholder=t.placeholder,i},Pe.curryRight=function t(n,e,r){var i=Ri(n,16,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return i.placeholder=t.placeholder,i},Pe.debounce=ba,Pe.defaults=pu,Pe.defaultsDeep=du,Pe.defer=wa,Pe.delay=xa,Pe.difference=So,Pe.differenceBy=zo,Pe.differenceWith=Io,Pe.drop=function(t,n,e){var r=null==t?0:t.length;return r?Wr(t,(n=e||void 0===n?1:ru(n))<0?0:n,r):[]},Pe.dropRight=function(t,n,e){var r=null==t?0:t.length;return r?Wr(t,0,(n=r-(n=e||void 0===n?1:ru(n)))<0?0:n):[]},Pe.dropRightWhile=function(t,n){return t&&t.length?ni(t,Xi(n,3),!0,!0):[]},Pe.dropWhile=function(t,n){return t&&t.length?ni(t,Xi(n,3),!0):[]},Pe.fill=function(t,n,e,r){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&uo(t,n,e)&&(e=0,r=i),function(t,n,e,r){var i=t.length;for((e=ru(e))<0&&(e=-e>i?0:i+e),(r=void 0===r||r>i?i:ru(r))<0&&(r+=i),r=e>r?0:iu(r);e<r;)t[e++]=n;return t}(t,n,e,r)):[]},Pe.filter=function(t,n){return(Ea(t)?sn:ir)(t,Xi(n,3))},Pe.flatMap=function(t,n){return or(ha(t,n),1)},Pe.flatMapDeep=function(t,n){return or(ha(t,n),1/0)},Pe.flatMapDepth=function(t,n,e){return e=void 0===e?1:ru(e),or(ha(t,n),e)},Pe.flatten=No,Pe.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},Pe.flattenDepth=function(t,n){return(null==t?0:t.length)?or(t,n=void 0===n?1:ru(n)):[]},Pe.flip=function(t){return Ri(t,512)},Pe.flow=Fu,Pe.flowRight=Wu,Pe.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},Pe.functions=function(t){return null==t?[]:cr(t,bu(t))},Pe.functionsIn=function(t){return null==t?[]:cr(t,wu(t))},Pe.groupBy=la,Pe.initial=function(t){return(null==t?0:t.length)?Wr(t,0,-1):[]},Pe.intersection=Oo,Pe.intersectionBy=Lo,Pe.intersectionWith=qo,Pe.invert=yu,Pe.invertBy=gu,Pe.invokeMap=ca,Pe.iteratee=Yu,Pe.keyBy=fa,Pe.keys=bu,Pe.keysIn=wu,Pe.map=ha,Pe.mapKeys=function(t,n){var e={};return n=Xi(n,3),sr(t,(function(t,r,i){Ye(e,n(t,r,i),t)})),e},Pe.mapValues=function(t,n){var e={};return n=Xi(n,3),sr(t,(function(t,r,i){Ye(e,r,n(t,r,i))})),e},Pe.matches=function(t){return Pr(Xe(t,1))},Pe.matchesProperty=function(t,n){return Sr(t,Xe(n,1))},Pe.memoize=ja,Pe.merge=xu,Pe.mergeWith=ju,Pe.method=Ku,Pe.methodOf=Gu,Pe.mixin=Xu,Pe.negate=ka,Pe.nthArg=function(t){return t=ru(t),qr((function(n){return Ir(n,t)}))},Pe.omit=ku,Pe.omitBy=function(t,n){return Au(t,ka(Xi(n)))},Pe.once=function(t){return ya(2,t)},Pe.orderBy=function(t,n,e,r){return null==t?[]:(Ea(n)||(n=null==n?[]:[n]),Ea(e=r?void 0:e)||(e=null==e?[]:[e]),$r(t,n,e))},Pe.over=Ju,Pe.overArgs=Ta,Pe.overEvery=Qu,Pe.overSome=ts,Pe.partial=Aa,Pe.partialRight=Ma,Pe.partition=pa,Pe.pick=Tu,Pe.pickBy=Au,Pe.property=ns,Pe.propertyOf=function(t){return function(n){return null==t?void 0:fr(t,n)}},Pe.pull=Do,Pe.pullAll=Uo,Pe.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?Nr(t,n,Xi(e,2)):t},Pe.pullAllWith=function(t,n,e){return t&&t.length&&n&&n.length?Nr(t,n,void 0,e):t},Pe.pullAt=Bo,Pe.range=es,Pe.rangeRight=rs,Pe.rearg=Pa,Pe.reject=function(t,n){return(Ea(t)?sn:ir)(t,ka(Xi(n,3)))},Pe.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=Xi(n,3);++r<o;){var a=t[r];n(a,r,t)&&(e.push(a),i.push(r))}return Cr(t,i),e},Pe.rest=function(t,n){if("function"!=typeof t)throw new gt(e);return qr(t,n=void 0===n?n:ru(n))},Pe.reverse=Ho,Pe.sampleSize=function(t,n,e){return n=(e?uo(t,n,e):void 0===n)?1:ru(n),(Ea(t)?De:Dr)(t,n)},Pe.set=function(t,n,e){return null==t?t:Ur(t,n,e)},Pe.setWith=function(t,n,e,r){return r="function"==typeof r?r:void 0,null==t?t:Ur(t,n,e,r)},Pe.shuffle=function(t){return(Ea(t)?Ue:Fr)(t)},Pe.slice=function(t,n,e){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&uo(t,n,e)?(n=0,e=r):(n=null==n?0:ru(n),e=void 0===e?r:ru(e)),Wr(t,n,e)):[]},Pe.sortBy=da,Pe.sortedUniq=function(t){return t&&t.length?Gr(t):[]},Pe.sortedUniqBy=function(t,n){return t&&t.length?Gr(t,Xi(n,2)):[]},Pe.split=function(t,n,e){return e&&"number"!=typeof e&&uo(t,n,e)&&(n=e=void 0),(e=void 0===e?4294967295:e>>>0)?(t=uu(t))&&("string"==typeof n||null!=n&&!Ka(n))&&!(n=Zr(n))&&Ln(t)?li(Fn(t),0,e):t.split(n,e):[]},Pe.spread=function(t,n){if("function"!=typeof t)throw new gt(e);return n=null==n?0:ae(ru(n),0),qr((function(e){var r=e[n],i=li(e,0,n);return r&&hn(i,r),en(t,this,i)}))},Pe.tail=function(t){var n=null==t?0:t.length;return n?Wr(t,1,n):[]},Pe.take=function(t,n,e){return t&&t.length?Wr(t,0,(n=e||void 0===n?1:ru(n))<0?0:n):[]},Pe.takeRight=function(t,n,e){var r=null==t?0:t.length;return r?Wr(t,(n=r-(n=e||void 0===n?1:ru(n)))<0?0:n,r):[]},Pe.takeRightWhile=function(t,n){return t&&t.length?ni(t,Xi(n,3),!1,!0):[]},Pe.takeWhile=function(t,n){return t&&t.length?ni(t,Xi(n,3)):[]},Pe.tap=function(t,n){return n(t),t},Pe.throttle=function(t,n,r){var i=!0,o=!0;if("function"!=typeof t)throw new gt(e);return Ha(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),ba(t,n,{leading:i,maxWait:n,trailing:o})},Pe.thru=ea,Pe.toArray=nu,Pe.toPairs=Mu,Pe.toPairsIn=Pu,Pe.toPath=function(t){return Ea(t)?fn(t,Ao):Za(t)?[t]:yi(To(uu(t)))},Pe.toPlainObject=au,Pe.transform=function(t,n,e){var r=Ea(t),i=r||La(t)||Ja(t);if(n=Xi(n,4),null==e){var o=t&&t.constructor;e=i?r?new o:[]:Ha(t)&&Da(o)?Se(Vt(t)):{}}return(i?on:sr)(t,(function(t,r,i){return n(e,t,r,i)})),e},Pe.unary=function(t){return ma(t,1)},Pe.union=Fo,Pe.unionBy=Wo,Pe.unionWith=Vo,Pe.uniq=function(t){return t&&t.length?Jr(t):[]},Pe.uniqBy=function(t,n){return t&&t.length?Jr(t,Xi(n,2)):[]},Pe.uniqWith=function(t,n){return n="function"==typeof n?n:void 0,t&&t.length?Jr(t,void 0,n):[]},Pe.unset=function(t,n){return null==t||Qr(t,n)},Pe.unzip=Yo,Pe.unzipWith=Ko,Pe.update=function(t,n,e){return null==t?t:ti(t,n,ai(e))},Pe.updateWith=function(t,n,e,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,n,ai(e),r)},Pe.values=Su,Pe.valuesIn=function(t){return null==t?[]:Sn(t,wu(t))},Pe.without=Go,Pe.words=Du,Pe.wrap=function(t,n){return Aa(ai(n),t)},Pe.xor=Xo,Pe.xorBy=Zo,Pe.xorWith=Jo,Pe.zip=Qo,Pe.zipObject=function(t,n){return ii(t||[],n||[],He)},Pe.zipObjectDeep=function(t,n){return ii(t||[],n||[],Ur)},Pe.zipWith=ta,Pe.entries=Mu,Pe.entriesIn=Pu,Pe.extend=lu,Pe.extendWith=cu,Xu(Pe,Pe),Pe.add=as,Pe.attempt=Uu,Pe.camelCase=zu,Pe.capitalize=Iu,Pe.ceil=us,Pe.clamp=function(t,n,e){return void 0===e&&(e=n,n=void 0),void 0!==e&&(e=(e=ou(e))==e?e:0),void 0!==n&&(n=(n=ou(n))==n?n:0),Ge(ou(t),n,e)},Pe.clone=function(t){return Xe(t,4)},Pe.cloneDeep=function(t){return Xe(t,5)},Pe.cloneDeepWith=function(t,n){return Xe(t,5,n="function"==typeof n?n:void 0)},Pe.cloneWith=function(t,n){return Xe(t,4,n="function"==typeof n?n:void 0)},Pe.conformsTo=function(t,n){return null==n||Ze(t,n,bu(n))},Pe.deburr=$u,Pe.defaultTo=function(t,n){return null==t||t!=t?n:t},Pe.divide=ss,Pe.endsWith=function(t,n,e){t=uu(t),n=Zr(n);var r=t.length,i=e=void 0===e?r:Ge(ru(e),0,r);return(e-=n.length)>=0&&t.slice(e,i)==n},Pe.eq=Sa,Pe.escape=function(t){return(t=uu(t))&&O.test(t)?t.replace(N,Cn):t},Pe.escapeRegExp=function(t){return(t=uu(t))&&F.test(t)?t.replace(H,"\\$&"):t},Pe.every=function(t,n,e){var r=Ea(t)?un:er;return e&&uo(t,n,e)&&(n=void 0),r(t,Xi(n,3))},Pe.find=oa,Pe.findIndex=$o,Pe.findKey=function(t,n){return yn(t,Xi(n,3),sr)},Pe.findLast=aa,Pe.findLastIndex=Eo,Pe.findLastKey=function(t,n){return yn(t,Xi(n,3),lr)},Pe.floor=ls,Pe.forEach=ua,Pe.forEachRight=sa,Pe.forIn=function(t,n){return null==t?t:ar(t,Xi(n,3),wu)},Pe.forInRight=function(t,n){return null==t?t:ur(t,Xi(n,3),wu)},Pe.forOwn=function(t,n){return t&&sr(t,Xi(n,3))},Pe.forOwnRight=function(t,n){return t&&lr(t,Xi(n,3))},Pe.get=vu,Pe.gt=za,Pe.gte=Ia,Pe.has=function(t,n){return null!=t&&ro(t,n,vr)},Pe.hasIn=mu,Pe.head=Co,Pe.identity=Vu,Pe.includes=function(t,n,e,r){t=Ca(t)?t:Su(t),e=e&&!r?ru(e):0;var i=t.length;return e<0&&(e=ae(i+e,0)),Xa(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&_n(t,n,e)>-1},Pe.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ru(e);return i<0&&(i=ae(r+i,0)),_n(t,n,i)},Pe.inRange=function(t,n,e){return n=eu(n),void 0===e?(e=n,n=0):e=eu(e),function(t,n,e){return t>=ue(n,e)&&t<ae(n,e)}(t=ou(t),n,e)},Pe.invoke=_u,Pe.isArguments=$a,Pe.isArray=Ea,Pe.isArrayBuffer=Na,Pe.isArrayLike=Ca,Pe.isArrayLikeObject=Oa,Pe.isBoolean=function(t){return!0===t||!1===t||Fa(t)&&pr(t)==u},Pe.isBuffer=La,Pe.isDate=qa,Pe.isElement=function(t){return Fa(t)&&1===t.nodeType&&!Ya(t)},Pe.isEmpty=function(t){if(null==t)return!0;if(Ca(t)&&(Ea(t)||"string"==typeof t||"function"==typeof t.splice||La(t)||Ja(t)||$a(t)))return!t.length;var n=eo(t);if(n==h||n==m)return!t.size;if(fo(t))return!kr(t).length;for(var e in t)if(kt.call(t,e))return!1;return!0},Pe.isEqual=function(t,n){return br(t,n)},Pe.isEqualWith=function(t,n,e){var r=(e="function"==typeof e?e:void 0)?e(t,n):void 0;return void 0===r?br(t,n,void 0,e):!!r},Pe.isError=Ra,Pe.isFinite=function(t){return"number"==typeof t&&re(t)},Pe.isFunction=Da,Pe.isInteger=Ua,Pe.isLength=Ba,Pe.isMap=Wa,Pe.isMatch=function(t,n){return t===n||wr(t,n,Ji(n))},Pe.isMatchWith=function(t,n,e){return e="function"==typeof e?e:void 0,wr(t,n,Ji(n),e)},Pe.isNaN=function(t){return Va(t)&&t!=+t},Pe.isNative=function(t){if(co(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(t)},Pe.isNil=function(t){return null==t},Pe.isNull=function(t){return null===t},Pe.isNumber=Va,Pe.isObject=Ha,Pe.isObjectLike=Fa,Pe.isPlainObject=Ya,Pe.isRegExp=Ka,Pe.isSafeInteger=function(t){return Ua(t)&&t>=-9007199254740991&&t<=9007199254740991},Pe.isSet=Ga,Pe.isString=Xa,Pe.isSymbol=Za,Pe.isTypedArray=Ja,Pe.isUndefined=function(t){return void 0===t},Pe.isWeakMap=function(t){return Fa(t)&&eo(t)==_},Pe.isWeakSet=function(t){return Fa(t)&&"[object WeakSet]"==pr(t)},Pe.join=function(t,n){return null==t?"":ie.call(t,n)},Pe.kebabCase=Eu,Pe.last=Ro,Pe.lastIndexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==e&&(i=(i=ru(e))<0?ae(r+i,0):ue(i,r-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,i):gn(t,wn,i,!0)},Pe.lowerCase=Nu,Pe.lowerFirst=Cu,Pe.lt=Qa,Pe.lte=tu,Pe.max=function(t){return t&&t.length?rr(t,Vu,dr):void 0},Pe.maxBy=function(t,n){return t&&t.length?rr(t,Xi(n,2),dr):void 0},Pe.mean=function(t){return xn(t,Vu)},Pe.meanBy=function(t,n){return xn(t,Xi(n,2))},Pe.min=function(t){return t&&t.length?rr(t,Vu,Ar):void 0},Pe.minBy=function(t,n){return t&&t.length?rr(t,Xi(n,2),Ar):void 0},Pe.stubArray=is,Pe.stubFalse=os,Pe.stubObject=function(){return{}},Pe.stubString=function(){return""},Pe.stubTrue=function(){return!0},Pe.multiply=fs,Pe.nth=function(t,n){return t&&t.length?Ir(t,ru(n)):void 0},Pe.noConflict=function(){return Ft._===this&&(Ft._=It),this},Pe.noop=Zu,Pe.now=va,Pe.pad=function(t,n,e){t=uu(t);var r=(n=ru(n))?Hn(t):0;if(!n||r>=n)return t;var i=(n-r)/2;return $i(te(i),e)+t+$i(Qn(i),e)},Pe.padEnd=function(t,n,e){t=uu(t);var r=(n=ru(n))?Hn(t):0;return n&&r<n?t+$i(n-r,e):t},Pe.padStart=function(t,n,e){t=uu(t);var r=(n=ru(n))?Hn(t):0;return n&&r<n?$i(n-r,e)+t:t},Pe.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),le(uu(t).replace(V,""),n||0)},Pe.random=function(t,n,e){if(e&&"boolean"!=typeof e&&uo(t,n,e)&&(n=e=void 0),void 0===e&&("boolean"==typeof n?(e=n,n=void 0):"boolean"==typeof t&&(e=t,t=void 0)),void 0===t&&void 0===n?(t=0,n=1):(t=eu(t),void 0===n?(n=t,t=0):n=eu(n)),t>n){var r=t;t=n,n=r}if(e||t%1||n%1){var i=ce();return ue(t+i*(n-t+Dt("1e-"+((i+"").length-1))),n)}return Or(t,n)},Pe.reduce=function(t,n,e){var r=Ea(t)?pn:Tn,i=arguments.length<3;return r(t,Xi(n,4),e,i,tr)},Pe.reduceRight=function(t,n,e){var r=Ea(t)?dn:Tn,i=arguments.length<3;return r(t,Xi(n,4),e,i,nr)},Pe.repeat=function(t,n,e){return n=(e?uo(t,n,e):void 0===n)?1:ru(n),Lr(uu(t),n)},Pe.replace=function(){var t=arguments,n=uu(t[0]);return t.length<3?n:n.replace(t[1],t[2])},Pe.result=function(t,n,e){var r=-1,i=(n=ui(n,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Ao(n[r])];void 0===o&&(r=i,o=e),t=Da(o)?o.call(t):o}return t},Pe.round=hs,Pe.runInContext=t,Pe.sample=function(t){return(Ea(t)?Re:Rr)(t)},Pe.size=function(t){if(null==t)return 0;if(Ca(t))return Xa(t)?Hn(t):t.length;var n=eo(t);return n==h||n==m?t.size:kr(t).length},Pe.snakeCase=Ou,Pe.some=function(t,n,e){var r=Ea(t)?vn:Vr;return e&&uo(t,n,e)&&(n=void 0),r(t,Xi(n,3))},Pe.sortedIndex=function(t,n){return Yr(t,n)},Pe.sortedIndexBy=function(t,n,e){return Kr(t,n,Xi(e,2))},Pe.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=Yr(t,n);if(r<e&&Sa(t[r],n))return r}return-1},Pe.sortedLastIndex=function(t,n){return Yr(t,n,!0)},Pe.sortedLastIndexBy=function(t,n,e){return Kr(t,n,Xi(e,2),!0)},Pe.sortedLastIndexOf=function(t,n){if(null==t?0:t.length){var e=Yr(t,n,!0)-1;if(Sa(t[e],n))return e}return-1},Pe.startCase=Lu,Pe.startsWith=function(t,n,e){return t=uu(t),e=null==e?0:Ge(ru(e),0,t.length),n=Zr(n),t.slice(e,e+n.length)==n},Pe.subtract=ps,Pe.sum=function(t){return t&&t.length?An(t,Vu):0},Pe.sumBy=function(t,n){return t&&t.length?An(t,Xi(n,2)):0},Pe.template=function(t,n,e){var r=Pe.templateSettings;e&&uo(t,n,e)&&(n=void 0),t=uu(t),n=cu({},n,r,Di);var i,o,a=cu({},n.imports,r.imports,Di),u=bu(a),s=Sn(a,u),l=0,c=n.interpolate||ut,f="__p += '",h=mt((n.escape||ut).source+"|"+c.source+"|"+(c===R?Q:ut).source+"|"+(n.evaluate||ut).source+"|$","g"),p="//# sourceURL="+(kt.call(n,"sourceURL")?(n.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ot+"]")+"\n";t.replace(h,(function(n,e,r,a,u,s){return r||(r=a),f+=t.slice(l,s).replace(st,On),e&&(i=!0,f+="' +\n__e("+e+") +\n'"),u&&(o=!0,f+="';\n"+u+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+n.length,n})),f+="';\n";var d=kt.call(n,"variable")&&n.variable;d||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(z,""):f).replace(I,"$1").replace($,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Uu((function(){return pt(u,p+"return "+f).apply(void 0,s)}));if(v.source=f,Ra(v))throw v;return v},Pe.times=function(t,n){if((t=ru(t))<1||t>9007199254740991)return[];var e=4294967295,r=ue(t,4294967295);t-=4294967295;for(var i=Mn(r,n=Xi(n));++e<t;)n(e);return i},Pe.toFinite=eu,Pe.toInteger=ru,Pe.toLength=iu,Pe.toLower=function(t){return uu(t).toLowerCase()},Pe.toNumber=ou,Pe.toSafeInteger=function(t){return t?Ge(ru(t),-9007199254740991,9007199254740991):0===t?t:0},Pe.toString=uu,Pe.toUpper=function(t){return uu(t).toUpperCase()},Pe.trim=function(t,n,e){if((t=uu(t))&&(e||void 0===n))return t.replace(W,"");if(!t||!(n=Zr(n)))return t;var r=Fn(t),i=Fn(n);return li(r,In(r,i),$n(r,i)+1).join("")},Pe.trimEnd=function(t,n,e){if((t=uu(t))&&(e||void 0===n))return t.replace(Y,"");if(!t||!(n=Zr(n)))return t;var r=Fn(t);return li(r,0,$n(r,Fn(n))+1).join("")},Pe.trimStart=function(t,n,e){if((t=uu(t))&&(e||void 0===n))return t.replace(V,"");if(!t||!(n=Zr(n)))return t;var r=Fn(t);return li(r,In(r,Fn(n))).join("")},Pe.truncate=function(t,n){var e=30,r="...";if(Ha(n)){var i="separator"in n?n.separator:i;e="length"in n?ru(n.length):e,r="omission"in n?Zr(n.omission):r}var o=(t=uu(t)).length;if(Ln(t)){var a=Fn(t);o=a.length}if(e>=o)return t;var u=e-Hn(r);if(u<1)return r;var s=a?li(a,0,u).join(""):t.slice(0,u);if(void 0===i)return s+r;if(a&&(u+=s.length-u),Ka(i)){if(t.slice(u).search(i)){var l,c=s;for(i.global||(i=mt(i.source,uu(tt.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var f=l.index;s=s.slice(0,void 0===f?u:f)}}else if(t.indexOf(Zr(i),u)!=u){var h=s.lastIndexOf(i);h>-1&&(s=s.slice(0,h))}return s+r},Pe.unescape=function(t){return(t=uu(t))&&C.test(t)?t.replace(E,Wn):t},Pe.uniqueId=function(t){var n=++Tt;return uu(t)+n},Pe.upperCase=qu,Pe.upperFirst=Ru,Pe.each=ua,Pe.eachRight=sa,Pe.first=Co,Xu(Pe,(cs={},sr(Pe,(function(t,n){kt.call(Pe.prototype,n)||(cs[n]=t)})),cs),{chain:!1}),Pe.VERSION="4.17.15",on(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Pe[t].placeholder=Pe})),on(["drop","take"],(function(t,n){$e.prototype[t]=function(e){e=void 0===e?1:ae(ru(e),0);var r=this.__filtered__&&!n?new $e(this):this.clone();return r.__filtered__?r.__takeCount__=ue(e,r.__takeCount__):r.__views__.push({size:ue(e,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},$e.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}})),on(["filter","map","takeWhile"],(function(t,n){var e=n+1,r=1==e||3==e;$e.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Xi(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}})),on(["head","last"],(function(t,n){var e="take"+(n?"Right":"");$e.prototype[t]=function(){return this[e](1).value()[0]}})),on(["initial","tail"],(function(t,n){var e="drop"+(n?"":"Right");$e.prototype[t]=function(){return this.__filtered__?new $e(this):this[e](1)}})),$e.prototype.compact=function(){return this.filter(Vu)},$e.prototype.find=function(t){return this.filter(t).head()},$e.prototype.findLast=function(t){return this.reverse().find(t)},$e.prototype.invokeMap=qr((function(t,n){return"function"==typeof t?new $e(this):this.map((function(e){return gr(e,t,n)}))})),$e.prototype.reject=function(t){return this.filter(ka(Xi(t)))},$e.prototype.slice=function(t,n){t=ru(t);var e=this;return e.__filtered__&&(t>0||n<0)?new $e(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),void 0!==n&&(e=(n=ru(n))<0?e.dropRight(-n):e.take(n-t)),e)},$e.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},$e.prototype.toArray=function(){return this.take(4294967295)},sr($e.prototype,(function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=Pe[r?"take"+("last"==n?"Right":""):n],o=r||/^find/.test(n);i&&(Pe.prototype[n]=function(){var n=this.__wrapped__,a=r?[1]:arguments,u=n instanceof $e,s=a[0],l=u||Ea(n),c=function(t){var n=i.apply(Pe,hn([t],a));return r&&f?n[0]:n};l&&e&&"function"==typeof s&&1!=s.length&&(u=l=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,d=u&&!h;if(!o&&l){n=d?n:new $e(this);var v=t.apply(n,a);return v.__actions__.push({func:ea,args:[c],thisArg:void 0}),new Ie(v,f)}return p&&d?t.apply(this,a):(v=this.thru(c),p?r?v.value()[0]:v.value():v)})})),on(["pop","push","shift","sort","splice","unshift"],(function(t){var n=_t[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Pe.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return n.apply(Ea(i)?i:[],t)}return this[e]((function(e){return n.apply(Ea(e)?e:[],t)}))}})),sr($e.prototype,(function(t,n){var e=Pe[n];if(e){var r=e.name+"";kt.call(_e,r)||(_e[r]=[]),_e[r].push({name:n,func:e})}})),_e[Pi(void 0,2).name]=[{name:"wrapper",func:void 0}],$e.prototype.clone=function(){var t=new $e(this.__wrapped__);return t.__actions__=yi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=yi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=yi(this.__views__),t},$e.prototype.reverse=function(){if(this.__filtered__){var t=new $e(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},$e.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=Ea(t),r=n<0,i=e?t.length:0,o=function(t,n,e){var r=-1,i=e.length;for(;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=ue(n,t+a);break;case"takeRight":t=ae(t,n-a)}}return{start:t,end:n}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,l=r?u:a-1,c=this.__iteratees__,f=c.length,h=0,p=ue(s,this.__takeCount__);if(!e||!r&&i==s&&p==s)return ei(t,this.__actions__);var d=[];t:for(;s--&&h<p;){for(var v=-1,m=t[l+=n];++v<f;){var y=c[v],g=y.iteratee,_=y.type,b=g(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}d[h++]=m}return d},Pe.prototype.at=ra,Pe.prototype.chain=function(){return na(this)},Pe.prototype.commit=function(){return new Ie(this.value(),this.__chain__)},Pe.prototype.next=function(){void 0===this.__values__&&(this.__values__=nu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Pe.prototype.plant=function(t){for(var n,e=this;e instanceof ze;){var r=Po(e);r.__index__=0,r.__values__=void 0,n?i.__wrapped__=r:n=r;var i=r;e=e.__wrapped__}return i.__wrapped__=t,n},Pe.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof $e){var n=t;return this.__actions__.length&&(n=new $e(this)),(n=n.reverse()).__actions__.push({func:ea,args:[Ho],thisArg:void 0}),new Ie(n,this.__chain__)}return this.thru(Ho)},Pe.prototype.toJSON=Pe.prototype.valueOf=Pe.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},Pe.prototype.first=Pe.prototype.head,Yn&&(Pe.prototype[Yn]=function(){return this}),Pe}();Vt?((Vt.exports=Vn)._=Vn,Wt._=Vn):Ft._=Vn}).call(wa)}));function xa(t,n,e){const r=getComputedStyle(t),i="none"===r.transform?"":r.transform,a=n.from.width/t.clientWidth,u=n.from.height/t.clientHeight,s=(n.from.left-n.to.left)/a,l=(n.from.top-n.to.top)/u,c=Math.sqrt(s*s+l*l),{delay:f=0,duration:h=(t=>120*Math.sqrt(t)),easing:p=_t}=e;return{delay:f,duration:o(h)?h(c):h,easing:p,css:(t,n)=>`transform: ${i} translate(${n*s}px, ${n*l}px);`}}function ja(t,n,e){const r=t.slice();return r[13]=n[e],r[15]=e,r}function ka(t,n,e){const r=t.slice();return r[16]=n[e],r}function Ta(t,n,e){const r=t.slice();return r[19]=n[e],r}function Aa(t){let n;return{c(){n=b("span"),A(n,"class","mdi"),z(n,"mdi-heart",t[19]),z(n,"mdi-heart-outline",!t[19])},m(t,e){y(t,n,e)},p(t,e){2&e&&z(n,"mdi-heart",t[19]),2&e&&z(n,"mdi-heart-outline",!t[19])},d(t){t&&g(n)}}}function Ma(t){let n,e,r=t[2],i=[];for(let n=0;n<r.length;n+=1)i[n]=Pa(ka(t,r,n));const o=t=>ut(i[t],1,1,()=>{i[t]=null});return{c(){n=b("small");for(let t=0;t<i.length;t+=1)i[t].c()},m(t,r){y(t,n,r);for(let t=0;t<i.length;t+=1)i[t].m(n,null);e=!0},p(t,e){if(36&e){let a;for(r=t[2],a=0;a<r.length;a+=1){const o=ka(t,r,a);i[a]?(i[a].p(o,e),at(i[a],1)):(i[a]=Pa(o),i[a].c(),at(i[a],1),i[a].m(n,null))}for(it(),a=r.length;a<i.length;a+=1)o(a);ot()}},i(t){if(!e){for(let t=0;t<r.length;t+=1)at(i[t]);e=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)ut(i[t]);e=!1},d(t){t&&g(n),_(i,t)}}}function Pa(t){let n,e,r,i,o,a,u,s=t[16]+"";return{c(){n=b("div"),e=b("span"),r=x("•"),i=j(),o=x(s),S(e,"color",t[5](t[16]))},m(t,a){y(t,n,a),m(n,e),m(e,r),m(n,i),m(n,o),u=!0},p(t,n){(!u||36&n)&&S(e,"color",t[5](t[16])),(!u||4&n)&&s!==(s=t[16]+"")&&function(t,n){n=""+n,t.data!==n&&(t.data=n)}(o,s)},i(t){u||(Y(()=>{a||(a=lt(n,wt,{},!0)),a.run(1)}),u=!0)},o(t){a||(a=lt(n,wt,{},!1)),a.run(0),u=!1},d(t){t&&g(n),t&&a&&a.end()}}}function Sa(t){let n,e,r=[],i=new Map,o=t[3];const a=t=>t[13];for(let n=0;n<o.length;n+=1){let e=ja(t,o,n),u=a(e);i.set(u,r[n]=za(u,e))}return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=k()},m(t,i){for(let n=0;n<r.length;n+=1)r[n].m(t,i);y(t,n,i),e=!0},p(t,e){if(9&e){const o=t[3];it();for(let t=0;t<r.length;t+=1)r[t].r();r=function(t,n,e,r,i,o,a,u,s,l,c,f){let h=t.length,p=o.length,d=h;const v={};for(;d--;)v[t[d].key]=d;const m=[],y=new Map,g=new Map;for(d=p;d--;){const t=f(i,o,d),u=e(t);let s=a.get(u);s?r&&s.p(t,n):(s=l(u,t),s.c()),y.set(u,m[d]=s),u in v&&g.set(u,Math.abs(d-v[u]))}const _=new Set,b=new Set;function w(t){at(t,1),t.m(u,c),a.set(t.key,t),c=t.first,p--}for(;h&&p;){const n=m[p-1],e=t[h-1],r=n.key,i=e.key;n===e?(c=n.first,h--,p--):y.has(i)?!a.has(r)||_.has(r)?w(n):b.has(i)?h--:g.get(r)>g.get(i)?(b.add(r),w(n)):(_.add(i),h--):(s(e,a),h--)}for(;h--;){const n=t[h];y.has(n.key)||s(n,a)}for(;p;)w(m[p-1]);return m}(r,e,a,1,t,o,i,n.parentNode,ct,za,n,ja);for(let t=0;t<r.length;t+=1)r[t].a();ot()}},i(t){if(!e){for(let t=0;t<o.length;t+=1)at(r[t]);e=!0}},o(t){for(let t=0;t<r.length;t+=1)ut(r[t]);e=!1},d(t){for(let n=0;n<r.length;n+=1)r[n].d(t);t&&g(n)}}}function za(e,r){let i,o,a,u,s,l=t;return o=new ba({props:{tooltip:r[0],data:r[13],width:$a,height:Ea,margin:Na}}),{key:e,first:null,c(){i=b("div"),ht(o.$$.fragment),a=j(),S(i,"margin","0px"),this.first=i},m(t,n){y(t,i,n),pt(o,i,null),m(i,a),s=!0},p(t,n){const e={};1&n&&(e.tooltip=t[0]),8&n&&(e.data=t[13]),4194304&n&&(e.$$scope={dirty:n,ctx:t}),o.$set(e)},r(){u=i.getBoundingClientRect()},f(){L(i),l()},a(){l(),l=function(e,r,i,o){if(!r)return t;const a=e.getBoundingClientRect();if(r.left===a.left&&r.right===a.right&&r.top===a.top&&r.bottom===a.bottom)return t;const{delay:u=0,duration:s=300,easing:l=n,start:c=f()+u,end:h=c+s,tick:p=t,css:d}=i(e,{from:r,to:a},o);let m,y=!0,g=!1;function _(){d&&O(e,m),y=!1}return v(t=>{if(!g&&t>=c&&(g=!0),g&&t>=h&&(p(1,0),_()),!y)return!1;if(g){const n=0+1*l((t-c)/s);p(n,1-n)}return!0}),d&&(m=C(e,0,1,s,u,l,d)),u||(g=!0),p(0,1),_}(i,u,xa,{duration:650,easing:bt})},i(t){s||(at(o.$$.fragment,t),s=!0)},o(t){ut(o.$$.fragment,t),s=!1},d(t){t&&g(i),dt(o)}}}function Ia(t){let n,e,r,o,a,u,s,l,c,f,h,p,d,v,w,k,M,P,S,z,I=t[1],$=[];for(let n=0;n<I.length;n+=1)$[n]=Aa(Ta(t,I,n));let E="circle"==t[4]&&Ma(t),N=t[6]&&Sa(t);return{c(){n=b("section"),e=b("header"),r=b("span"),r.textContent="show datapoints as:",o=j(),a=b("input"),u=x(" Image\n        "),s=b("input"),l=x(" Circles"),c=b("br"),f=x("\n        \n        available points: ");for(let t=0;t<$.length;t+=1)$[t].c();h=j(),p=b("br"),d=j(),v=b("button"),v.innerHTML='<span class="mdi mdi-sort"></span> Sort',w=j(),E&&E.c(),k=j(),M=b("div"),N&&N.c(),A(a,"type","radio"),a.__value="image",a.value=a.__value,t[8][0].push(a),A(s,"type","radio"),s.__value="circle",s.value=s.__value,t[8][0].push(s),A(e,"class","svelte-1kxnwxo"),A(M,"class","vis_list svelte-1kxnwxo")},m(i,g){y(i,n,g),m(n,e),m(e,r),m(e,o),m(e,a),a.checked=a.__value===t[4],m(e,u),m(e,s),s.checked=s.__value===t[4],m(e,l),m(e,c),m(e,f);for(let t=0;t<$.length;t+=1)$[t].m(e,null);m(e,h),m(e,p),m(e,d),m(e,v),m(e,w),E&&E.m(e,null),m(n,k),m(n,M),N&&N.m(M,null),P=!0,S||(z=[T(a,"change",t[7]),T(s,"change",t[9]),T(v,"click",t[10])],S=!0)},p(t,[n]){if(16&n&&(a.checked=a.__value===t[4]),16&n&&(s.checked=s.__value===t[4]),2&n){let r;for(I=t[1],r=0;r<I.length;r+=1){const i=Ta(t,I,r);$[r]?$[r].p(i,n):($[r]=Aa(i),$[r].c(),$[r].m(e,h))}for(;r<$.length;r+=1)$[r].d(1);$.length=I.length}"circle"==t[4]?E?(E.p(t,n),16&n&&at(E,1)):(E=Ma(t),E.c(),at(E,1),E.m(e,null)):E&&(it(),ut(E,1,1,()=>{E=null}),ot()),t[6]?N?(N.p(t,n),64&n&&at(N,1)):(N=Sa(t),N.c(),at(N,1),N.m(M,null)):N&&(it(),ut(N,1,1,()=>{N=null}),ot())},i(t){P||(at(E),at(N),P=!0)},o(t){ut(E),ut(N),P=!1},d(e){e&&g(n),t[8][0].splice(t[8][0].indexOf(a),1),t[8][0].splice(t[8][0].indexOf(s),1),_($,e),E&&E.d(),N&&N.d(),S=!1,i(z)}}}let $a=250,Ea=250,Na=20;function Ca(t,n,e){let r,i,o,a,u;s(t,Ao,t=>e(3,r=t)),s(t,wo,t=>e(11,i=t)),s(t,zo,t=>e(4,o=t)),s(t,Po,t=>e(5,a=t)),s(t,To,t=>e(6,u=t));let{tooltip:l}=n,c=new Array(15).fill(!1);let f;return t.$set=t=>{"tooltip"in t&&e(0,l=t.tooltip)},t.$$.update=()=>{8&t.$$.dirty&&e(2,f=Array.from(new Set(r[0].map(t=>t.class)))),2048&t.$$.dirty&&e(1,c=c.map((t,n)=>n<i))},[l,c,f,r,o,a,u,function(){o=this.__value,zo.set(o)},[[]],function(){o=this.__value,zo.set(o)},()=>jo.sort_by_pos()]}class Oa extends yt{constructor(t){super(),mt(this,t,Ca,Ia,a,{tooltip:0})}}var La,qa;function Ra(t){let n,e,r,i,o,a;return{c(){n=b("div"),e=b("div"),r=b("img"),r.src!==(i=`data/thumbnails/size50/${t[3][t[2]]}.png`)&&A(r,"src",i),A(r,"alt",t[2]),A(r,"width","60px"),A(r,"height","60px"),A(r,"class","svelte-x87z44"),A(e,"class","tooltiptext svelte-x87z44"),A(n,"id","tooltip"),A(n,"class","tooltip svelte-x87z44"),S(n,"position","absolute"),S(n,"z-index","10000"),S(n,"visibility",t[2]?null:"hidden"),S(n,"pointer-events","none")},m(i,o){y(i,n,o),m(n,e),m(e,r),t[5](n),a=!0},p(t,e){(!a||12&e&&r.src!==(i=`data/thumbnails/size50/${t[3][t[2]]}.png`))&&A(r,"src",i),(!a||4&e)&&A(r,"alt",t[2]),(!a||4&e)&&S(n,"visibility",t[2]?null:"hidden")},i(t){a||(Y(()=>{o||(o=lt(n,jt,{duration:350},!0)),o.run(1)}),a=!0)},o(t){o||(o=lt(n,jt,{duration:350},!1)),o.run(0),a=!1},d(e){e&&g(n),t[5](null),e&&o&&o.end()}}}function Da(n){let e;return{c(){e=b("div"),A(e,"class","jspsych-display-element svelte-x87z44")},m(t,n){y(t,e,n)},p:t,i:t,o:t,d(t){t&&g(e)}}}function Ua(n){let e;return{c(){e=b("div"),e.innerHTML='<iframe src="https://giphy.com/embed/AOrThUuuOoDCg" width="480" height="285" frameborder="0" class="giphy-embed" allowfullscreen=""></iframe><p><a href="https://giphy.com/gifs/harry-potter-applause-AOrThUuuOoDCg">via GIPHY</a></p> \n            <h1><span class="mdi mdi-spin mdi-arm-flex"></span>Lots of thanks!!<span class="mdi mdi-spin mdi-heart"></span></h1>',A(e,"class","jspsych-display-element svelte-x87z44")},m(t,n){y(t,e,n)},p:t,i:t,o:t,d(t){t&&g(e)}}}function Ba(t){let n,e,r,i;const o=[Fa,Ha],a=[];function u(t,n){return t[4]?0:1}return e=u(t),r=a[e]=o[e](t),{c(){n=b("div"),r.c(),A(n,"class","jspsych-display-element svelte-x87z44")},m(t,r){y(t,n,r),a[e].m(n,null),i=!0},p(t,i){let s=e;e=u(t),e===s?a[e].p(t,i):(it(),ut(a[s],1,1,()=>{a[s]=null}),ot(),r=a[e],r||(r=a[e]=o[e](t),r.c()),at(r,1),r.m(n,null))},i(t){i||(at(r),i=!0)},o(t){ut(r),i=!1},d(t){t&&g(n),a[e].d()}}}function Ha(n){let e,r,i;return{c(){e=b("div"),r=j(),i=b("center"),i.textContent="Loading...",A(e,"class","loader svelte-x87z44")},m(t,n){y(t,e,n),y(t,r,n),y(t,i,n)},p:t,i:t,o:t,d(t){t&&g(e),t&&g(r),t&&g(i)}}}function Fa(t){let n,e,r;return e=new Oa({props:{tooltip:t[1]}}),{c(){n=b("div"),ht(e.$$.fragment)},m(t,i){y(t,n,i),pt(e,n,null),r=!0},p(t,n){const r={};2&n&&(r.tooltip=t[1]),e.$set(r)},i(t){r||(at(e.$$.fragment,t),r=!0)},o(t){ut(e.$$.fragment,t),r=!1},d(t){t&&g(n),dt(e)}}}function Wa(t){let n,e,r,i,o,a,u,s,l,c,f,h=t[2]&&Ra(t);const p=[Ba,Ua,Da],d=[];function v(t,n){return"dr_grid"==t[0]?0:"finish"==t[0]?1:"debrief"==t[0]?2:-1}return~(l=v(t))&&(c=d[l]=p[l](t)),{c(){n=b("link"),e=b("link"),r=b("link"),i=j(),o=b("nav"),o.innerHTML='<h2 class="svelte-x87z44">DumbleDR</h2>',a=j(),h&&h.c(),u=j(),s=b("main"),c&&c.c(),A(n,"href","https://cdn.jsdelivr.net/gh/jspsych/jsPsych@6.1.0/css/jspsych.min.css"),A(n,"rel","stylesheet"),A(n,"type","text/css"),A(e,"href","./build/style.css"),A(e,"rel","stylesheet"),A(e,"type","text/css"),A(r,"href","./build/jspsych.css"),A(r,"rel","stylesheet"),A(r,"type","text/css"),A(o,"class","svelte-x87z44"),A(s,"id","task"),S(s,"max-width",250*Va+10*(Va+1)+"px"),A(s,"class","svelte-x87z44")},m(t,c){m(document.head,n),m(document.head,e),m(document.head,r),y(t,i,c),y(t,o,c),y(t,a,c),h&&h.m(t,c),y(t,u,c),y(t,s,c),~l&&d[l].m(s,null),f=!0},p(t,[n]){t[2]?h?(h.p(t,n),4&n&&at(h,1)):(h=Ra(t),h.c(),at(h,1),h.m(u.parentNode,u)):h&&(it(),ut(h,1,1,()=>{h=null}),ot());let e=l;l=v(t),l===e?~l&&d[l].p(t,n):(c&&(it(),ut(d[e],1,1,()=>{d[e]=null}),ot()),~l?(c=d[l],c||(c=d[l]=p[l](t),c.c()),at(c,1),c.m(s,null)):c=null)},i(t){f||(at(h),at(c),f=!0)},o(t){ut(h),ut(c),f=!1},d(t){g(n),g(e),g(r),t&&g(i),t&&g(o),t&&g(a),h&&h.d(t),t&&g(u),t&&g(s),~l&&d[l].d()}}}window.jsPsych=function(){var t,n,e,r,i={},o={},a=0,u={},s=!1,l=!1,c=!1,f=!1,h=!1;function p(t,n,e){var r,i,o,a,u,s={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},l=this;this.trial=function(){return void 0===a?jsPsych.utils.deepCopy(o):s.current_location>=a.timeline.length?null:a.timeline[s.current_location].trial()},this.markCurrentTrialComplete=function(){void 0===a?s.done=!0:a.timeline[s.current_location].markCurrentTrialComplete()},this.nextRepetiton=function(){this.setTimelineVariablesOrder(),s.current_location=-1,s.current_variable_set=0,s.current_repetition++;for(var t=0;t<a.timeline.length;t++)a.timeline[t].reset()},this.setTimelineVariablesOrder=function(){if(void 0!==a&&void 0!==a.timeline_variables){for(var t=[],n=0;n<a.timeline_variables.length;n++)t.push(n);void 0!==a.sample&&("custom"==a.sample.type?t=a.sample.fn(t):"with-replacement"==a.sample.type?t=jsPsych.randomization.sampleWithReplacement(t,a.sample.size,a.sample.weights):"without-replacement"==a.sample.type?t=jsPsych.randomization.sampleWithoutReplacement(t,a.sample.size):"fixed-repetitions"==a.sample.type&&(t=jsPsych.randomization.repeat(t,a.sample.size,!1))),a.randomize_order&&(t=jsPsych.randomization.shuffle(t)),s.order=t}},this.nextSet=function(){s.current_location=-1,s.current_variable_set++;for(var t=0;t<a.timeline.length;t++)a.timeline[t].reset()},this.advance=function(){if(s.done)return!0;if(-1==s.current_location){if(void 0!==a)if(void 0!==a.conditional_function){if(0==a.conditional_function())return s.done=!0,!0;s.current_location=0}else s.current_location=0;return s.current_location=0,this.advance()}if(void 0!==a){for(var t=!1;s.current_location<a.timeline.length&&0==t;){if(!a.timeline[s.current_location].advance())return t=!0,!1;s.current_location++}return s.current_variable_set<s.order.length-1?(this.nextSet(),this.advance()):s.current_repetition<a.repetitions-1?(this.nextRepetiton(),this.advance()):void 0!==a.loop_function&&a.loop_function(this.generatedData())?(this.reset(),i.advance()):(s.done=!0,!0)}},this.isComplete=function(){return s.done},this.getTimelineVariableValue=function(t){if(void 0!==a)return a.timeline_variables[s.order[s.current_variable_set]][t]},this.findTimelineVariable=function(t){var n=this.getTimelineVariableValue(t);return void 0===n?void 0!==i?i.findTimelineVariable(t):void 0:n},this.timelineVariable=function(t){return void 0===a?this.findTimelineVariable(t):a.timeline[s.current_location].timelineVariable(t)},this.length=function(){var t=0;if(void 0===a)return 1;for(var n=0;n<a.timeline.length;n++)t+=a.timeline[n].length();return t},this.percentComplete=function(){for(var t=this.length(),n=0,e=0;e<a.timeline.length;e++)a.timeline[e].isComplete()&&(n+=a.timeline[e].length());return n/t*100},this.reset=function(){if(s.current_location=-1,s.current_repetition=0,s.current_variable_set=0,s.current_iteration++,s.done=!1,this.setTimelineVariablesOrder(),void 0!==a)for(var t=0;t<a.timeline.length;t++)a.timeline[t].reset()},this.end=function(){s.done=!0},this.endActiveNode=function(){void 0===a?(this.end(),i.end()):a.timeline[s.current_location].endActiveNode()},this.ID=function(){var t="";return void 0===i?"0."+s.current_iteration:(t+=i.ID()+"-",t+=r+"."+s.current_iteration)},this.activeID=function(){return void 0===a?this.ID():a.timeline[s.current_location].activeID()},this.generatedData=function(){return jsPsych.data.getDataByTimelineNode(this.ID())},this.trialsOfType=function(t){if(void 0===a)return o.type==t?o:[];for(var n=[],e=0;e<a.timeline.length;e++){var r=a.timeline[e].trialsOfType(t);n=n.concat(r)}return n},this.insert=function(t){void 0===a?console.error("Cannot add new trials to a trial-level node."):a.timeline.push(new p(Object.assign({},u,t),l,a.timeline.length))};!function(){if(i=n,r=void 0===n?0:e,void 0!==t.timeline||"function"==typeof jsPsych.plugins[f]){a={timeline:[],loop_function:t.loop_function,conditional_function:t.conditional_function,sample:t.sample,randomize_order:void 0!==t.randomize_order&&t.randomize_order,repetitions:void 0===t.repetitions?1:t.repetitions,timeline_variables:void 0===t.timeline_variables?[{}]:t.timeline_variables},l.setTimelineVariablesOrder();var s=Object.assign({},t);delete s.timeline,delete s.conditional_function,delete s.loop_function,delete s.randomize_order,delete s.repetitions,delete s.timeline_variables,delete s.sample,u=s;for(var c=0;c<t.timeline.length;c++)a.timeline.push(new p(Object.assign({},s,t.timeline[c]),l,c))}else{var f=t.type;void 0===f?console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(t)):void 0===jsPsych.plugins[f]&&"function(){returntimeline.timelineVariable(varname);}"!=f.toString().replace(/\s/g,"")&&console.error('No plugin loaded for trials of type "'+f+'"'),o=Object.assign({},t)}}()}function d(){f=!0,!0===o.show_progress_bar&&document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>Completion Progress</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>'),r=new Date,t.advance(),m(t.trial())}function v(){if(l)c=!0;else{a++,t.markCurrentTrialComplete();var n=t.advance();if(!0===o.show_progress_bar&&1==o.auto_update_progress_bar&&function(){var t=jsPsych.progress();document.querySelector("#jspsych-progressbar-inner").style.width=t.percent_complete+"%"}(),n)return void 0!==t.end_message&&(e.innerHTML=t.end_message),void o.on_finish(jsPsych.data.get());m(t.trial())}}function m(t){u=t,s=!1,function t(n){for(var e=Object.keys(n),r=0;r<e.length;r++)"function"==typeof n[e[r]]&&"function(){returntimeline.timelineVariable(varname);}"==n[e[r]].toString().replace(/\s/g,"")&&(n[e[r]]=n[e[r]].call()),"object"==typeof n[e[r]]&&null!==n[e[r]]&&t(n[e[r]])}(t),function(t){"function"==typeof t.type&&(t.type=t.type.call());for(var n=Object.keys(t),e=0;e<n.length;e++)"type"!==n[e]&&(void 0!==jsPsych.plugins.universalPluginParameters[n[e]]&&jsPsych.plugins.universalPluginParameters[n[e]].type!==jsPsych.plugins.parameterType.FUNCTION||void 0!==jsPsych.plugins[t.type].info.parameters[n[e]]&&jsPsych.plugins[t.type].info.parameters[n[e]].type!==jsPsych.plugins.parameterType.FUNCTION)&&"function"==typeof t[n[e]]&&(t[n[e]]=t[n[e]].call())}(t),function(t){for(var n=Object.keys(jsPsych.plugins[t.type].info.parameters),e=0;e<n.length;e++)void 0!==t[n[e]]&&null!==t[n[e]]||(void 0===jsPsych.plugins[t.type].info.parameters[n[e]].default?console.error("You must specify a value for the "+n[e]+" parameter in the "+t.type+" plugin."):t[n[e]]=jsPsych.plugins[t.type].info.parameters[n[e]].default)}(t),o.on_trial_start(t),"function"==typeof t.on_start&&t.on_start(t),n.focus(),e.scrollTop=0,jsPsych.plugins[t.type].trial(e,t),"function"==typeof t.on_load&&t.on_load()}return i.webaudio_context=null,"undefined"!=typeof window&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext),i.webaudio_context="undefined"!=typeof window&&void 0!==window.AudioContext?new AudioContext:null,i.ALL_KEYS="allkeys",i.NO_KEYS="none",i.init=function(r){void 0===r.timeline&&console.error("No timeline declared in jsPsych.init. Cannot start experiment."),t=null,a=0,u={},s=!1,l=!1,c=!1,f=!1,h=!1,jsPsych.data.reset();var v={display_element:void 0,on_finish:function(t){},on_trial_start:function(t){},on_trial_finish:function(){},on_data_update:function(t){},on_interaction_data_update:function(t){},preload_images:[],preload_audio:[],use_webaudio:!0,exclusions:{},show_progress_bar:!1,auto_update_progress_bar:!0,auto_preload:!0,show_preload_progress_bar:!0,max_load_time:6e4,max_preload_attempts:10,default_iti:0};if(void 0===(o=Object.assign({},v,r)).display_element){null===document.querySelector("body")&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",o.display_element=document.querySelector("body")}else{if(o.display_element instanceof Element)var m=o.display_element;else m=document.querySelector("#"+o.display_element);null===m?console.error("The display_element specified in jsPsych.init() does not exist in the DOM."):o.display_element=m}o.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',n=o.display_element,e=document.querySelector("#jspsych-content"),o.display_element.tabIndex=0,-1==o.display_element.className.indexOf("jspsych-display-element")&&(o.display_element.className+=" jspsych-display-element"),e.className+="jspsych-content",t=new p({timeline:o.timeline}),jsPsych.pluginAPI.initAudio(),jsPsych.pluginAPI.reset(o.display_element),jsPsych.pluginAPI.createKeyboardEventListeners(o.display_element),jsPsych.data.createInteractionListeners(),function t(n,e,r){var o=!0;if(void 0!==n.min_width||void 0!==n.min_height){var a=void 0!==n.min_width?n.min_width:0,u=void 0!==n.min_height?n.min_height:0,s=window.innerWidth,l=window.innerHeight;if(s<a||l<u){o=!1;var c=setInterval((function(){var o=window.innerWidth,s=window.innerHeight;if(o<a||s<u){var l="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+a+"px. Your current width is "+o+"px.</p><p>The minimum height is "+u+"px. Your current height is "+s+"px.</p>";i.getDisplayElement().innerHTML=l}else clearInterval(c),i.getDisplayElement().innerHTML="",t(n,e,r)}),100);return}}if(void 0!==n.audio&&n.audio&&!window.hasOwnProperty("AudioContext")&&!window.hasOwnProperty("webkitAudioContext")){o=!1;return i.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",void r()}o&&e()}(o.exclusions,(function(){o.auto_preload?(jsPsych.pluginAPI.autoPreload(t,d,o.preload_images,o.preload_audio,o.show_preload_progress_bar),o.max_load_time>0&&setTimeout((function(){f||h||i.loadFail()}),o.max_load_time)):d()}),(function(){}))},i.progress=function(){var n=void 0===t?0:t.percentComplete();return{total_trials:void 0===t?void 0:t.length(),current_trial_global:a,percent_complete:n}},i.startTime=function(){return r},i.totalTime=function(){return void 0===r?0:(new Date).getTime()-r.getTime()},i.getDisplayElement=function(){return e},i.getDisplayContainerElement=function(){return n},i.finishTrial=function(t){if(!s){s=!0,t=void 0===t?{}:t,jsPsych.data.write(t);var n=jsPsych.data.get().filter({trial_index:a}).values()[0];"function"==typeof u.on_finish&&u.on_finish(n),o.on_trial_finish(n),o.on_data_update(n),null===typeof u.post_trial_gap?o.default_iti>0?setTimeout(v,o.default_iti):v():u.post_trial_gap>0?setTimeout(v,u.post_trial_gap):v()}},i.endExperiment=function(n){t.end_message=n,t.end(),jsPsych.pluginAPI.cancelAllKeyboardResponses(),jsPsych.pluginAPI.clearAllTimeouts(),i.finishTrial()},i.endCurrentTimeline=function(){t.endActiveNode()},i.currentTrial=function(){return u},i.initSettings=function(){return o},i.currentTimelineNodeID=function(){return t.activeID()},i.timelineVariable=function(n,e){return e?t.timelineVariable(n):function(){return t.timelineVariable(n)}},i.addNodeToEndOfTimeline=function(n,e){t.insert(n),"undefinded"!=typeof e&&(o.auto_preload?jsPsych.pluginAPI.autoPreload(t,e):e())},i.pauseExperiment=function(){l=!0},i.resumeExperiment=function(){l=!1,c&&(c=!1,v())},i.loadFail=function(t){t=t||"<p>The experiment failed to load.</p>",h=!0,e.innerHTML=t},i.setProgressBar=function(t){t=Math.max(Math.min(1,t),0),document.querySelector("#jspsych-progressbar-inner").style.width=100*t+"%"},document.documentElement.setAttribute("jspsych","present"),i}(),jsPsych.plugins=((La={parameterType:{BOOL:0,STRING:1,INT:2,FLOAT:3,FUNCTION:4,KEYCODE:5,SELECT:6,HTML_STRING:7,IMAGE:8,AUDIO:9,VIDEO:10,OBJECT:11,COMPLEX:12}}).universalPluginParameters={data:{type:La.parameterType.OBJECT,pretty_name:"Data",default:{},description:"Data to add to this trial (key-value pairs)"},on_start:{type:La.parameterType.FUNCTION,pretty_name:"On start",default:function(){},description:"Function to execute when trial begins"},on_finish:{type:La.parameterType.FUNCTION,pretty_name:"On finish",default:function(){},description:"Function to execute when trial is finished"},on_load:{type:La.parameterType.FUNCTION,pretty_name:"On load",default:function(){},description:"Function to execute after the trial has loaded"},post_trial_gap:{type:La.parameterType.INT,pretty_name:"Post trial gap",default:null,description:"Length of gap between the end of this trial and the start of the next trial"}},La),jsPsych.data=function(){var t,n={},e=o(),r=o(),i={};function o(t){var n={},e=void 0===t?[]:t;return n.push=function(t){return e.push(t),n},n.join=function(t){return e=e.concat(t.values()),n},n.top=function(){return e.length<=1?n:o([e[e.length-1]])},n.first=function(t){void 0===t&&(t=1);for(var n=[],r=0;r<t;r++)n.push(e[r]);return o(n)},n.last=function(t){void 0===t&&(t=1);for(var n=[],r=e.length-t;r<e.length;r++)n.push(e[r]);return o(n)},n.values=function(){return e},n.count=function(){return e.length},n.readOnly=function(){return o(jsPsych.utils.deepCopy(e))},n.addToAll=function(t){for(var r=0;r<e.length;r++)for(var i in t)e[r][i]=t[i];return n},n.addToLast=function(t){if(0!=e.length)for(var r in t)e[e.length-1][r]=t[r];return n},n.filter=function(t){if(Array.isArray(t))n=jsPsych.utils.deepCopy(t);else var n=jsPsych.utils.deepCopy([t]);for(var r=[],i=0;i<e.length;i++){for(var a=!1,u=0;u<n.length;u++){for(var s=!0,l=Object.keys(n[u]),c=0;c<l.length;c++)void 0!==e[i][l[c]]&&e[i][l[c]]==n[u][l[c]]||(s=!1);if(s){a=!0;break}}a&&r.push(e[i])}return o(r)},n.filterCustom=function(t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return o(n)},n.select=function(t){for(var n=[],r=0;r<e.length;r++)void 0!==e[r][t]&&n.push(e[r][t]);var i=function t(){var n={values:[]};return n.sum=function(){for(var t=0,e=0;e<n.values.length;e++)t+=n.values[e];return t},n.mean=function(){return n.sum()/n.count()},n.median=function(){if(0!=n.values.length){var t=n.values.slice(0).sort((function(t,n){return t-n})),e=Math.floor(t.length/2);return t.length%2==0?(t[e]+t[e-1])/2:t[e]}},n.min=function(){return Math.min.apply(null,n.values)},n.max=function(){return Math.max.apply(null,n.values)},n.count=function(){return n.values.length},n.variance=function(){for(var t=n.mean(),e=0,r=0;r<n.values.length;r++)e+=Math.pow(n.values[r]-t,2);return e/n.values.length},n.sd=function(){var t=n.variance();return Math.sqrt(t)},n.frequencies=function(){for(var t={},e=0;e<n.values.length;e++){var r=n.values[e];void 0===t[r]?t[r]=1:t[r]++}return t},n.all=function(t){for(var e=0;e<n.values.length;e++)if(!t(n.values[e]))return!1;return!0},n.subset=function(e){for(var r=[],i=0;i<n.values.length;i++)e(n.values[i])&&r.push(n.values[i]);var o=t();return o.values=r,o},n}();return i.values=n,i},n.ignore=function(t){Array.isArray(t)||(t=[t]);for(var n=jsPsych.utils.deepCopy(e),r=0;r<n.length;r++)for(var i in t)delete n[r][t[i]];return o(n)},n.uniqueNames=function(){for(var t=[],n=0;n<e.length;n++)for(var r=Object.keys(e[n]),i=0;i<r.length;i++)t.includes(r[i])||t.push(r[i]);return t},n.csv=function(){return function(t){for(var n="object"!=typeof t?JSON.parse(t):t,e="",r="",i=[],o=0,a=0;a<n.length;a++)for(var u in n[a]){var s=u+"";s='"'+s.replace(/"/g,'""')+'",',i.includes(u)||(i[o]=u,e+=s,o++)}e=e.slice(0,-1),r+=e+"\r\n";for(o=0;o<n.length;o++){for(e="",a=0;a<i.length;a++){var l=void 0===n[o][i[a]]?"":n[o][i[a]];e+='"'+(l+"").replace(/"/g,'""')+'",'}e=e.slice(0,-1),r+=e+"\r\n"}return r}(e)},n.json=function(t){return t?JSON.stringify(e,null,"\t"):JSON.stringify(e)},n.localSave=function(t,e){var r;if("JSON"==t||"json"==t)r=n.json();else{if("CSV"!=t&&"csv"!=t)throw new Error('Invalid format specified for localSave. Must be "JSON" or "CSV".');r=n.csv()}!function(t,n){var e=new Blob([t],{type:"text/plain"}),r="";r=void 0!==window.webkitURL?window.webkitURL.createObjectURL(e):window.URL.createObjectURL(e);jsPsych.getDisplayElement().insertAdjacentHTML("beforeend",'<a id="jspsych-download-as-text-link" style="display:none;" download="'+n+'" href="'+r+'">click to download</a>'),document.getElementById("jspsych-download-as-text-link").click()}(r,e)},n}function a(){var t=window.location.search.substr(1).split("&");if(""==t)return{};for(var n={},e=0;e<t.length;++e){var r=t[e].split("=",2);1==r.length?n[r[0]]="":n[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return n}return n.reset=function(){e=o(),r=o()},n.get=function(){return e},n.getInteractionData=function(){return r},n.write=function(t){var n=jsPsych.progress(),r=jsPsych.currentTrial(),o={trial_type:r.type,trial_index:n.current_trial_global,time_elapsed:jsPsych.totalTime(),internal_node_id:jsPsych.currentTimelineNodeID()},a=Object.assign({},t,r.data,o,i);e.push(a)},n.addProperties=function(t){e.addToAll(t),i=Object.assign({},i,t)},n.addDataToLastTrial=function(t){e.addToLast(t)},n.getDataByTimelineNode=function(t){return e.filterCustom((function(n){return n.internal_node_id.slice(0,t.length)===t}))},n.getLastTrialData=function(){return e.top()},n.getLastTimelineData=function(){var t=n.getLastTrialData().select("internal_node_id").values[0];if(void 0===t)return o();var e=t.substr(0,t.lastIndexOf("-"));return n.getDataByTimelineNode(e)},n.displayData=function(t){var n;"json"!=(t=void 0===t?"json":t.toLowerCase())&&"csv"!=t&&(console.log("Invalid format declared for displayData function. Using json as default."),t="json"),n="json"==t?e.json(!0):e.csv(),jsPsych.getDisplayElement().innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=n},n.urlVariables=function(){return void 0===t&&(t=a()),t},n.getURLVariable=function(n){return void 0===t&&(t=a()),t[n]},n.createInteractionListeners=function(){function t(){var t={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen?"fullscreenenter":"fullscreenexit",trial:jsPsych.progress().current_trial_global,time:jsPsych.totalTime()};r.push(t),jsPsych.initSettings().on_interaction_data_update(t)}window.addEventListener("blur",(function(){var t={event:"blur",trial:jsPsych.progress().current_trial_global,time:jsPsych.totalTime()};r.push(t),jsPsych.initSettings().on_interaction_data_update(t)})),window.addEventListener("focus",(function(){var t={event:"focus",trial:jsPsych.progress().current_trial_global,time:jsPsych.totalTime()};r.push(t),jsPsych.initSettings().on_interaction_data_update(t)})),document.addEventListener("fullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("webkitfullscreenchange",t)},n._customInsert=function(t){e=o(t)},n._fullreset=function(){n.reset(),i={}},n}(),jsPsych.turk=function(){var t={turkInfo:function(){var t={},n=function(t,n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(t);return null==e?"":e[1]},e=n(window.location.href,"assignmentId")?window.location.href:document.referrer;return["assignmentId","hitId","workerId","turkSubmitTo"].map((function(r){t[r]=unescape(n(e,r))})),t.previewMode="ASSIGNMENT_ID_NOT_AVAILABLE"==t.assignmentId,t.outsideTurk=!t.previewMode&&""===t.hitId&&""==t.assignmentId&&""==t.workerId,turk_info=t,t},submitToTurk:function(t){var n=jsPsych.turk.turkInfo(),e=n.assignmentId,r=n.turkSubmitTo;if(e&&r){var i=[];for(var o in t)t.hasOwnProperty(o)&&i.push(o+"="+escape(t[o]));i.push("assignmentId="+e);var a=r+"/mturk/externalSubmit?"+i.join("&");window.location.href=a}}};return t}(),jsPsych.randomization=function(){var t={};function n(t){for(var n,e,r=t.slice(0),i=r.length;i;)e=Math.floor(Math.random()*i--),n=r[i],r[i]=r[e],r[e]=n;return r}return t.repeat=function(t,e,r){var i=Array.isArray(t),o=Array.isArray(e);if(i)if(o){if(t.length!=e.length)if(console.warning("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),e.length<t.length){for(a=[],u=0;u<t.length;u++)a.push(e);e=a}else e=repetions.slice(0,t.length)}else{for(var a=[],u=0;u<t.length;u++)a.push(e);e=a}else o?(e=[e[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(t=[t],e=[e]);var s=[];for(u=0;u<t.length;u++)for(var l=0;l<e[u];l++)null==t[u]||"object"!=typeof t[u]?s.push(t[u]):s.push(Object.assign({},t[u]));var c=n(s);return r&&(c=function(t){for(var n={},e=0;e<t.length;e++)for(var r=Object.keys(t[e]),i=0;i<r.length;i++)void 0===n[r[i]]&&(n[r[i]]=[]),n[r[i]].push(t[e][r[i]]);return n}(c)),c},t.shuffle=function(t){return n(t)},t.shuffleNoRepeats=function(t,e){void 0===e&&(e=function(t,n){return t===n});for(var r=n(t),i=0;i<r.length-1;i++)if(e(r[i],r[i+1])){for(var o=Math.floor(Math.random()*(r.length-2))+1;e(r[i+1],r[o])||e(r[i+1],r[o+1])||e(r[i+1],r[o-1]);)o=Math.floor(Math.random()*(r.length-2))+1;var a=r[o];r[o]=r[i+1],r[i+1]=a}return r},t.sampleWithoutReplacement=function(t,n){return n>t.length&&console.error("Cannot take a sample larger than the size of the set of items to sample."),jsPsych.randomization.shuffle(t).slice(0,n)},t.sampleWithReplacement=function(t,n,e){var r=[];if(void 0!==e){e.length!==t.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");for(var i=0,o=0;o<e.length;o++)i+=e[o];for(o=0;o<e.length;o++)r.push(e[o]/i)}else for(o=0;o<t.length;o++)r.push(1/t.length);var a=[r[0]];for(o=1;o<r.length;o++)a.push(r[o]+a[o-1]);var u=[];for(o=0;o<n;o++){for(var s=Math.random(),l=0;s>a[l];)l++;u.push(t[l])}return u},t.factorial=function(n,e,r){for(var i=Object.keys(n),o=[],a=0;a<n[i[0]].length;a++)o.push({}),o[a][i[0]]=n[i[0]][a];for(a=1;a<i.length;a++){for(var u=n[i[a]],s=o.length,l=0;l<s;l++)for(var c=o[l],f=0;f<u.length;f++){var h={};h[i[a]]=u[f],o.push(Object.assign({},c,h))}o.splice(0,s)}return e=void 0===e?1:e,t.repeat(o,e,r)},t.randomID=function(t){for(var n="",e=(t=void 0===t?32:t,"0123456789abcdefghjklmnopqrstuvwxyz"),r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n},t}(),jsPsych.pluginAPI=function(){var t={},n=[],e={},r=function(t){for(var r=0;r<n.length;r++)n[r].fn(t);e[t.keyCode]=!0},i=function(t){e[t.keyCode]=!1};t.reset=function(t){n=[],e={},t.removeEventListener("keydown",r),t.removeEventListener("keyup",i)},t.createKeyboardEventListeners=function(t){t.addEventListener("keydown",r),t.addEventListener("keyup",i)},t.getKeyboardResponse=function(r){var i,o;r.rt_method=void 0===r.rt_method?"date":r.rt_method,"date"!=r.rt_method&&"performance"!=r.rt_method&&"audio"!=r.rt_method&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "date" method.'),r.rt_method="date"),"date"==r.rt_method?i=(new Date).getTime():"performance"==r.rt_method?i=performance.now():"audio"==r.rt_method&&(i=r.audio_context_start_time);return o={type:"keydown",fn:function(a){var u;"date"==r.rt_method?u=(new Date).getTime():"performance"==r.rt_method?u=performance.now():"audio"==r.rt_method&&(u=r.audio_context.currentTime);var s=!1;if(void 0===r.valid_responses||r.valid_responses==jsPsych.ALL_KEYS)s=!0;else if(r.valid_responses!=jsPsych.NO_KEYS)for(var l=0;l<r.valid_responses.length;l++)if("string"==typeof r.valid_responses[l]){var c=jsPsych.pluginAPI.convertKeyCharacterToKeyCode(r.valid_responses[l]);if(void 0===c)throw new Error("Invalid key string specified for getKeyboardResponse");a.keyCode==c&&(s=!0)}else a.keyCode==r.valid_responses[l]&&(s=!0);void 0!==r.allow_held_key&&r.allow_held_key||!s||void 0!==e[a.keyCode]&&1==e[a.keyCode]&&(s=!1),s&&(a.preventDefault(),r.callback_function({key:a.keyCode,rt:u-i}),n.includes(o)&&(r.persist||t.cancelKeyboardResponse(o)))}},n.push(o),o},t.cancelKeyboardResponse=function(t){n.includes(t)&&n.splice(n.indexOf(t),1)},t.cancelAllKeyboardResponses=function(){n=[]},t.convertKeyCharacterToKeyCode=function(t){var n;return t=t.toLowerCase(),void 0!==o[t]&&(n=o[t]),n},t.convertKeyCodeToKeyCharacter=function(t){for(var n in Object.keys(o))if(o[Object.keys(o)[n]]==t)return Object.keys(o)[n]},t.compareKeys=function(n,e){return"string"==typeof n&&(n=t.convertKeyCharacterToKeyCode(n)),"string"==typeof e&&(e=t.convertKeyCharacterToKeyCode(e)),n==e};var o={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,esc:27,space:32,spacebar:32," ":32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"0numpad":96,"1numpad":97,"2numpad":98,"3numpad":99,"4numpad":100,"5numpad":101,"6numpad":102,"7numpad":103,"8numpad":104,"9numpad":105,multiply:106,plus:107,minus:109,decimal:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,"=":187,",":188,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221},a=[];t.setTimeout=function(t,n){var e=setTimeout(t,n);return a.push(e),e},t.clearAllTimeouts=function(){for(var t=0;t<a.length;t++)clearTimeout(a[t]);a=[]};var u=null,s=[];t.initAudio=function(){u=1==jsPsych.initSettings().use_webaudio?jsPsych.webaudio_context:null},t.audioContext=function(){return null!==u&&"running"!==u.state&&u.resume(),u},t.getAudioBuffer=function(t){if("tmp"!=s[t])return s[t];console.error("Audio file failed to load in the time alloted.")};var l=[];return t.preloadAudioFiles=function(n,e,r){n=jsPsych.utils.flatten(n),n=jsPsych.utils.unique(n);var i=0,o=void 0===r?function(){}:r,a=void 0===e?function(){}:e;if(0!=n.length)for(var l=0;l<n.length;l++){var c=n[l];void 0!==s[c]?(i++,o(i),i==n.length&&a()):(s[c]="tmp",null!==t.audioContext()?f(c):h(c))}else a();function f(t,e){e=e||1;var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){u.decodeAudioData(r.response,(function(e){s[t]=e,i++,o(i),i==n.length&&a()}),(function(){console.error("Error loading audio file: "+c)}))},r.onerror=function(){e<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){f(t,e+1)}),200):jsPsych.loadFail()},r.send()}function h(t,e){e=e||1;var r=new Audio;r.addEventListener("canplaythrough",(function(){s[t]=r,i++,o(i),i==n.length&&a()})),r.addEventListener("onerror",(function(){e<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){h(t,e+1)}),200):jsPsych.loadFail()})),r.addEventListener("onstalled",(function(){e<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){h(t,e+1)}),200):jsPsych.loadFail()})),r.addEventListener("onabort",(function(){e<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){h(t,e+1)}),200):jsPsych.loadFail()})),r.src=t}},t.preloadImages=function(t,n,e){t=jsPsych.utils.flatten(t),t=jsPsych.utils.unique(t);var r=0,i=void 0===e?function(){}:e,o=void 0===n?function(){}:n;if(0!=t.length)for(var a=0;a<t.length;a++)u(t[a]);else o();function u(n,e){e=e||1;var a=new Image;a.onload=function(){r++,i(r),r==t.length&&o()},a.onerror=function(){e<jsPsych.initSettings().max_preload_attempts?setTimeout((function(){u(n,e+1)}),200):jsPsych.loadFail()},a.src=n}},t.registerPreload=function(t,n,e,r){"audio"!=e&&"image"!=e&&console.error("Invalid media_type parameter for jsPsych.pluginAPI.registerPreload. Please check the plugin file.");var i={plugin:t,parameter:n,media_type:e,conditional_function:r};l.push(i)},t.autoPreload=function(n,e,r,i,o){r=void 0===r?[]:r,i=void 0===i?[]:i;for(var a=0;a<l.length;a++)for(var u=l[a].plugin,s=l[a].parameter,c=l[a].media_type,f=l[a].conditional_function,h=n.trialsOfType(u),p=0;p<h.length;p++)void 0!==h[p][s]&&"function"!=typeof h[p][s]&&(void 0===f||f(h[p]))&&("image"==c?r=r.concat(jsPsych.utils.flatten([h[p][s]])):"audio"==c&&(i=i.concat(jsPsych.utils.flatten([h[p][s]]))));r=jsPsych.utils.unique(r),i=jsPsych.utils.unique(i),r=r.filter((function(t){return 0!=t&&null!=t})),i=i.filter((function(t){return 0!=t&&null!=t}));var d=r.length+i.length,v=0;if(o){"<div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div>","</div>",jsPsych.getDisplayElement().innerHTML="<div id='jspsych-loading-progress-bar-container' style='height: 10px; width: 300px; background-color: #ddd;'><div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div></div>"}function m(){if(v++,o){var t=v/d*100;jsPsych.getDisplayElement().querySelector("#jspsych-loading-progress-bar").style.width=t+"%"}}t.preloadImages(r,(function(){t.preloadAudioFiles(i,(function(){e()}),m)}),m)},t.hardware=function(t){var n=new CustomEvent("jspsych",{detail:t});document.dispatchEvent(n)},t.hardwareConnected=!1,document.addEventListener("jspsych-activate",(function(n){t.hardwareConnected=!0})),t}(),jsPsych.utils=function(){var t={flatten:function(n,e){e=void 0===e?[]:e;for(var r=0;r<n.length;r++)Array.isArray(n[r])?t.flatten(n[r],e):e.push(n[r]);return e},unique:function(t){for(var n=[],e=0;e<t.length;e++)t.indexOf(t[e])==e&&n.push(t[e]);return n},deepCopy:function(n){if(!n)return n;var e;if(Array.isArray(n)){e=[];for(var r=0;r<n.length;r++)e.push(t.deepCopy(n[r]));return e}if("object"==typeof n){for(var i in e={},n)n.hasOwnProperty(i)&&(e[i]=t.deepCopy(n[i]));return e}return n}};return t}(),"function"!=typeof Object.assign&&(Object.assign=function(t,n){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}),Array.prototype.includes||(Array.prototype.includes=function(t){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var n=Object(this),e=parseInt(n.length,10)||0;if(0===e)return!1;var r,i,o=parseInt(arguments[1],10)||0;for(o>=0?r=o:(r=e+o)<0&&(r=0);r<e;){if(t===(i=n[r])||t!=t&&i!=i)return!0;r++}return!1}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),jsPsych.plugins["html-keyboard-response"]=((qa={}).info={name:"html-keyboard-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed"},choices:{type:jsPsych.plugins.parameterType.KEYCODE,array:!0,pretty_name:"Choices",default:jsPsych.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show trial before it ends."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when subject makes a response."}}},qa.trial=function(t,n){var e='<div id="jspsych-html-keyboard-response-stimulus">'+n.stimulus+"</div>";null!==n.prompt&&(e+=n.prompt),t.innerHTML=e;var r={rt:null,key:null},i=function(){jsPsych.pluginAPI.clearAllTimeouts(),void 0!==o&&jsPsych.pluginAPI.cancelKeyboardResponse(o);var e={rt:r.rt,stimulus:n.stimulus,key_press:r.key};t.innerHTML="",jsPsych.finishTrial(e)};if(n.choices!=jsPsych.NO_KEYS)var o=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(e){t.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",null==r.key&&(r=e),n.response_ends_trial&&i()},valid_responses:n.choices,rt_method:"date",persist:!1,allow_held_key:!1});null!==n.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){t.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"}),n.stimulus_duration),null!==n.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){i()}),n.trial_duration)},qa),jsPsych.plugins["html-button-response"]=function(){var t={};return t.info={name:"html-button-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed"},choices:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Choices",default:void 0,array:!0,description:"The labels for the buttons."},button_html:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0,description:"The html of the button. Can create own style."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed under the button."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},margin_vertical:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin vertical",default:"0px",description:"The vertical margin of the button."},margin_horizontal:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin horizontal",default:"8px",description:"The horizontal margin of the button."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, then trial will end when user responds."}}},t.trial=function(t,n){var e='<div id="jspsych-html-button-response-stimulus">'+n.stimulus+"</div>",r=[];if(Array.isArray(n.button_html))n.button_html.length==n.choices.length?r=n.button_html:console.error("Error in html-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var i=0;i<n.choices.length;i++)r.push(n.button_html);e+='<div id="jspsych-html-button-response-btngroup">';for(i=0;i<n.choices.length;i++){var o=r[i].replace(/%choice%/g,n.choices[i]);e+='<div class="jspsych-html-button-response-button" style="display: inline-block; margin:'+n.margin_vertical+" "+n.margin_horizontal+'" id="jspsych-html-button-response-button-'+i+'" data-choice="'+i+'">'+o+"</div>"}e+="</div>",null!==n.prompt&&(e+=n.prompt),t.innerHTML=e;var a=Date.now();for(i=0;i<n.choices.length;i++)t.querySelector("#jspsych-html-button-response-button-"+i).addEventListener("click",(function(t){s(t.currentTarget.getAttribute("data-choice"))}));var u={rt:null,button:null};function s(e){var r=Date.now()-a;u.button=e,u.rt=r,t.querySelector("#jspsych-html-button-response-stimulus").className+=" responded";for(var i=document.querySelectorAll(".jspsych-html-button-response-button button"),o=0;o<i.length;o++)i[o].setAttribute("disabled","disabled");n.response_ends_trial&&l()}function l(){jsPsych.pluginAPI.clearAllTimeouts();var e={rt:u.rt,stimulus:n.stimulus,button_pressed:u.button};t.innerHTML="",jsPsych.finishTrial(e)}null!==n.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){t.querySelector("#jspsych-html-button-response-stimulus").style.visibility="hidden"}),n.stimulus_duration),null!==n.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){l()}),n.trial_duration)},t}(),jsPsych.plugins["survey-text"]=function(){var t={};return t.info={name:"survey-text",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",default:void 0,nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:void 0,description:"Prompt for the subject to response"},value:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Value",default:"",description:"The string will be used to populate the response field with editable answer."},rows:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Rows",default:1,description:"The number of rows for the response text box."},columns:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Columns",default:40,description:"The number of columns for the response text box."}}},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble",default:null,description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"The text that appears on the button to finish the trial."}}},t.trial=function(t,n){for(var e=0;e<n.questions.length;e++)void 0===n.questions[e].rows&&(n.questions[e].rows=1);for(e=0;e<n.questions.length;e++)void 0===n.questions[e].columns&&(n.questions[e].columns=40);for(e=0;e<n.questions.length;e++)void 0===n.questions[e].value&&(n.questions[e].value="");var r="";null!==n.preamble&&(r+='<div id="jspsych-survey-text-preamble" class="jspsych-survey-text-preamble">'+n.preamble+"</div>");for(e=0;e<n.questions.length;e++){r+='<div id="jspsych-survey-text-"'+e+'" class="jspsych-survey-text-question" style="margin: 2em 0em;">',r+='<p class="jspsych-survey-text">'+n.questions[e].prompt+"</p>";var i=0==e?"autofocus":"";1==n.questions[e].rows?r+='<input type="text" name="#jspsych-survey-text-response-'+e+'" size="'+n.questions[e].columns+'" value="'+n.questions[e].value+'" '+i+"></input>":r+='<textarea name="#jspsych-survey-text-response-'+e+'" cols="'+n.questions[e].columns+'" rows="'+n.questions[e].rows+'" '+i+">"+n.questions[e].value+"</textarea>",r+="</div>"}r+='<button id="jspsych-survey-text-next" class="jspsych-btn jspsych-survey-text">'+n.button_label+"</button>",t.innerHTML=r,t.querySelector("#jspsych-survey-text-next").addEventListener("click",(function(){for(var n=(new Date).getTime()-o,e={},r=t.querySelectorAll("div.jspsych-survey-text-question"),i=0;i<r.length;i++){var a="Q"+i,u=r[i].querySelector("textarea, input").value,s={};s[a]=u,Object.assign(e,s)}var l={rt:n,responses:JSON.stringify(e)};t.innerHTML="",jsPsych.finishTrial(l)}));var o=(new Date).getTime()},t}(),jsPsych.plugins["survey-multi-choice"]=function(){var t={};return t.info={name:"survey-multi-choice",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:void 0,description:"The strings that will be associated with a group of options."},options:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Options",array:!0,default:void 0,description:"Displays options for an individual question."},required:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Required",default:!1,description:"Subject will be required to pick an option for each question."},horizontal:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Horizontal",default:!1,description:"If true, then questions are centered and options are displayed horizontally."}}},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble",default:null,description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"Label of the button."}}},t.trial=function(t,n){var e="jspsych-survey-multi-choice",r=function(){var t=Array.prototype.slice.call(arguments,r.length);return t.join("-")};console.log("yoyo"),console.log(r()),t.innerHTML='<style id="jspsych-survey-multi-choice-css"></style>';t.querySelector("#jspsych-survey-multi-choice-css").innerHTML=".jspsych-survey-multi-choice-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-choice-text span.required {color: darkred;}.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-text {  text-align: center;}.jspsych-survey-multi-choice-option { line-height: 2; }.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-choice-text input[type='radio'] {margin-right: 1em;}";var i=r(e,"form");t.innerHTML+='<form id="'+i+'"></form>';var o=t.querySelector("#"+i),a=r(e,"preamble");null!==n.preamble&&(o.innerHTML+='<div id="'+a+'" class="'+a+'">'+n.preamble+"</div>");for(var u=0;u<n.questions.length;u++){var s=[r(e,"question")];n.questions[u].horizontal&&s.push(r(e,"horizontal")),o.innerHTML+='<div id="'+r(e,u)+'" class="'+s.join(" ")+'"></div>';var l=r("#jspsych-survey-multi-choice",u);t.querySelector(l).innerHTML+='<p class="'+e+'-text survey-multi-choice">'+n.questions[u].prompt+"</p>";for(var c=0;c<n.questions[u].options.length;c++){var f=r(e,"option",u,c);t.querySelector(l).innerHTML+='<div id="'+f+'" class="'+r(e,"option")+'"></div>';var h=document.getElementById(f),p=r(e,"response",u),d=r(e,"response",u,c),v=document.createElement("label");v.setAttribute("class",e+"-text"),v.innerHTML=n.questions[u].options[c],v.setAttribute("for",d);var m=document.createElement("input");m.setAttribute("type","radio"),m.setAttribute("name",p),m.setAttribute("id",d),m.setAttribute("value",n.questions[u].options[c]),h.appendChild(v),h.insertBefore(m,v)}n.questions[u].required&&(t.querySelector(l+" p").innerHTML+="<span class='required'>*</span>",t.querySelector(l+" input[type=radio]").required=!0)}o.innerHTML+='<input type="submit" id="'+e+'-next" class="'+e+' jspsych-btn"'+(n.button_label?' value="'+n.button_label+'"':"")+"></input>",o.addEventListener("submit",(function(n){n.preventDefault();for(var r=t.querySelectorAll("div."+e+"-question"),i=(new Date).getTime()-y,o={},a=(r=t.querySelectorAll("div."+e+"-question"),0);a<r.length;a++){var u=r[a],s="Q"+a;if(null!==u.querySelector("input[type=radio]:checked"))var l=u.querySelector("input[type=radio]:checked").value;else l="";var c={};c[s]=l,Object.assign(o,c)}var f={rt:i,responses:JSON.stringify(o)};t.innerHTML="",jsPsych.finishTrial(f)}));var y=(new Date).getTime()},t}();const Va=4;function Ya(t,n,e){let r,i,o,a;s(t,Ao,t=>e(7,r=t)),s(t,Mo,t=>e(2,i=t)),s(t,ko,t=>e(3,o=t)),s(t,To,t=>e(4,a=t));gt[0].paths;let u=jsPsych.randomization.randomID(15),l=jsPsych.randomization.sampleWithoutReplacement(["conditionA","conditionB","conditionC"],1)[0];jsPsych.data.addProperties({subject:u,condition:l});let c={type:"html-button-response",stimulus:'<div class="text-block"><h1>Call for participants</h1>\n\t\t\t\t\t\t\t    <p>\n\t\t\t\t\t\t\t\t\tThe VISUS Research Centre at University of Stuttgart is looking for online participants\n\t\t\t\t\t\t\t\t\tfor a visualization and analysis study. </p>\n                                 <p>\n                                    We are applying algorithms that find similarities in images on a series of datasets and want to find out whether humans find the results good or bad.</p>\n                                <p>\n                                    The study consists of:\n                                    <ul>\n                                        <li>informed consent agreement,</li>\n                                        <li>instructions for the task,</li>\n                                        <li>a pre-participation survey that will assess your experience with this type of task,</li>\n                                        <li>a series of trials where you are asked to analyse some scatterplots depicting the results of some Machine Learning algorithms and choose the best result.</li>\n                                        <li>a post-trial survey, where we will ask you for feedback on the task.</li>\n                                    </ul>\n                                </p>\n\n                                <p>\n                                    The requirements are:\n                                    <ul>\n                                        <li> You are at least 18 years old.</li>\n                                        <li> You speak fluent English.</li>\n                                        <li> Your screen-size is at least 800x600 pixels.</li>\n                                        <li> You have some experience with data analysis tasks (e.g. analysing charts and extracting information from them).</li>\n                                    </ul>\n\n                                </p>\n\n                                <p>\n                                    The task is estimated to take between 30 minutes and 1 hour.\n\n                                </p><p>Press start to begin.</p></div>',choices:["Start Study"],prompt:"<br><br>"},f={type:"html-button-response",stimulus:'<div class="text-block"><h1>We need your consent to proceed</h1>\n                <hr>\n                <div class="legal well">\n                    <p> Dear prospective participant, </p>\n                    <p>\n                        We would like to invite you to participate in the following study within the scope of the\n                        research carried out at the Collaborative Research Center/Transregio 161 (SFB-TRR 161). </p>\n                     <p>\n                        In particular, we analyze the perception humans have of the results of various algorithms that seek to imitate human perception of similarity.\n                    </p>\n                    <p>\n                        In the current study, „Evaluation of Dimensionality Reduction\n                        Techniques for Image-based Data“, you will be required to analyse and select preferences\n                        for a series of visualizations of algorithms applied on image data.\n                    </p>\n                    <p>\n                        Detailed instructions will follow after this screen.\n                    </p>\n\n                    <p>\n                        <iframe src="./Consent.pdf" style="width:80%; height:600px;"\n                            frameborder="0"></iframe>\n                    </p>\n\n                    <p>\n                       By clicking \'I accept!\', you are giving your informed consent to participate in this study.                     </p>\n                </div> <div>',choices:["I accept!"],prompt:"<br><br>"},h={type:"html-button-response",stimulus:"<div class=\"text-block\"> \n\n<h1>Dimensionality reduction on image-based datasets</h1>\n<p>\nThis experiment aims at gathering data about what users consider to be “good” or “”bad/misleading” visualizations. \nMore specifically we are interested in finding out user preferences regarding <b>projections of dimensionality reduction algorithms</b>. \n</p>\n<br>\n\n<h3>What is Dimensionality Reduction?</h3>\n<p>\nDimensionality reduction (DR) refers to algorithms that reduce the number of dimensions (features) in a dataset, with minimal information loss. In this study, the dataset consists of images, and the DR projection result is a set of 2D coordinates, one for each image. This result can be visualized in a scatterplot, where each point represents an image from the dataset. Below you can see an example. \n</p>\n<img class='instructions' src='./dr_example.png'>\n<p>\nA good DR technique reduces data by maintaining similarity between items. This means that if two images are very similar they should be plot close to each other. Different DR algorithms define similarity differently, and for this reason we have many different scatterplots with different DR results. \n</p>\n\n<p>In this study, we want you to analyse a group of scatterplots depicting these projections and decide which ones are good, and which ones are bad. <b>You do not need to have any additional knowledge about DR!</b></p>\n\n<p>In the next page we will explain the user interface of the study.</p>\n\n</div>",choices:["Continue"],prompt:"<br><br>"},p={type:"html-button-response",stimulus:"<div class=\"text-block\"> \n\n<h1>User Interface</h1>\n<p>\nWe will rate your preferences on a dataset-by-dataset basis. Below you can see an example of what this dataset might be and how the interface looks like. In this case, the dataset consists of photographs of the same head captured from different angles. There are 8 scatterplots, each corresponding to a projection of a DR algorithm technique. \n</p>\n<br>\n<img class='instructions' src='./grid_example.png'>\n\n<h3>Think of this as a game with the following rules:</h3>\n</div>",choices:["Rule 1 & 2"],prompt:"<br><br>"},d={type:"html-button-response",stimulus:"<div class=\"text-block\"> \n\n<h1>User Interface</h1>\n<h3>Rule 1:</h3>\n\n<p>Your job is to distribute 15 hearts/points across the 8 projections. You do not need to distribute all the hearts. </p>\n<h3>Rule 2:</h3>\n<p>Some projections might be bad (i.e. where points can be randomly scattered), or misleading (i.e. clusters forming when there should no be clusters), or they might have other issues that you identify.  If this is the case, please mark the projections as bad by selecting the crossed heart symbol. You may leave a comment to any scatterplot, good or bad, by clicking the text box.</p>\n<img class='instructions' src='./rule_1.gif'></div>",choices:["Rule 3"],prompt:"<br><br>"},v={type:"html-button-response",stimulus:"<div class=\"text-block\"> \n\n<h1>User Interface</h1>\n<h3>Rule 3:</h3>\n\n<p>Each scatterplot can be enlarged for better analysis! You can also zoom in and hover over the points.</p>\n<img class='instructions' src='./rule_3.gif'></div>",choices:["Rule 4"],prompt:"<br><br>"},m={type:"html-button-response",stimulus:"<div class=\"text-block\"> \n\n<h1>User Interface</h1>\n<h3>Rule 4:</h3>\n\n<p>After each rating, we recommend you to click the sort button, which will sort the scatterplots by your rating. We want you to really compare the projections and rate or re-rate so that the sorted list is arranged from best to worst. This is also the reason why you have a limited number of hearts to assign: we want to avoid someone rating everything 4-stars or everything with one stars. </p>\n<img class='instructions' src='./sort.gif'></div>",choices:["Rule 5"],prompt:"<br><br>"},y={type:"html-button-response",stimulus:"<div class=\"text-block\"> \n\n<h1>User Interface</h1>\n<h3>Final thing:</h3>\n\n<p>We have also implemented an additional view where we plot each image as a point. The points are color coded by class labels. This is an auxiliery view you may use to consolite your opinion of the projection. We do however advise you should make your decision based on the image view, as class labels might not always make sense. </p>\n<img class='instructions' src='./color_view.gif'></div>",choices:["Continue"],prompt:"<br><br>"},g={type:"html-button-response",stimulus:'<div class="text-block"> \n\n<h1>How long will this take?</h1>\n<p> In total we have 10 datasets, consisting of collections of photos. After each trial you will be asked if you want to continue.</p> <p>If you say no, you will be directed to the final debrief questionairre. </p><p>However, it would be really nice if you solve 5 or more! in any case, we promise beer and/or chocolate for your help! </p></div>',choices:["Alright, let's start!"],prompt:"<br><br>"};var _={type:"survey-text",questions:[{prompt:'<div class="text-block">Type in here your name or email. <br> This is only so we can contact you in case we have questions about your answers. <br>You may also just input a random name if you don\'t want to be contacted further.</div>',columns:100,required:!0,name:"Name"}],randomize_question_order:!1,prompt:"<br><br>"},b={type:"survey-multi-choice",questions:[{prompt:"<div class='text-block'> <b>What is the most recent academic degree you graduated from? </b></div>",options:["High School","Bachelor","Master","PhD","Other"],horizontal:!0,required:!0,name:"degree"},{prompt:"<div class='text-block'> <b>What is your experience with Machine Learning?</b></div>",options:["Never heard of this","I know the basics","I work in the field","I'm an expert in the field","Prefer not to say"],horizontal:!0,required:!0,name:"ML"},{prompt:"<div class='text-block'> <b>What is your experience with information Visualization?</b></div>",options:["Never heard of this","I know the basics","I work in the field","I'm an expert in the field","Prefer not to say"],horizontal:!0,required:!0,name:"infovis"},{prompt:"<div class='text-block'> <b>What is your experience with dimensionality reduction?</b></div>",options:["Never heard of this","I know the basics","I use it in my work","I propose/research DR techniques","Prefer not to say"],horizontal:!0,required:!0,name:"dr"},{prompt:"<div class='text-block'> <b>Have you analysed scatterplots before?</b></div>",options:["Never","Yes, but only informally (in newspapers, media etc.)","I made a scatterplot before with my own data","I'm an expert when it comes to scatterplots","Prefer not to say"],horizontal:!0,required:!0,name:"scatter"}]};let w=null;var x=0,j={timeline:[{type:"html-button-response",stimulus:()=>{const t=jsPsych.randomization.sampleWithoutReplacement(gt,1)[0],n=jsPsych.randomization.sampleWithoutReplacement(t.paths,2*Va);return jo.load(jo,n),e(0,w="dr_grid"),"<p>You may hover over the points, or zoom in and out particular scatterplots.</p><p class='description'>"+t.description+"</p>"},choices:["Another Dataset","Finish Session"],timing_post_trial:400,on_finish(t){t.dataset=r.map(t=>({name:t.name,pos:t.pos_count,neg:t.neg_count,comment:t.comment}))}}],loop_function:t=>(console.log(t.values()[0].button_pressed),"0"==t.values()[0].button_pressed&&x<10?(x++,console.log(x),!0):(e(0,w="debrief"),!1))},k={type:"survey-multi-choice",questions:[{prompt:"<div class='text-block'> <b>How difficult was the task? </b></div>",options:["Very Easy","Easy","Medium","Hard","Very difficult","I was confused the entire time"],horizontal:!0,required:!0,name:"difficulty"},{prompt:"<div class='text-block'> <b>Did the task become easier over time?</b></div>",options:["Yes","No","I don't know"],horizontal:!0,required:!0,name:"learning"},{prompt:"<div class='text-block'> <b>Did you experience different degree of difficulty based on the dataset?</b></div>",options:["Yes","No","I don't know"],horizontal:!0,required:!0,name:"learning"}]},T={type:"survey-text",questions:[{prompt:'<div class="text-block">Do you have any other comments or feedback?.</div>',columns:100,rows:5,required:!0,name:"Name"}],randomize_question_order:!1,prompt:"<br><br>"};let A;return D(()=>{jsPsych.init({display_element:"task",exclusions:{min_width:800,min_height:600},on_trial_start:t=>{},on_interaction_data_update:t=>{console.log(JSON.stringify(t))},show_progress_bar:!0,auto_update_progress_bar:!0,timeline:[c,f,h,p,d,v,m,y,g,_,b,j,k,T],on_finish(){console.log("yo yo"),e(0,w="finish")}})}),[w,A,i,o,a,function(t){B[t?"unshift":"push"](()=>{A=t,e(1,A)})}]}return new class extends yt{constructor(t){super(),mt(this,t,Ya,Wa,a,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
